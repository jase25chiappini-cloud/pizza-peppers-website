/* ===============================
   Pizza Peppers — App.css (clean)
   =============================== */

/* 1) Design tokens. */
/* =========================================================
   PP Theme Tokens (single source of truth)
   DO NOT duplicate these blocks elsewhere.
   ========================================================= */
:root {
  --font-heading: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Inter, Roboto, Arial, sans-serif;
  --font-body: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Inter, Roboto, Arial, sans-serif;

  --pp-quicknav-h: 60px;

  --brand-neon-green: #bef264;
  --brand-green: var(--brand-neon-green);
  --brand-pink: var(--brand-neon-green);

  --radius-lg: 14px;
  --radius-xl: 18px;

  --shadow-card: 0 12px 28px rgba(0,0,0,0.18);
  --shadow-float: 0 18px 48px rgba(0,0,0,0.26);
  --shadow-modal: 0 24px 60px rgba(0,0,0,0.35);

  --focus-ring: 0 0 0 3px rgba(190,242,100,0.28);

  /* legacy accents used elsewhere */
  --accent: var(--brand-neon-green);
  --accent-2: var(--brand-neon-green);
  --danger: #ef4444;

  /* shared PP surfaces */
  --pp-primary: var(--brand-green-cta, #16a34a);
  --pp-primary-strong: #15803d;
  --pp-surface: #111315;
  --pp-surface-2: #171a1d;
  --pp-border: #262b31;
  --pp-text: var(--text-light, #ffffff);
  --pp-text-dim: var(--text-medium, #9ca3af);
  --pp-focus: var(--brand-neon-green);

  --glow-neon: 0 0 5px var(--brand-neon-green), 0 0 10px var(--brand-neon-green), 0 0 15px var(--brand-neon-green);
  --glow-pink: 0 0 5px var(--brand-green), 0 0 10px var(--brand-green);

  /* generic surfaces */
  --surface: var(--background-light, #ffffff);
  --card-bg: var(--surface);
  --card-bg-alt: var(--background-dark, #0b0f14);
}

/* =========================================================
   Add-ons modal (ItemDetailPanel)
   Uses existing theme variables — avoid duplicates elsewhere.
   ========================================================= */

.pp-modal-backdrop {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
  background: rgba(6, 10, 14, 0.85);
  backdrop-filter: blur(2px);
}

[data-theme='light'] .pp-modal-backdrop {
  background: rgba(15,23,42,0.35);
}

.pp-modal {
  max-width: 760px;
  width: 90vw;
  max-height: 72vh;
  display: flex;
  flex-direction: column;
  overflow: visible;  /* let arrow glow + rounded ends render cleanly */
  isolation: isolate;
  position: relative;

  background: var(--pp-surface);
  color: var(--text-primary);
  border: 1px solid var(--pp-border);
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(0,0,0,.6);
  padding: 1.9rem;
}

[data-theme='light'] .pp-modal {
  background: #ffffff;
  box-shadow: 0 20px 60px rgba(15,23,42,0.16);
}
[data-theme='dark'] .pp-modal {
  background: var(--pp-surface);
}

.pp-modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;

  padding: 0 0 1rem 0;
  border-bottom: 1px solid var(--line, var(--border-color));
  background: var(--pp-surface, var(--panel));
}

.pp-modal-title {
  font-family: var(--font-heading);
  font-size: 1.5rem;
  font-weight: 700;
  letter-spacing: 0.2px;
  color: var(--brand-neon-green);
}

.pp-modal-close {
  border: none;
  background: var(--border-color);
  color: var(--text-light);
  cursor: pointer;
  font-size: 1.2rem;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 0.5rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s;
}
.pp-modal-close:hover { background: #4b5563; }

.pp-modal-body {
  padding: 1rem 0.25rem;
  max-height: 68vh;
  overflow-y: auto;
  overflow-x: hidden;
  background: var(--pp-surface, var(--panel));
  color: var(--text-primary);
}

.pp-addon-groups {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.pp-addon-group {
  margin-top: 0.85rem;
  padding: 0.85rem;
  border-radius: 18px;
  border: 1px solid var(--line, var(--border-color));
  background: var(--pp-surface-2, var(--panel));
}
[data-theme='light'] .pp-addon-group {
  background: #f9fafb;
  border-color: #e5e7eb;
}

.pp-addon-title {
  margin: 0 0 0.6rem;
  font-weight: 900;
  color: var(--text-primary);
}
.pp-addon-group__title{
  margin:0 0 .5rem 0;
  font-size:.95rem;
  letter-spacing:.3px;
  color: var(--pp-accent, #b5f76d);
}

.pp-options-grid {
  display: grid;
  grid-template-columns: repeat( auto-fill, minmax(180px, 1fr) );
  gap: 0.75rem;
}

.pp-grid-addons {
  grid-template-columns: 1fr;
}

@media (min-width: 520px) {
  .pp-grid-addons {
    grid-template-columns: 1fr 1fr;
  }
}

.pp-option {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;

  padding: 0.85rem;
  border-radius: 12px;

  background: var(--pp-surface-2, var(--panel));
  color: var(--pp-text);
  border: 1px solid var(--pp-border);
  transition: background 160ms ease, border-color 160ms ease, transform 160ms ease;
}

.pp-option:hover {
  background: var(--pp-surface, var(--panel));
  border-color: rgba(190,242,100,0.30);
  transform: translateY(-1px);
}

.pp-option-name {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 0.6rem;
  font-weight: 800;
  color: var(--text-primary);
}

.pp-option-price {
  font-weight: 900;
  color: var(--text-medium);
  font-variant-numeric: tabular-nums;
}

.pp-option input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--brand-neon-green, #bef264);
}

.pp-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;

  padding: 0.25rem 0.6rem;
  border-radius: 999px;

  background: rgba(190,242,100,0.14);
  border: 1px dashed var(--pp-border);
  color: var(--pp-text-dim);
  font-size: 0.85rem;
  font-weight: 800;
}

.pp-modal-footer {
  padding: 0.9rem 1.25rem;
  border-top: 1px solid var(--line, var(--border-color));
  background: var(--pp-surface, var(--panel));
  color: var(--text-light);
  display: flex;
  gap: 0.6rem;
  justify-content: flex-end;
}

/* =========================================================
   Add-ons modal upgrade (scoped to avoid conflicts)
   Replace/merge into your existing #addons-modal rules.
   ========================================================= */

#addons-modal.pp-modal-backdrop {
  padding: 1.25rem;
}

#addons-modal .pp-modal {
  width: min(980px, calc(100vw - 2rem));
  max-height: min(86vh, 820px);
  border-radius: 24px;
  overflow: hidden;

  background: linear-gradient(
    180deg,
    var(--pp-surface, var(--panel)) 0%,
    var(--pp-surface-2, var(--panel)) 140%
  );

  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-modal);
  color: var(--text-primary);
}

#addons-modal .pp-modal-header {
  position: sticky;
  top: 0;
  z-index: 5;

  padding: 0.95rem 1.05rem;
  border-bottom: 1px solid var(--line, var(--border-color));

  background: linear-gradient(
    180deg,
    var(--pp-surface, var(--panel)) 0%,
    var(--pp-surface-2, var(--panel)) 140%
  );
}

#addons-modal .pp-modal-title {
  font-size: 1.05rem;
  font-weight: 950;
  letter-spacing: 0.2px;
  color: var(--text-primary);
}

#addons-modal .pp-modal-body {
  padding: 1rem 1rem 1.1rem;
  overflow: auto;
  color: var(--text-primary);
}

#addons-modal .pp-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.25rem 0.65rem;
  border-radius: 999px;
  font-weight: 850;
  font-size: 0.82rem;

  background: rgba(190, 242, 100, 0.14);
  border: 1px solid rgba(190, 242, 100, 0.28);
  color: var(--text-primary);
}

#addons-modal .pp-addon-groups {
  display: grid;
  gap: 0.9rem;
}

#addons-modal .pp-addon-group {
  padding: 0.95rem;
  border-radius: 18px;
  border: 1px solid var(--line, var(--border-color));

  background: linear-gradient(
    180deg,
    var(--pp-surface-2, var(--panel)) 0%,
    var(--pp-surface, var(--panel)) 140%
  );
}

#addons-modal .pp-addon-title {
  margin: 0 0 0.65rem;
  font-weight: 950;
  font-size: 0.85rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--text-primary);
}

/* if you kept className="capitalize" on the title, scope it here */
#addons-modal .capitalize {
  text-transform: capitalize;
  letter-spacing: 0.02em;
  font-size: 0.95rem;
}

#addons-modal .pp-addon-grid {
  display: grid;
  gap: 0.6rem;
  grid-template-columns: 1fr;
}

@media (min-width: 560px) {
  #addons-modal .pp-addon-grid {
    grid-template-columns: 1fr 1fr;
  }
}

#addons-modal .pp-option {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.85rem;

  padding: 0.7rem 0.8rem;
  border-radius: 14px;

  background: var(--pp-surface, var(--panel));
  border: 1px solid var(--border-color);
  color: var(--text-primary);

  box-shadow: 0 8px 18px rgba(0,0,0,0.08);
  transition: transform 140ms ease, border-color 140ms ease, background 140ms ease, box-shadow 140ms ease;
}

#addons-modal .pp-option:hover {
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.35);
  background: var(--pp-surface-2, var(--panel));
  box-shadow: 0 14px 30px rgba(0,0,0,0.14);
}

/* highlight selected option (modern browsers) */
#addons-modal .pp-option:has(input[type="checkbox"]:checked) {
  border-color: rgba(190,242,100,0.55);
  background: rgba(190,242,100,0.10);
}

#addons-modal .pp-option-name {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 0.7rem;
  width: 100%;

  font-weight: 900;
  letter-spacing: 0.15px;
  color: var(--text-primary);
}

#addons-modal .pp-option-price {
  flex: 0 0 auto;
  font-weight: 950;
  color: var(--text-medium);
  font-variant-numeric: tabular-nums;
}

#addons-modal .pp-option-desc {
  margin-top: 0.15rem;
  font-size: 0.85rem;
  line-height: 1.25;
  color: var(--pp-text-dim, var(--text-medium));
}

#addons-modal .pp-option input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--brand-neon-green, #bef264);
}

#addons-modal .pp-modal-footer {
  position: sticky;
  bottom: 0;
  z-index: 5;

  padding: 0.9rem 1rem;
  border-top: 1px solid var(--line, var(--border-color));
  background: var(--pp-surface, var(--panel));
}

#addons-modal .pp-btn {
  border-radius: 14px;
  border: 1px solid var(--border-color);
  padding: 0.55rem 0.85rem;
  font-weight: 900;
}

#addons-modal .pp-btn.pp-btn-primary {
  background: var(--brand-neon-green, #bef264);
  color: #0b1220;
  border-color: rgba(0,0,0,0.12);
}

#addons-modal .pp-btn.pp-btn-subtle {
  background: transparent;
  color: var(--text-primary);
}

#addons-modal .pp-disclaimer {
  margin-top: 0.55rem;
  font-size: 0.8rem;
  color: var(--pp-text-dim, var(--text-medium));
}

/* iOS Safari: prevent zoom on input focus (typing) */
@media (max-width: 900px){
  input,
  select,
  textarea{
    font-size: 16px !important;
  }
}

@media (max-width: 900px){
  .pp-searchInput,
  .toppingsSearchInput{
    padding: 8px 10px;
    height: 40px;
  }
}

/* =========================================================
   Schedule modal (scoped) — clean proportions + bigger desktop
   ========================================================= */
#schedule-modal.pp-modal-backdrop{
  padding: 1rem;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

#schedule-modal .pp-modal{
  width: min(640px, calc(100vw - 2rem));
  max-height: min(80vh, 680px);
  padding: 0;
  border-radius: 22px;
  overflow: hidden;
}

/* Bigger & easier on desktop */
@media (min-width: 900px){
  #schedule-modal.pp-modal-backdrop{ padding: 2rem; }

  #schedule-modal .pp-modal{
    width: min(860px, calc(100vw - 5rem));
    max-height: min(84vh, 820px);
  }
}

#schedule-modal .pp-modal-header{
  padding: 1rem 1.15rem;
}

#schedule-modal .pp-modal-title{
  font-size: 1.15rem;
  font-weight: 900;
  letter-spacing: 0.14em;
  text-transform: uppercase;
}

#schedule-modal .pp-modal-body{
  padding: 1rem 1.15rem 1.15rem;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

/* Make Day/Time layout not cramped on mobile: labels above controls */
#schedule-modal .pp-pickupScheduleGrid{
  margin-top: 0.9rem;
  display: grid;
  gap: 0.9rem;
  padding: 14px;
  border-radius: 18px;
  border: 1px solid var(--border-color);
  background: rgba(0,0,0,0.10);
}

#schedule-modal .pp-pickupScheduleRow{
  display: grid;
  grid-template-columns: 1fr;
  gap: 0.45rem;
  align-items: start;
}

@media (min-width: 900px){
  /* On desktop we can go back to a two-column label/control layout */
  #schedule-modal .pp-pickupScheduleRow{
    grid-template-columns: 90px 1fr;
    gap: 0.85rem;
    align-items: center;
  }
}

#schedule-modal .pp-pickupScheduleRow label{
  font-size: 0.75rem;
  font-weight: 900;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--text-medium);
}

#schedule-modal .pp-disclaimer{
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(190,242,100,0.22);
  background: rgba(190,242,100,0.08);
  color: var(--text-primary);
  font-weight: 750;
}

#schedule-modal .pp-scheduleSummary{
  padding: 12px 14px;
  border-radius: 16px;
  border: 1px solid var(--border-color);
  background: rgba(255,255,255,0.03);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
}

#schedule-modal .pp-scheduleSummaryLabel{
  font-size: 0.72rem;
  font-weight: 900;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--text-medium);
  margin-bottom: 6px;
}

#schedule-modal .pp-scheduleSummaryValue{
  font-weight: 900;
  font-size: 1.05rem;
}

#schedule-modal .pp-scheduleSpacer{
  flex: 1 1 auto;
  min-height: 8px;
}

/* Make selects big + tappable */
#schedule-modal .pp-pickupScheduleSelect{
  min-height: 54px;
  font-size: 1.02rem;
  border-radius: 16px;
}

/* Footer pinned visually + roomy buttons */
#schedule-modal .pp-modal-footer{
  padding: 1rem 1.15rem;
}

#schedule-modal .pp-btn{
  min-height: 46px;
  border-radius: 16px;
}


/* =========================================================
   Loyalty modal (scoped) -- bigger desktop + cleaner alignment
   ========================================================= */
#loyalty-modal.pp-modal-backdrop{
  padding: 1.35rem;
}

#loyalty-modal .pp-modal{
  width: min(920px, calc(100vw - 2.2rem));
  max-height: min(82vh, 860px);
  border-radius: 22px;
  overflow: hidden;
  padding: 0;

  background: linear-gradient(
    180deg,
    var(--pp-surface, var(--panel)) 0%,
    var(--pp-surface-2, var(--panel)) 140%
  );

  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-modal);
}

/* Ensure dropdowns are always tappable inside the schedule modal */
#schedule-modal select,
#schedule-modal .pp-pickupScheduleSelect{
  pointer-events: auto !important;
  -webkit-appearance: menulist;
  appearance: auto;
}

/* Make it feel fuller on PC */
@media (min-width: 900px){
  #loyalty-modal .pp-modal{
    width: min(1040px, calc(100vw - 4rem));
    max-height: min(86vh, 920px);
  }
}

/* Header spacing + title */
#loyalty-modal .pp-modal-header{
  padding: 1.05rem 1.15rem;
  border-bottom: 1px solid var(--line, var(--border-color));
  background: linear-gradient(
    180deg,
    var(--pp-surface, var(--panel)) 0%,
    var(--pp-surface-2, var(--panel)) 160%
  );
}

#loyalty-modal .pp-modal-title{
  font-size: 1.05rem;
  font-weight: 950;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: var(--text-primary);
  display: inline-flex;
  align-items: center;
  gap: 0.55rem;
}

#loyalty-modal .pp-loyaltyTitleIcon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width: 30px;
  height: 30px;
  border-radius: 12px;
  border: 1px solid var(--border-color);
  background: rgba(255,255,255,0.04);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.08);
}

/* Body padding */
#loyalty-modal .pp-modal-body{
  padding: 1.05rem 1.15rem 1.15rem;
}

/* Section cards: match your themed panel cards */
#loyalty-modal .pp-section{
  border-radius: 18px;
  padding: 1rem 1.05rem;
  background: linear-gradient(180deg, rgba(255,255,255,0.035), rgba(0,0,0,0.12));
  border: 1px solid var(--border-color);
}

[data-theme='light'] #loyalty-modal .pp-section{
  background: rgba(15,23,42,0.03);
}

/* Headings inside sections */
#loyalty-modal .pp-section h4{
  margin: 0 0 0.75rem 0;
  font-size: 0.82rem;
  font-weight: 950;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: var(--brand-neon-green);
}

/* Status rows: fix alignment */
#loyalty-modal .pp-row{
  grid-template-columns: 160px 1fr;
  align-items: center;
  margin-bottom: 0.65rem;
}

#loyalty-modal .pp-row label{
  padding-top: 0;
  font-weight: 900;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-size: 0.72rem;
  color: var(--text-medium);
}

/* Footer spacing */
#loyalty-modal .pp-modal-footer{
  padding: 0.95rem 1.15rem;
  border-top: 1px solid var(--line, var(--border-color));
  background: var(--pp-surface, var(--panel));
}

/* Buttons: consistent sizing */
#loyalty-modal .pp-btn{
  min-height: 44px;
  border-radius: 16px;
  font-weight: 900;
}

body[data-theme="dark"] {
  color-scheme: dark;
  --background: #05070b;
  --background-dark: #05070b;
  --background-light: #0f172a; /* used by many cards in dark mode */

  --pp-surface: #0b1220;
  --pp-surface-2: #0f172a;
  --panel: #0b1220;
  --surface: #0b1220;

  --text-primary: #eaf2ff;
  --text-medium: #9fb1c7;
  --pp-text-dim: #7e93aa;
  --text-light: #ffffff;

  --border-color: rgba(255,255,255,0.12);
  --line: rgba(255,255,255,0.09);

  --shadow-card: 0 12px 30px rgba(0,0,0,0.40);
  --shadow-float: 0 18px 52px rgba(0,0,0,0.55);
  --shadow-modal: 0 24px 64px rgba(0,0,0,0.60);

  --focus-ring: 0 0 0 3px rgba(190,242,100,0.30);
}

body[data-theme="light"] {
  color-scheme: light;
  --background: #ffffff;        /* true light */
  --background-light: #ffffff;  /* card base */
  --background-dark: #f1f5fb;   /* subtle alt surface */

  --pp-surface: #ffffff;
  --pp-surface-2: #f6f8fc;
  --panel: #ffffff;
  --surface: #ffffff;

  --text-primary: #0b1220;
  --text-medium: #334155;
  --pp-text-dim: #64748b;
  --text-light: #0b1220;

  --border-color: rgba(15,23,42,0.12);
  --line: rgba(15,23,42,0.10);

  --shadow-card: 0 12px 26px rgba(2,6,23,0.10);
  --shadow-float: 0 18px 44px rgba(2,6,23,0.14);
  --shadow-modal: 0 24px 60px rgba(2,6,23,0.18);

  --focus-ring: 0 0 0 3px rgba(15,23,42,0.14);
}

/* 2) Base */
html { scroll-behavior: smooth; }

.app-container {
  display: grid;
  grid-template-columns: 1fr; /* mobile default */
  gap: 1.5rem;
  padding: 1.5rem;
}
@media (min-width: 1024px) {
  .app-container { grid-template-columns: 65% 35%; }
}

.page-container {
  padding: 2rem;
  max-width: 600px;
  margin: auto;
}
.form-input {
  width: 100%;
  padding: 0.75rem;
  margin-bottom: 1rem;
  border-radius: 0.5rem;
  border: 1px solid var(--border-color);
  background-color: var(--background-light);
  color: var(--text-light);
  font-size: 1rem;
  box-sizing: border-box;
}

*{box-sizing:border-box}

/* Ensure the document + app always fills the viewport */
html, body {
  height: 100%;
  min-height: 100%;
}

/* =========================================================
   Nest Hub (1024×600): FINAL last-wins fix
   - Right sidebar must start BELOW the left-only header
   - Neutralise inner sticky+vh sizing that fights the layout
   ========================================================= */
@media (min-width: 1024px) and (max-width: 1100px) and (max-height: 650px){

  /* Header height on desktop rules is --pp-hdr-h (set at min-width:901px) */
  :root{
    --pp-nesthub-header-offset: calc(var(--pp-hdr-h, 88px) + 10px);
  }

  /* Push the entire right column down so it never sits under the header */
  .right-sidebar{
    position: sticky !important;
    top: var(--pp-nesthub-header-offset) !important;

    /* Make it fit within the remaining viewport */
    height: calc(100dvh - var(--pp-nesthub-header-offset)) !important;
    min-height: 0 !important;

    overflow: hidden !important;
    display: flex !important;
    flex-direction: column !important;
  }

  /* This is the conflict: global sticky + calc(100vh - 3rem).
     Kill it on Nest Hub so the panel can fill the right column normally. */
  .order-panel-container{
    position: relative !important;
    top: auto !important;
    height: auto !important;
    max-height: none !important;
  }

  /* Let the panel content scroll inside the right column */
  .right-sidebar .order-panel-container{
    flex: 1 1 auto !important;
    min-height: 0 !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
}

#root {
  height: 100%;
  min-height: 100%;
}

body {
  min-height: 100dvh;
}

a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
code,pre{font-family:ui-monospace,SFMono-Regular,Consolas,Menlo,monospace}
pre{background:#0f1115;border:1px solid var(--border);padding:12px;border-radius:10px;overflow:auto;max-height:40vh}
hr{border:none;border-top:1px solid var(--border);margin:16px 0}

/* Layout containers */
.ui-wrap{max-width:980px;margin:24px auto;padding:0 16px}
.card{background:var(--panel);border:1px solid var(--border);border-radius:16px;box-shadow:0 6px 24px rgba(0,0,0,.3);overflow:hidden}
.card-hd{display:flex;align-items:center;gap:12px;padding:16px 18px;border-bottom:1px solid var(--border)}
.card-hd h2{margin:0;font-size:18px;font-weight:650}
.card-bd{padding:18px}
.card-ft{display:flex;justify-content:space-between;align-items:center;gap:12px;padding:14px 18px;border-top:1px solid var(--border)}

/* Readable key-value rows */
.kv{display:grid;grid-template-columns:220px 1fr;gap:10px 16px;margin:8px 0}
.kv label{color:var(--muted)}
.kv .val{color:var(--text)}

/* Buttons */
.btn{appearance:none;display:inline-flex;align-items:center;justify-content:center;gap:10px;border:1px solid transparent;border-radius:12px;padding:12px 16px;font-weight:650;cursor:pointer;transition:transform .06s ease,box-shadow .2s ease}
.btn:focus{outline:none;box-shadow:0 0 0 4px rgba(190,242,100,.25)}
.btn:active{transform:translateY(1px)}
.btn--primary{background:var(--accent);color:#0b1020}
.btn--primary:hover{filter:saturate(1.1)}
.btn--success{background:var(--accent-2);color:#04210f}
.btn--ghost{background:transparent;border-color:var(--border);color:var(--text)}
.btn--danger{background:var(--danger);color:#230000}

/* Sticky action bar so the button is always visible */
.sticky-actions{position:sticky;bottom:0;background:linear-gradient(180deg,transparent,rgba(21,23,26,.9) 30%);backdrop-filter:blur(6px)}
.sticky-actions .card-ft{border-top-color:#2a2f35}

/* Icon circle for quick scanning */
.ico{width:28px;height:28px;border-radius:50%;display:grid;place-items:center;background:#0f1115;border:1px solid var(--border);color:var(--accent)}

/* Sections */
.section-title{margin:12px 0 6px;font-weight:700;color:#cbd5e1}
.subtle{color:var(--muted)}

/* Big, unmistakable primary action */
.cta{font-size:16px;padding:14px 20px;border-radius:14px}

/* === Shared UI polish (from index.css) === */
.pp-btn {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:.4rem;
  padding:.9rem 1rem;
  border-radius:.75rem;
  border:1px solid var(--border-color);
  cursor:pointer;
  font-weight:700;
  background:var(--background-dark);
  color:var(--text-light);
  transition:opacity .2s ease, transform .2s ease, box-shadow .15s ease, background .15s ease;
}
.pp-btn:hover { background: var(--border-color); opacity: 0.95; transform: translateY(-1px); }
.pp-btn:active { transform:translateY(0); }
.pp-btn:focus-visible{
  outline:2px solid var(--pp-focus);
  outline-offset:2px;
}

.pp-btn-primary{
  border-color:transparent;
  background:linear-gradient(180deg, var(--pp-primary), var(--pp-primary-strong));
  color:white;
  box-shadow:0 8px 30px rgba(22,163,74,.35);
}
.pp-btn-primary:hover{
  box-shadow:0 10px 40px rgba(22,163,74,.5);
}
.pp-btn-subtle{
  background:transparent;
}

.pp-btn-secondary{
  background:linear-gradient(180deg, var(--pp-surface-2), var(--pp-surface));
  border:1px solid var(--pp-border);
  color:var(--pp-text);
}
.pp-btn-full{
  width:100%;
  min-height:44px;
}

.pp-option-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.75rem;
  padding:.5rem .75rem;
  border-radius:.5rem;
  background: rgba(255,255,255,0.03);
  border:1px solid rgba(255,255,255,0.06);
}
[data-theme='light'] .pp-option-row {
  background:#f9fafb;
  border-color:rgba(15,23,42,0.08);
}
.pp-option-row + .pp-option-row { margin-top:.5rem; }

.pp-disclaimer{
  font-size:0.8rem;
  opacity:0.7;
  margin-top:6px;
}

.pp-size-row{
  display:flex;
  flex-wrap:wrap;
  gap:.5rem;
  margin-bottom:.5rem;
}
.pp-size-chip{
  display:flex;
  align-items:center;
  gap:.45rem;
  padding:.4rem .75rem;
  border:1px solid var(--pp-border);
  border-radius:.6rem;
  cursor:pointer;
  background:rgba(255,255,255,0.02);
  transition:border-color .15s ease, background .15s ease;
}
.pp-size-chip--active{
  border-color:var(--pp-focus);
  box-shadow:0 0 0 1px var(--pp-focus);
}
.pp-size-chip--disabled{
  opacity:.5;
  cursor:not-allowed;
}
.pp-size-chip input{
  accent-color:var(--pp-focus);
}
.pp-size-label{
  font-weight:600;
}
.pp-size-price{
  color:var(--pp-text-dim);
  font-weight:600;
  font-size:.85rem;
}

/* === Profile Modal (from styles/profile.css) === */
.profile-modal {
  --radius: 14px;
  --pad: 16px;
  --gap: 16px;
  --card-bg: rgba(255,255,255,0.04);
  --stroke: rgba(255,255,255,0.10);
  --label: #b8ffc4;
  --text: var(--text-light, #e7e7e7);
  --muted: #a9a9a9;
  --input-bg: rgba(255,255,255,0.06);
  --input-stroke: rgba(255,255,255,0.14);
  --input-focus: #7CFF92;

  display: grid;
  gap: var(--gap);
}
[data-theme='dark'] .profile-modal {
  --card-bg: rgba(15,23,42,0.96);
  --stroke: rgba(148,163,184,0.35);
  --input-bg: rgba(15,23,42,0.92);
  --input-stroke: rgba(148,163,184,0.4);
  --input-focus: #7CFF92;
  --label: #b8ffc4;
  --text: var(--text-light, #e7e7e7);
  --muted: #9ca3af;
}
[data-theme='light'] .profile-modal {
  --card-bg: #ffffff;
  --stroke: rgba(15,23,42,0.12);
  --input-bg: #f9fafb;
  --input-stroke: rgba(15,23,42,0.15);
  --input-focus: #00A756;
  --label: #00A756;
  --text: #111827;
  --muted: #6b7280;
}

.profile-grid {
  display: grid;
  grid-template-columns: 1.2fr 1fr;
  gap: var(--gap);
}
@media (max-width: 900px) {
  .profile-grid { grid-template-columns: 1fr; }
}

.profile-card {
  background: var(--card-bg);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  padding: calc(var(--pad) + 2px);
}

.profile-card h3 {
  margin: 0 0 10px;
  font-size: 1.05rem;
  letter-spacing: .2px;
  color: var(--label);
  text-shadow: 0 0 12px rgba(124,255,146,.25);
}

/* Avatar block */
.avatar-row {
  display: grid;
  grid-template-columns: 120px 1fr;
  gap: 18px;
  align-items: center;
}
@media (max-width: 560px) {
  .avatar-row { grid-template-columns: 1fr; justify-items: center; text-align: center; }
}

.avatar-shell {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 3px solid var(--input-focus);
  display: grid;
  place-items: center;
  overflow: hidden;
  background: radial-gradient(120px 120px at 50% 50%, rgba(255,255,255,.06), rgba(255,255,255,.02));
}

.avatar-shell img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.avatar-initial {
  font-weight: 700;
  font-size: 2rem;
  color: var(--text);
  opacity: .9;
}

.avatar-actions {
  display: grid;
  gap: 8px;
  justify-items: start;
}
.avatar-actions small {
  color: var(--muted);
}

/* Inputs */
.pp-field { display: grid; gap: 6px; }

.pp-label {
  font-size: .85rem;
  color: var(--label);
}

.pp-form-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.pp-form-field {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.pp-autocomplete-mount,
.pp-autocomplete-mount gmp-place-autocomplete {
  width: 100%;
}

.pp-autocomplete-mount {
  min-height: 44px;
}

.pp-helper {
  margin-top: 6px;
  font-size: .85rem;
  color: var(--muted);
}

/* Footer buttons */
.profile-footer {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 8px;
}

  /* --- GENERAL & LAYOUT STYLES --- */
body {
  background: var(--background);
  color: var(--text-primary);
  font-family: var(--font-body);
  margin: 0;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 180ms ease, color 180ms ease;
}

/* Body scroll lock for fullscreen overlays (safe on iOS) */
.pp-scroll-locked{
  overflow: hidden !important;
  overscroll-behavior: contain;
  /* If this ever gets stuck, don't kill all touch scrolling */
  touch-action: auto;
}

/* Ensure the actual menu scroll area stays scrollable */
.main-content-area,
.pp-menu-scroll{
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  touch-action: pan-y;
}

/* Main content column */
.main-content-area {
  padding: 0.70rem 1.5rem 1.5rem;
  display: flex;
  flex-direction: column;
}

.main-content-area__body{
  flex: 1 1 auto;
  min-height: 0;
  display: flex;
  flex-direction: column;
}

@media (min-width: 1024px) {
  .main-content-area {
    padding: 0.90rem 1.75rem 2.25rem;
  }
}

@media (min-width: 1024px) and (min-height: 901px) {
  .main-content-area{
    padding-bottom: 0.95rem;
  }

  .main-content-area__body > .menu-content{
    flex: 1 1 auto;
    min-height: 0;
  }

  .main-content-area__body > :not(.menu-content){
    flex: 0 0 auto;
  }

  .menu-content{
    overflow: visible !important;
  }
}

.pp-qnav-slot{
  flex: 0 0 auto;
  margin: 0.25rem 0 0.55rem;

  position: sticky;
  top: calc(var(--pp-topnav-h, var(--pp-hdr-h, 90px)) + 6px + env(safe-area-inset-top));
  z-index: 29;
}

/* Light: subtle white panel down the left */
[data-theme='light'] .main-content-area {
  background: #f9fafb;
  border-radius: 0.9rem;
  border: 1px solid rgba(209,213,219,0.6);
  box-shadow: 0 14px 32px rgba(15,23,42,0.07);
}

/* Dark: softer slab with layered surface */
[data-theme='dark'] .main-content-area {
  background:
    radial-gradient(circle at top, rgba(15,23,42,0.9), transparent 50%),
    var(--surface);
  border-radius: 0.9rem;
  border: 1px solid rgba(15,23,42,0.85);
  box-shadow: 0 22px 60px rgba(0,0,0,0.75);
}

/* Right sidebar column */
.right-sidebar { display: none; }

@media (min-width: 1024px) {
  .right-sidebar {
    display: block;
    position: relative;
    top: auto;
    height: 100%;
    max-height: 100%;
    min-height: 0;       /* REQUIRED for nested flex/grid children to shrink */
    overflow: hidden;    /* right column should not extend page height */
    display: flex;
    flex-direction: column;
  }

  /* Light sidebar: crisp white column */
  [data-theme='light'] .right-sidebar {
    background: #ffffff;
    box-shadow: -20px 0 50px rgba(15,23,42,0.12);
    border-left: 1px solid rgba(209,213,219,0.9);
  }

  /* Dark sidebar: aggressive inky column */
  [data-theme='dark'] .right-sidebar {
    background: #020617;
    box-shadow: -26px 0 70px rgba(0,0,0,0.9);
    border-left: 1px solid rgba(15,23,42,0.9);
  }

  .right-sidebar .order-panel-container{
    flex: 1 1 auto;
    min-height: 0;
    height: 100%;
    max-height: 100%;
    position: relative; /* overrides sticky 100vh math */
    top: auto;
    overflow-y: auto;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
  }
}

/* --- COMPONENT STYLES --- */
.order-panel-container {
  background-color: var(--surface);
  border-radius: 0.75rem;
  padding: 1.5rem;
  position: relative;
  top: auto;
  height: 100%;
  max-height: 100%;
  min-height: 0;
  border: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
}
.pp-half-editor-overlay .order-panel-container {
  background-color: var(--pp-surface);
  backdrop-filter: blur(10px);
  padding: 1.5rem;
  height: 100%;
  border: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  border-radius: 0;
  position: relative;
}
h1, h2, h3, h4, .panel-title, .card-item-name { font-family: var(--font-heading); }

/* 3) Menu (left column) */
.menu-category {
  margin-bottom: 3rem;
}
@media (max-width: 640px){
  .menu-category { margin-bottom: 1.6rem; }
}

/* Light: white card wrapping the whole category */
[data-theme='light'] .menu-category {
  background: #ffffff;
  border-radius: 0.8rem;
  padding: 1.1rem 1.1rem 1.5rem;
  box-shadow: 0 16px 36px rgba(15,23,42,0.08);
  border: 1px solid rgba(209,213,219,0.9);
}

/* Dark: soft spotlight behind the cards */
[data-theme='dark'] .menu-category {
  background:
    radial-gradient(circle at top left, rgba(15,23,42,0.95), transparent 70%),
    var(--surface);
  border-radius: 0.8rem;
  padding: 1.1rem 1.1rem 1.5rem;
  box-shadow: 0 26px 60px rgba(0,0,0,0.9);
  border: 1px solid rgba(15,23,42,0.9);
}

.category-title {
  font-size: 1.4rem;
  font-weight: 750;
  margin-bottom: 0.9rem;
  padding-bottom: 0.45rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-light);
  border-bottom: 1px solid transparent;
  border-image: linear-gradient(to right, var(--brand-neon-green), var(--brand-green), transparent) 1;
  scroll-margin-top: 9rem; /* offset for sticky navs */
}

[data-theme='dark'] .category-title {
  background-image: linear-gradient(
    90deg,
    var(--brand-neon-green),
    var(--brand-green)
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

[data-theme='light'] .category-title {
  color: #020617;
  border-image: linear-gradient(
    to right,
    var(--brand-neon-green),
    var(--brand-green),
    transparent
  ) 1;
}

.menu-grid { display: grid; grid-template-columns: repeat(1, 1fr); gap: 1.5rem; }

/* =========================================================
   Meal Deal cards: span 2 "regular" cards
   ========================================================= */

.menu-grid {
  /* helps the grid pack around 2-col cards */
  grid-auto-flow: dense;
}

.menu-item-card--mealdeal {
  grid-column: span 2;
}

/* Meal deal cards: slightly zoom the image so it feels bigger */
.menu-item-card--mealdeal .card-image{
  transform: scale(1.02);
  transform-origin: center;
  will-change: transform;
}

/* Meal deal cards: significantly smaller (height + padding) */
.menu-item-card--mealdeal .card-image-container {
  padding-top: 56%;
}

/* Meal deal cards: significantly smaller (height + padding) */
.menu-item-card--mealdeal .card-text-container {
  padding: 0.6rem;
}

.menu-item-card.pp-card--dessert-combo{
  --pp-card-img-pos: 50% 70%;
}

@media (max-width: 640px){
  .menu-item-card--mealdeal .card-image-container{
    padding-top: 49%;
  }
  .menu-item-card--mealdeal .card-text-container{
    padding: 0.55rem;
  }
}

@media (max-width: 420px){
  .menu-item-card--mealdeal .card-image-container{
    padding-top: 47%;
  }
}

/* =========================
   Specials (Meal Deal) card tuning
   ========================= */

.menu-item-card--mealdeal .card-item-name{
  font-size: 1.15rem;
  line-height: 1.15;
}

.menu-item-card--mealdeal .card-item-description{
  font-size: 0.92rem;
  line-height: 1.25;
}

/* Meal deal overlay: bottom-right stack (price above title) */
.menu-item-card--mealdeal .pp-cardOverlay{
  display: flex;
  align-items: flex-end;
  justify-content: flex-start;
  padding: 14px;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(0,0,0,0) 55%, rgba(0,0,0,0.72) 100%);
}

.menu-item-card--mealdeal .pp-mealdealOverlayMeta{
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 8px;
  text-align: left;
}

.menu-item-card--mealdeal .pp-mealdealName{
  font-weight: 950;
  font-size: 1.05rem;
  line-height: 1.1;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: #fff;
  text-shadow: 0 10px 22px rgba(0,0,0,0.55);
}

.menu-item-card--mealdeal .pp-mealdealPrice{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.38rem 0.7rem;
  border-radius: 999px;
  font-weight: 950;
  font-variant-numeric: tabular-nums;
  color: #0b1220;
  background: linear-gradient(180deg, var(--brand-neon-green), rgba(190,242,100,0.78));
  box-shadow: 0 14px 34px rgba(0,0,0,0.45);
}

/* Mobile: fit the screen better (denser 2-col grid + tighter spacing) */
@media (max-width: 640px) {
  .menu-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.7rem;
  }
  .menu-item-card { min-width: 0; } /* prevents overflow in grid */
  .card-image-container { padding-top: 74%; } /* shorter image strip */
  .card-text-container { padding: 0.55rem; }
  .card-item-name { font-size: 0.95rem; line-height: 1.15; }
  .card-item-price { font-size: 0.95rem; }
}

/* Extra-small phones: go even tighter */
@media (max-width: 420px) {
  .menu-grid { gap: 0.6rem; }
  .card-image-container { padding-top: 70%; }
  .card-text-container { padding: 0.5rem; }
  .card-item-description { display: none; } /* kills dead space */
}
@media (min-width: 640px) { .menu-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1024px) { .menu-grid { grid-template-columns: repeat(3, 1fr); } }
@media (min-width: 1280px) { .menu-grid { grid-template-columns: repeat(4, 1fr); } }

.menu-item-card {
  position: relative;
  background: var(--card-bg);
  border-radius: 0.55rem;
  border: 1px solid var(--border-color);
  cursor: pointer;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition:
    border-color 0.18s ease,
    box-shadow 0.18s ease,
    transform 0.18s ease,
    background-color 0.18s ease;
}

/* Extra colour edge on cards */
[data-theme='dark'] .menu-item-card {
  border-color: rgba(15,23,42,0.9);
}

[data-theme='light'] .menu-item-card {
  border-color: rgba(209,213,219,0.9);
}

/* resting shadows */
[data-theme='dark'] .menu-item-card {
  box-shadow: 0 14px 28px rgba(0,0,0,0.75);
}

[data-theme='light'] .menu-item-card {
  box-shadow: 0 10px 24px rgba(15,23,42,0.10);
}

/* hover: sharper & more aggressive */
[data-theme='dark'] .menu-item-card:hover {
  border-color: var(--brand-neon-green);
  transform: translateY(-5px) scale(1.025);
  box-shadow: 0 22px 50px rgba(0,0,0,0.95),
              0 0 18px rgba(163,230,53,0.75);
}

[data-theme='light'] .menu-item-card:hover {
  border-color: rgba(22,163,74,0.75);
  transform: translateY(-4px) scale(1.02);
  box-shadow: 0 22px 46px rgba(15,23,42,0.16);
}

/* Accent stripe on hover */
[data-theme='dark'] .menu-item-card:hover::before,
[data-theme='light'] .menu-item-card:hover::before {
  content: "";
  position: absolute;
  inset-inline: 0;
  top: 0;
  height: 3px;
  background-color: var(--brand-neon-green);
}

/* card header image strip */
.card-image-container{
  position: relative;
  width: 100%;
  padding-top: 86%;
  overflow: hidden;
  border-bottom: 1px solid rgba(148,163,184,0.5);
}

/* image fills the strip, centered */
.card-image{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: var(--pp-card-img-pos, center);
  z-index: 0;
}

/* overlay stays above the image */
.pp-cardOverlay{
  position: absolute;
  inset: 0;
  z-index: 1;
}
.card-text-container { padding: 0.75rem; flex-grow: 1; display: flex; flex-direction: column; }
.card-item-name {
  font-size: 0.98rem;
  font-weight: 750;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--text-light);
}

/* optional: price line accent if used */
.card-item-price {
  margin-top: 0.25rem;
  font-weight: 700;
  color: var(--brand-green-cta);
}
.card-item-description {
  font-size: 0.8rem;
  color: var(--text-medium);
  margin: 0;
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.place-order-button, .simple-button, .quantity-btn {
  transition:
    transform 180ms var(--pp-ease),
    box-shadow 180ms var(--pp-ease),
    filter 180ms var(--pp-ease),
    background-color 180ms ease,
    border-color 180ms ease,
    color 180ms ease;
  will-change: auto;
  cursor: pointer;
}
.place-order-button {
  width: 100%;
  padding: 0.85rem 1.1rem;
  border-radius: 999px;
  border: none;
  font-weight: 700;
  font-size: 0.95rem;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  cursor: pointer;
  color: #0b1120;
  background-image: linear-gradient(
    135deg,
    var(--brand-green-cta),
    #4ade80
  );
  box-shadow: 0 20px 52px rgba(34,197,94,0.55);
  transition:
    transform 0.16s ease,
    box-shadow 0.16s ease,
    filter 0.16s ease;
}

.place-order-button:hover {
  transform: translateY(-2px);
  filter: brightness(1.03);
  box-shadow: 0 22px 52px rgba(34,197,94,0.55);
}

.place-order-button:active {
  transform: translateY(0);
  box-shadow: 0 8px 20px rgba(22,163,74,0.6);
}

.place-order-button:disabled { opacity: 0.5; cursor: not-allowed; transform: none; box-shadow: none; }
.quantity-btn { background-color: var(--border-color); border-radius: 50%; width: 2rem; height: 2rem; font-size: 1.25rem; color: var(--text-light); }
.quantity-btn:hover { background-color: #4b5563; }
/* Let the shared :active rule handle press feedback (prevents "double bounce") */
.quantity-btn:active { transform: translateY(0) scale(0.99); }

/* =========================
   QUICK NAV (single source of truth)
   ========================= */

.quick-nav-container{
  position: relative;
  top: auto;
  z-index: 1;

  margin: 0 0 0.5rem;
  padding: 6px;

  border-radius: 14px;
  border: 1px solid var(--border-color);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

[data-theme='dark'] .quick-nav-container{
  background:
    radial-gradient(900px 240px at 18% 0%, rgba(190,242,100,0.08), transparent 62%),
    radial-gradient(900px 240px at 82% 0%, rgba(56,189,248,0.08), transparent 64%),
    linear-gradient(180deg, rgba(15,23,42,0.82), rgba(2,6,23,0.34));
  border-color: rgba(148,163,184,0.14);
  box-shadow: 0 18px 54px rgba(0,0,0,0.42);
}
[data-theme='light'] .quick-nav-container{
  background: rgba(255,255,255,0.92);
  border-color: rgba(15,23,42,0.14);
  box-shadow: 0 12px 26px rgba(15,23,42,0.12);
}

/* wrapper: arrows + rail aligned perfectly */
.quick-nav-scroll{
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  min-width: 0;
}

/* ONLY this element scrolls */
.quick-nav-rail{
  flex: 1 1 auto;
  min-width: 0;

  overflow-x: auto;
  overflow-y: hidden;

  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  -ms-overflow-style: none;

  padding: 2px 2px; /* small internal gutter */
}
.quick-nav-rail::-webkit-scrollbar{ display:none; }

.quick-nav-list{
  list-style: none;
  margin: 0;
  padding: 0;

  display: inline-flex;
  align-items: center;
  gap: 12px;
}

.quick-nav-item a{
  display: inline-flex;
  align-items: center;
  justify-content: center;

  height: 36px;
  padding: 0 15px;

  border-radius: 999px;
  text-decoration: none;

  font-weight: 900;
  font-size: 0.90rem;
  letter-spacing: 0.105em;
  white-space: nowrap;
  text-transform: uppercase;

  border: 1px solid rgba(148,163,184,0.14);
  background: rgba(17,28,51,0.55);
  color: rgba(234,242,255,0.82);

  transition: background-color 160ms ease, border-color 160ms ease, transform 160ms ease, color 160ms ease;
}

[data-theme='light'] .quick-nav-item a{
  background: rgba(15,23,42,0.04);
  border-color: rgba(15,23,42,0.10);
  color: rgba(15,23,42,0.72);
}

.quick-nav-item a:hover{
  color: var(--text-primary);
  border-color: rgba(190,242,100,0.22);
  background: rgba(17,28,51,0.72);
  transform: translateY(-1px);
}

[data-theme='light'] .quick-nav-item a:hover{
  background: rgba(22,163,74,0.08);
  border-color: rgba(22,163,74,0.18);
  color: var(--text-primary);
  transform: translateY(-1px);
}

.quick-nav-item a.active-nav-link{
  color: #0b1220;
  background: linear-gradient(180deg, var(--brand-neon-green), rgba(190,242,100,0.74));
  border-color: rgba(190,242,100,0.55);
  box-shadow: 0 8px 18px rgba(190,242,100,0.12);
}

/* arrows (fixed, never scroll) */
.quick-nav-arrow{
  width: 39px;
  height: 39px;
  border-radius: 999px;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  border: 1px solid rgba(148,163,184,0.14);
  background: rgba(17,28,51,0.60);
  color: var(--text-primary);

  font-weight: 950;
  font-size: 1.72rem;
  line-height: 1;

  box-shadow: 0 10px 22px rgba(0,0,0,0.10);
}

[data-theme='light'] .quick-nav-arrow{
  background: rgba(255,255,255,0.90);
  border-color: rgba(15,23,42,0.12);
  color: var(--text-primary);
  box-shadow: 0 10px 22px rgba(2,6,23,0.10);
}

.quick-nav-arrow[aria-disabled="true"],
.quick-nav-arrow[data-disabled="1"]{
  opacity: 0.35;
  cursor: not-allowed;
  box-shadow: none;
}

[data-theme='dark'] .quick-nav-arrow:hover{
  border-color: rgba(190,242,100,0.24);
  background: rgba(17,28,51,0.74);
}

[data-theme='light'] .quick-nav-arrow:hover{
  background: rgba(22,163,74,0.08);
  border-color: rgba(22,163,74,0.18);
}

/* mobile: free scroll, no arrows */
@media (max-width: 900px){
  .quick-nav-container{ padding: 0.35rem; }
  .quick-nav-arrow{ display: none; }
  .quick-nav-rail{ padding: 2px 0; }
  .quick-nav-item a{
    height: 32px;
    padding: 0 12px;
    font-size: 0.70rem;
  }
}

.about-panel-list-item {
  position: relative;
  background-color: var(--card-bg-alt);
  padding: 1rem;
  border-radius: 0.75rem;
  margin-bottom: 1rem;
  border: 1px solid var(--border-color);
  transition:
    border-color 0.2s,
    box-shadow 0.2s,
    transform 0.2s,
    background-color 0.2s;
}
/* Dark: neon tile */
[data-theme='dark'] .about-panel-list-item:hover {
  border-color: var(--brand-neon-green);
  background-color: rgba(15,23,42,0.95);
  box-shadow: 0 10px 24px rgba(0,0,0,0.65);
  transform: translateY(-2px);
}
/* Light: clean white card */
[data-theme='light'] .about-panel-list-item:hover {
  border-color: #e5e7eb;
  background-color: #ffffff;
  box-shadow: 0 10px 26px rgba(15,23,42,0.12);
  transform: translateY(-2px);
}
.about-panel-list-item::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0.75rem;
  bottom: 0.75rem;
  width: 3px;
  border-radius: 999px;
  background-image: linear-gradient(
    180deg,
    var(--brand-neon-green),
    var(--brand-green)
  );
}
.about-panel-list-item a,
.about-panel-list-item button {
  color: var(--text-light);
  text-decoration: none;
  background: none;
  border: none;
  padding: 0;
  font-size: inherit;
  cursor: pointer;
  display: block;
  width: 100%;
  text-align: left;
}
.about-panel-list-item h4 { margin: 0 0 0.25rem 0; color: var(--brand-neon-green); font-family: var(--font-heading); }
.about-panel-list-item p { margin: 0; color: var(--text-medium); font-family: var(--font-body); }

@keyframes scan-glow {
  0% { left: -10%; }
  100% { left: 110%; }
}
.site-footer {
  padding: 14px 1.25rem calc(14px + env(safe-area-inset-bottom));
  margin: 0;
  border-top: 1px solid var(--border-color);
  display: flex;
  justify-content: center;
  align-items: center;

  background:
    linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.10));
}

.main-content-area .site-footer{
  margin-top: 18px;
  flex: 0 0 auto;
}

/* Safety: footer must never float as an overlay */
.site-footer{
  position: static;
  inset: auto;
  transform: none;
}

[data-theme="dark"] .site-footer{
  background:
    linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.10));
}

[data-theme="light"] .site-footer{
  background:
    linear-gradient(180deg, rgba(255,255,255,0.78), rgba(241,245,249,0.72));
}

.ashmore-lockup,
.ashmore-co-lockup,
.ashmore-footer-lockup{
  position: static;
  inset: auto;
  transform: none;
}
.footer-text {
  font-family: 'Orbitron', sans-serif;
  font-size: 0.8rem;
  color: var(--text-medium);
  text-transform: uppercase;
  letter-spacing: 2px;
  position: relative;
  overflow: hidden;
  -webkit-mask-image: linear-gradient(to right, transparent, black 20%, black 80%, transparent);
  mask-image: linear-gradient(to right, transparent, black 20%, black 80%, transparent);
}
.footer-text::after {
  content: '';
  position: absolute;
  top: -50%;
  width: 20px;
  height: 200%;
  background: linear-gradient(to right, transparent, var(--brand-neon-green), transparent);
  box-shadow: 0 0 10px var(--brand-neon-green), 0 0 20px var(--brand-neon-green);
  animation: scan-glow 3s linear 1s infinite;
}

.sub-panel-view { display: flex; flex-direction: column; height: 100%; }
.sub-panel-header { margin-bottom: 1rem; }
.sub-panel-back-button { background: none; border: none; color: var(--text-medium); cursor: pointer; font-weight: 500; margin-bottom: 1rem; display: inline-flex; align-items: center; }
.sub-panel-back-button:hover { color: var(--brand-green); }
.sub-panel-content { flex-grow: 1; overflow-y: auto; }

/* Enterprise card container */
.info-box{
  position: relative;
  border-radius: 18px;
  padding: 14px 14px 12px;
  background: rgba(15, 23, 42, 0.78);
  border: 1px solid rgba(148, 163, 184, 0.16);
  box-shadow:
    0 10px 26px rgba(0,0,0,0.42),
    inset 0 1px 0 rgba(255,255,255,0.06);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* ---------- Info-box: enterprise internal layout ---------- */
.info-box .pp-infoRow{
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
}

/* Top line: "Pickup from:" + store name */
.info-box .pp-infoTop{
  display: grid;
  grid-template-columns: 108px minmax(0, 1fr);
  gap: 8px;
  align-items: center;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(148,163,184,0.14);
}

.info-box .pp-infoTopLabel{
  font-size: 13px;
  font-weight: 700;
  color: rgba(226,232,240,0.72);
}

.info-box .pp-infoTopValue{
  min-width: 0;
  font-size: 14px;
  font-weight: 900;
  color: rgba(241,245,249,0.95);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  justify-self: start;
}

/* Bottom line: label | value | button */
.info-box .pp-infoBottom{
  display: grid;
  grid-template-columns: 108px minmax(0, 1fr) auto;
  gap: 8px;
  align-items: center;
}

.info-box .pp-infoBottomLabel{
  font-size: 13px;
  font-weight: 700;
  color: rgba(226,232,240,0.72);
}

.info-box .pp-infoBottomValue{
  min-width: 0;
  font-size: 12.5px;
  font-weight: 750;
  color: rgba(241,245,249,0.92);
  line-height: 1.1;
  white-space: normal;
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  line-clamp: 2;
}

/* Two-line value stack inside info cards */
.info-box .pp-stack2{
  display: grid;
  gap: 2px;
  min-width: 0;
}

.info-box .pp-stack2Title{
  font-size: 12.5px;
  font-weight: 900;
  color: rgba(241,245,249,0.95);
  line-height: 1.05;
  opacity: 0.75;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.info-box .pp-stack2Sub{
  font-size: 13.5px;
  font-weight: 900;
  color: rgba(241,245,249,0.95);
  line-height: 1.1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Order panel definition rows (shared desktop + mobile) */
.order-panel-container .pp-defRow{
  display: grid;
  grid-template-columns: 108px minmax(0, 1fr);
  gap: 8px;
  align-items: center;
}

.order-panel-container .pp-defLabel{
  font-size: 13px;
  font-weight: 700;
  color: rgba(226,232,240,0.72);
}

.order-panel-container .pp-defRight{
  min-width: 0;
  display: flex;
  align-items: center;
  flex: 1 1 auto;
}

.order-panel-container .pp-defValue{
  min-width: 0;
  font-size: 13px;
  font-weight: 800;
  color: rgba(241,245,249,0.92);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.order-panel-container .pp-defAction{
  flex: none;
}

/* Address row: input is taller than text, so align to top */
.order-panel-container .pp-defRow--address{
  align-items: start;
}

.order-panel-container .pp-defRight--address{
  align-items: stretch;
}

/* When embedded inside a def row, keep the address row flush */
.order-panel-container .pp-deliveryAddressRow--inline{
  margin: 0;
}

.order-panel-container .pp-orderNote{
  margin-top: 6px;
  font-size: 12px;
  opacity: 0.75;
}

.order-panel-container .pp-orderError{
  margin-top: 0.5rem;
  font-size: 0.875rem;
  color: #fca5a5;
}

/* Make sure the Change button never shrinks */
.info-box .pp-changeBtn{
  flex: none;
  white-space: nowrap;
  margin-top: 2px;
  align-self: start;
}

@media (max-width: 360px){
  .info-box .pp-infoTop{
    grid-template-columns: 96px minmax(0, 1fr);
    gap: 6px;
  }
  .info-box .pp-infoBottom{
    grid-template-columns: 96px minmax(0, 1fr) auto;
    gap: 6px;
  }
  .info-box .pp-changeBtn{
    height: 28px;
    padding: 0 10px;
    font-size: 11.5px;
    letter-spacing: 0.25px;
  }
  .info-box .pp-infoBottomValue{
    font-size: 12px;
  }
}

/* ---------- Mobile compact: order panel info-box rows ---------- */
@media (max-width: 520px){

  /* tighten the card */
  .info-box{
    padding: 12px 12px 10px;
    border-radius: 16px;
  }

  /* top row (Pickup from / Delivery to) */
  .info-box .pp-infoTop{
    grid-template-columns: 92px minmax(0, 1fr);
    gap: 6px;
    padding-bottom: 8px;
  }

  .info-box .pp-infoTopLabel{
    font-size: 12px;
  }

  .info-box .pp-infoTopValue{
    font-size: 13px;
  }

  /* bottom row (time row) */
  .info-box .pp-infoBottom{
    grid-template-columns: 92px minmax(0, 1fr) auto;
    gap: 6px;
  }

  .info-box .pp-infoBottomLabel{
    font-size: 12px;
  }

  .info-box .pp-infoBottomValue{
    font-size: 12.5px;
    line-height: 1.1;
    -webkit-line-clamp: 2;
    line-clamp: 2;
  }

  /* smaller CHANGE pill */
  .info-box .pp-changeBtn{
    height: 28px;
    padding: 0 10px;
    font-size: 11.5px;
    letter-spacing: 0.25px;
  }

  /* Give the address input more horizontal room on mobile */
  .order-panel-container--mobileCart .pp-defRow{
    grid-template-columns: 76px minmax(0, 1fr);
    gap: 6px;
  }

  .order-panel-container--mobileCart .pp-defLabel{
    font-size: 12px;
  }

  /* specifically for the embedded delivery row layout */
  .order-panel-container--mobileCart .pp-deliveryAddressRow--inline{
    display: grid;
    grid-template-columns: minmax(0, 1fr) auto;
    gap: 8px;
    align-items: center;
  }

  .order-panel-container--mobileCart .pp-defRow--address{
    grid-template-columns: 1fr;
    gap: 6px;
  }

  .order-panel-container--mobileCart .pp-defRow--address .pp-defLabel{
    margin-bottom: 2px;
  }

  .order-panel-container--mobileCart .pp-defRow--address .pp-defRight{
    width: 100%;
  }

  .order-panel-container--mobileCart .pp-autocomplete-mount{
    min-height: 32px;
  }

  .order-panel-container--mobileCart .pp-delivery-autocomplete gmp-place-autocomplete::part(input),
  .order-panel-container--mobileCart .pp-delivery-autocomplete gmp-place-autocomplete::part(text-field),
  .order-panel-container--mobileCart .pp-delivery-autocomplete gmp-place-autocomplete::part(container){
    min-height: 32px;
    height: 32px;
  }

  /* ---- Mobile: Delivery address field (shorter + cleaner) ---- */
  .order-panel-container--mobileCart .pp-deliveryAddressInput{
    height: 28px;
    min-height: 28px;
    padding: 0 10px;
    font-size: 12.5px;
    line-height: 28px;
    font-weight: 800;
    border-radius: 12px;
  }

  /* fee pill smaller so it doesn’t crowd */
  .order-panel-container--mobileCart .pp-deliveryFeePill{
    height: 24px;
    padding: 0 9px;
    font-size: 11.5px;
    border-radius: 999px;
  }

  /* ===== Mobile Cart Sheet: fix overall proportions ===== */

  /* Reduce outer modal padding so content fits */
  .pp-cart-modal__panel{
    padding: 0.5rem;
  }

  /* Reduce inner panel padding (this is a big offender) */
  .pp-cart-modal__panel .order-panel-container--mobileCart{
    padding-top: 0.55rem;
    padding-left: 0.55rem;
    padding-right: 0.55rem;
    padding-bottom: calc(var(--pp-bottomnav-h) + env(safe-area-inset-bottom) + 0.55rem);
    scroll-padding-bottom: calc(var(--pp-bottomnav-h) + env(safe-area-inset-bottom) + 0.55rem);
  }

  /* Title smaller */
  .order-panel-container--mobileCart .panel-title{
    font-size: 1.0rem;
    margin-bottom: 0.55rem;
    letter-spacing: 0.09em;
  }

  /* Pickup/Delivery switch smaller */
  .order-panel-container--mobileCart .pp-orderTypeSwitch{
    padding: 0.28rem;
    gap: 0.35rem;
    margin-bottom: 0.6rem;
  }

  .order-panel-container--mobileCart .pp-orderTypeBtn{
    min-height: 34px;
    font-size: 0.72rem;
    letter-spacing: 0.09em;
  }

  /* The main info-box tighter */
  .order-panel-container--mobileCart .info-box{
    padding: 10px 10px 9px;
    border-radius: 14px;
  }

  /* Empty cart block is way too tall on mobile */
  .order-panel-container--mobileCart .pp-emptyCart{
    padding: 0.85rem 0.75rem;
    border-radius: 16px;
  }

  .order-panel-container--mobileCart .pp-emptyCartTitle{
    font-size: 0.95rem;
    letter-spacing: 0.06em;
  }

  .order-panel-container--mobileCart .pp-emptyCartSub{
    font-size: 0.9rem;
  }

  /* Voucher header tighter */
  .order-panel-container--mobileCart .pp-voucherBtn{
    padding: 8px 10px;
    border-radius: 13px;
  }

  .order-panel-container--mobileCart .pp-voucherTitle{
    font-size: 12.5px;
  }

  .order-panel-container--mobileCart .pp-voucherSub{
    font-size: 12px;
  }

  /* Totals block smaller */
  .order-panel-container--mobileCart .total-price-display{
    margin: 0.6rem 0 0.65rem !important;
    padding: 0.7rem 0.75rem !important;
    border-radius: 14px !important;
  }

  .order-panel-container--mobileCart .total-price-display span:first-child{
    font-size: 0.68rem !important;
    letter-spacing: 0.16em !important;
  }

  .order-panel-container--mobileCart .total-price-display span:last-child{
    font-size: 1.35rem !important;
    text-shadow: 0 0 14px rgba(190,242,100,0.18) !important;
  }

  /* Main CTA button thinner */
  .order-panel-container--mobileCart .cart-total-section .place-order-button{
    min-height: 44px !important;
    padding: 0.65rem 0.9rem !important;
    border-radius: 14px !important;
    font-size: 0.85rem !important;
    letter-spacing: 0.12em !important;
  }

  .pp-addrPredItem{ padding: 9px 10px; }
  .pp-addrPredMain{ font-size: 12px; }
  .pp-addrPredSub{ font-size: 11px; }
}

.info-box::before,
.info-box::after{
  content: none !important;
}
.info-box p { margin: 0 0 0.5rem 0; color: var(--text-medium); }
.info-box p:last-child { margin-bottom: 0; }
.info-box strong { color: var(--text-light); font-weight: 600; }

.pp-warning{
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.06);
  border-radius: 14px;
  padding: 12px 14px;
  margin: 12px 0;
}

/* Order panel light mode: make cards and helper controls readable */
[data-theme='light'] .order-panel-container .info-box{
  background: rgba(255,255,255,0.78);
  border-color: rgba(15,23,42,0.14);
  box-shadow: 0 14px 34px rgba(2,6,23,0.10);
}

[data-theme='light'] .order-panel-container .pp-defLabel,
[data-theme='light'] .order-panel-container .pp-infoTopLabel,
[data-theme='light'] .order-panel-container .pp-infoBottomLabel{
  color: rgba(15,23,42,0.72);
}

[data-theme='light'] .order-panel-container .pp-defValue,
[data-theme='light'] .order-panel-container .pp-infoTopValue,
[data-theme='light'] .order-panel-container .pp-infoBottomValue,
[data-theme='light'] .order-panel-container .pp-stack2Title{
  color: rgba(15,23,42,0.92);
}

[data-theme='light'] .order-panel-container .pp-stack2Sub{
  color: rgba(15,23,42,0.72);
}

[data-theme='light'] .order-panel-container .pp-autocomplete-mount gmp-place-autocomplete{
  --gmp-place-autocomplete-input-border-color: rgba(15,23,42,0.14);
  --gmp-place-autocomplete-input-background-color: rgba(255,255,255,0.92);
  --gmp-place-autocomplete-input-text-color: rgba(15,23,42,0.92);
  --gmp-place-autocomplete-input-placeholder-color: rgba(15,23,42,0.50);
}

/* Light mode: CHANGE button must not be white-on-white */
[data-theme='light'] .order-panel-container .pp-changeBtn{
  background: rgba(15, 23, 42, 0.08);
  border: 1px solid rgba(15, 23, 42, 0.18);
  color: rgba(15, 23, 42, 0.88);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.55);
}

[data-theme='light'] .order-panel-container .pp-changeBtn:active{
  transform: translateY(1px);
}

[data-theme='light'] .order-panel-container .pp-changeBtn:disabled{
  opacity: 0.55;
  background: rgba(15, 23, 42, 0.06);
  border-color: rgba(15, 23, 42, 0.12);
  color: rgba(15, 23, 42, 0.55);
}

.cart-total-section {
  margin-top: auto;
  padding-top: 1rem;
  border-top: 1px solid var(--border-color);
}

/* dark: subtle gradient up from bottom */
[data-theme='dark'] .cart-total-section {
  background: linear-gradient(to top, rgba(15,23,42,0.95), transparent);
  padding-bottom: 0.75rem;
}

/* light: soft white fade */
[data-theme='light'] .cart-total-section {
  background: linear-gradient(to top, rgba(15,23,42,0.04), transparent);
  padding-bottom: 0.75rem;
}
.cart-total-section::before {
  content: "";
  display: block;
  height: 2px;
  border-radius: 999px;
  margin-bottom: 0.75rem;
  background-image: linear-gradient(
    90deg,
    var(--brand-green),
    var(--brand-neon-green)
  );
  opacity: 0.9;
}
.total-price-display {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 1.125rem;
  font-weight: 700;
  margin-bottom: 1rem;
  color: var(--text-light);
}
.total-price-display span:first-child {
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.8rem;
  color: var(--brand-green);
}
.total-price-display span:last-child {
  font-size: 1.35rem;
  font-weight: 800;
  color: var(--brand-green-cta);
  text-shadow: 0 0 10px rgba(22,163,74,0.7);
}
.panel-title { font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: var(--brand-neon-green); }
.cart-items-list { flex-grow: 1; overflow-y: auto; padding-right: 0.5rem; }
.detail-panel-body { flex-grow: 1; padding-right: 0.5rem; }
.cart-item { display: flex; justify-content: space-between; align-items: center; font-size: 0.875rem; border-bottom: 1px solid var(--border-color); padding: 0.75rem 0.25rem; cursor: pointer; }
.pp-cartItemPrice{
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
/* Cart item remove: clean red X (no bubble) */
.pp-removeItemBtn{
  width: 28px;
  height: 28px;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  background: transparent;
  border: none;
  padding: 0;

  color: rgb(220, 38, 38);
  font-size: 24px;
  line-height: 1;
  font-weight: 900;

  cursor: pointer;
}

/* Subtle feedback only */
.pp-removeItemBtn:hover{
  color: rgb(185, 28, 28);
}

.pp-removeItemBtn:active{
  transform: translateY(1px);
}

[data-theme="light"] .pp-removeItemBtn{
  color: rgb(185, 28, 28);
}
.detail-image { width: 100%; height: 12rem; object-fit: cover; border-radius: 0.5rem; background-color: var(--border-color); }
.size-quantity-row { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: 0.5rem; margin-bottom: 0.5rem; transition: all 0.3s ease-in-out; }
.size-quantity-row.glowing-border { border-color: var(--brand-neon-green); box-shadow: 0 0 10px 2px var(--brand-neon-green); }
.disabled-option { opacity: 0.35; pointer-events: none; background-color: rgba(0,0,0,0.1); }
.gluten-free-toggle { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid var(--border-color); }
.quantity-controls { display: flex; align-items: center; gap: 0.75rem; }
.simple-button {
  width: 100%;
  background-color: var(--border-color);
  color: var(--text-light);
  padding: 0.75rem 1rem;
  font-weight: 500;
  margin-top: 0.5rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.8);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.modal-overlay {
  position: fixed;
  inset: 0;
  /* Darker overlay so the page behind doesn't compete with the modal content */
  background-color: rgba(0,0,0,0.72);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  pointer-events: auto;
}
.modal-content {
  background-color: var(--pp-surface);
  padding: 2rem;
  border-radius: 0.9rem;
  width: 94vw;
  max-width: 820px;
  max-height: 82vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  border: 1px solid var(--border-color);
  box-shadow: 0 24px 60px rgba(0,0,0,0.45);
  z-index: 1001;
}
[data-theme='light'] .modal-content {
  background-color: #ffffff;
  box-shadow: 0 24px 60px rgba(15,23,42,0.16);
}
.modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-color); padding-bottom: 1rem; margin-bottom: 1rem; }
.modal-body { overflow-y: auto; padding: 0.25rem 0.5rem 0.5rem; }
.modal-footer { padding-top: 1rem; border-top: 1px solid var(--border-color); display: flex; justify-content: flex-end; gap: 0.75rem; }
.modal-category-title { color: var(--brand-neon-green); font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.modal-item-row { display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; }

input[type="text"],
input[type="tel"],
input[type="password"],
input[type="url"],
select,
textarea {
  background-color: var(--background-light);
  border: 1px solid var(--border-color);
  border-radius: 0.75rem;
  color: var(--text-light);
  padding: 0.85rem 0.9rem;
  transition: box-shadow 0.15s, outline 0.15s, border-color 0.15s, background-color 0.15s;
}
input[type="text"]:focus,
input[type="tel"]:focus,
input[type="password"]:focus,
input[type="url"]:focus,
select:focus,
textarea:focus {
  outline: 2px solid var(--brand-green);
  outline-offset: 3px;
  box-shadow: none;
  border-color: var(--brand-green);
}
button,
[type="button"],
[type="submit"] {
  appearance: none;
  background: none;
  border: none;
  font: inherit;
  line-height: inherit;
  color: inherit;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.pp-row { display: grid; grid-template-columns: 130px 1fr; gap: 12px; align-items: flex-start; }
.pp-row label { font-size: 0.875rem; color: var(--text-medium); padding-top: 0.75rem; }
.pp-input {
  width: 100%;
  padding: 0.75rem;
  border-radius: 0.5rem;
  border: 1px solid var(--border-color);
  background: var(--background-light);
  color: var(--text-light);
  outline: none;
  box-sizing: border-box;
  transition: border-color 0.2s, box-shadow 0.2s;
}
.pp-input:focus { border-color: var(--brand-green); box-shadow: var(--glow-pink); outline: none; }

/* === Add-ons modal readability upgrades === */
.modal-category {
  border: 1px solid var(--border-color);
  border-radius: 12px;
  margin-bottom: .85rem;
  overflow: clip;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.10));
}
[data-theme='light'] .modal-category {
  background: #f9fafb;
}
.modal-category-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .75rem 1rem;
  cursor: pointer;
  font-weight: 600;
  letter-spacing: .2px;
  width: 100%;
  background: transparent;
}
.modal-category-items {
  padding: .35rem .75rem .75rem;
}

input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] {
  appearance: textfield;
  -moz-appearance: textfield;
}

@media (max-width: 640px) {
  .pp-row { grid-template-columns: 1fr; gap: 0; }
  .pp-row label { margin-bottom: 6px; padding-top: 0; }
  .pp-actions { flex-direction: column; align-items: stretch; }
}
.pp-actions {
  display: flex;
  gap: 10px;
  padding-top: 1rem;
  border-top: 1px solid var(--border-color);
  margin-top: 1rem;
  justify-content: flex-end;
}
.pp-actions--sticky,
.pp-actions.sticky {
  position: sticky;
  bottom: 0;
  background: linear-gradient(180deg, rgba(0,0,0,0), var(--background-light) 40%);
  padding-top: 1rem;
}

/* Two-column layout for the body on md+ screens */
@media (min-width: 768px) {
  .pp-body-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px 20px;
  }
  .pp-body-grid .full-span {
    grid-column: 1 / -1;
  }
}

/* "Card" group wrappers to make fields read nicely */
.pp-section {
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.12));
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 1rem;
}
[data-theme='light'] .pp-section {
  background: #f9fafb;
}
.pp-section h4 {
  margin: 0 0 0.75rem 0;
  font-family: var(--font-heading);
  font-weight: 700;
  color: var(--brand-neon-green);
  letter-spacing: 0.3px;
}

/* Slightly tighter rows inside sections */
.pp-row { margin-bottom: 0.85rem; }

/* === Themed scrollbars (global and modal bodies) === */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--border-color) transparent;
}
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  background: rgba(255,255,255,0.04);
  border-radius: 8px;
}
::-webkit-scrollbar-thumb {
  background: #3b3b3b;
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
[data-theme='light'] ::-webkit-scrollbar-thumb {
  background: #c1c1c1;
}
.pp-modal-body,
.modal-body {
  scrollbar-width: thin;
  scrollbar-color: var(--border-color) transparent;
}
.pp-modal-body::-webkit-scrollbar,
.modal-body::-webkit-scrollbar {
  width: 10px;
}
.pp-modal-body::-webkit-scrollbar-thumb,
.modal-body::-webkit-scrollbar-thumb {
  background: #3b3b3b;
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
[data-theme='light'] .pp-modal-body::-webkit-scrollbar-thumb,
[data-theme='light'] .modal-body::-webkit-scrollbar-thumb {
  background: #c1c1c1;
}

/* === FINAL POLISH: LAYOUT & GRID === */

/* App shell: grid fills remaining height, footer sits below */
.pp-app-shell{
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
}

/* Desktop (tall screens): lock the app to the viewport and use internal scrollers */
@media (min-width: 1024px) and (min-height: 901px){
  html, body{
    height: 100%;
    overflow: hidden; /* no document scroll */
  }

  #root{
    height: 100%;
    overflow: hidden;
  }

  .pp-app-shell{
    height: 100dvh;   /* NOT min-height */
    overflow: hidden; /* grid + footer stay inside the viewport */
  }
}

.pp-app-shell .app-grid-layout{
  flex: 1 1 auto;
  min-height: 0;
}

/* Main grid should use full width, not fixed desktop max-width */
.app-grid-layout {
  display: grid;
  grid-template-columns: 1fr;
  max-width: 100%;       /* <-- was 1320px */
  margin: 0;             /* <-- no centering container */
  padding-inline: 1.25rem;
  padding-top: 0;
  padding-bottom: 1.25rem;
  min-height: 100dvh;
  gap: 1.25rem;
  column-gap: 2.5rem;
}

@media (min-width: 1024px) {
  .app-grid-layout {
    grid-template-columns: minmax(0, 1fr) 35%;
    /* CRITICAL: constrain the whole 2-column layout to the viewport height */
    height: auto;
    min-height: 0;
    /* prevents grid children from making the page taller */
    overflow: hidden;
    /* ensures the single row can shrink properly */
    grid-template-rows: minmax(0, 1fr);
    padding-bottom: 0.75rem;
  }
}

/* Left pane stacks navbar + main content as a unified column */
.left-pane {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

@media (min-width: 1024px) {
  .left-pane {
    /* allow the left column to shrink inside the fixed-height grid */
    min-height: 0;
    height: 100%;
    overflow: hidden;
  }

  .main-content-area {
    /* keep scrolling inside the column, not the document */
    min-height: 0;
    flex: 1 1 auto;
    height: auto;
    overflow-y: auto;
    overflow-x: hidden;
  }
}

/* Main content slab already has theme styles; this just ensures it never hugs the edges on mobile */
@media (max-width: 1023.98px) {
  .main-content-area {
    padding-inline: 1.1rem;
  }
}

/* === FINAL POLISH: TYPOGRAPHY === */

h1, h2, h3, h4 {
  font-family: var(--font-heading, "Poppins", system-ui, sans-serif);
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

/* Section titles already wired via .category-title; this just keeps small labels in the same family */
label,
.badge,
.text-label {
  font-family: var(--font-heading, "Poppins", system-ui, sans-serif);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-size: 0.72rem;
}

/* Small meta text (hours, notes, helpers) */
small,
.meta-text {
  font-size: 0.75rem;
  letter-spacing: 0.03em;
  opacity: 0.9;
}

/* === FINAL POLISH: INTERACTION STATES === */

/* All interactive elements share the same focus-visible style */
a:focus-visible,
button:focus-visible,
.menu-item-card:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid var(--brand-neon-green);
  outline-offset: 2px;
  box-shadow:
    0 0 0 1px rgba(15,23,42,0.9),
    0 0 0 4px rgba(34,197,94,0.6);
}

/* Smooth hover feedback for all buttons/links, without changing your colours */
button,
a,
.menu-item-card {
  transition:
    background-color 0.16s ease,
    color 0.16s ease,
    border-color 0.16s ease,
    box-shadow 0.16s ease,
    transform 0.16s ease;
}

/* Ensure cards tilt/slide cleanly from center */
.menu-item-card {
  transform-origin: center center;
}

/* === FINAL POLISH: ORDER COLUMN & FOOTER === */

/* Right sidebar order panel: subtle separation from background */
.right-sidebar .order-panel-container {
  border-radius: 0;
  border-left: 1px solid var(--border-color);
}

/* Tighten footer spacing, but let it go full width */
footer,
.footer {
  max-width: 100%;
  margin: 0;
  padding-inline: 1.5rem;
}

/* === DARK MODE CONTAINER POLISH === */

/* Main content containers - match light mode rounding, lighter depth */
[data-theme='dark'] .menu-item-card,
[data-theme='dark'] .order-panel-container,
[data-theme='dark'] .about-panel-list-item{
  background-color: var(--background-light);
  border-radius: 0.75rem;
  border-color: var(--border-color);
  box-shadow: 0 10px 26px rgba(0,0,0,0.55);
}

/* Slightly stronger lift on hover for cards only */
[data-theme='dark'] .menu-item-card:hover {
  box-shadow: 0 16px 36px rgba(0,0,0,0.7);
}

/* Dark mode modals: same polish, less depth */
[data-theme='dark'] .modal-content {
  border-radius: 0.75rem;
  box-shadow: 0 14px 40px rgba(0,0,0,0.6);
}

/* Dark mode PP modal: cleaner, less "deep" */
/* =========================
   Top Navbar (App.jsx) — dark mode fix
   ========================= */

.pp-topnav{
  position: sticky;
  top: 0;
  z-index: 30;
  padding: 0.98rem 1.88rem;
  border-bottom: 1px solid rgba(148,163,184,0.18);

  /* DESKTOP GLASS */
  backdrop-filter: blur(18px) saturate(165%);
  -webkit-backdrop-filter: blur(18px) saturate(165%);

  overflow: visible;
  isolation: isolate;
}

/* Keep mobile fast + make header true top + full-bleed without breaking QuickNav */
@media (max-width: 1023.98px),
       (hover: none) and (pointer: coarse) and (max-width: 1366px){
  :root{
    /* Used elsewhere to offset sticky QuickNav, etc. Keep this in sync with the header height */
    --pp-topnav-h: calc(env(safe-area-inset-top) + 94px);
  }

  .pp-topnav{
    backdrop-filter: none;
    -webkit-backdrop-filter: none;

    /* True top */
    top: 0;

    /* Full width across screen (even if inside centered wrapper) */
    width: 100vw;
    margin-left: calc(50% - 50vw);

    /* Remove the desktop padding that creates the "gap" feeling */
    padding: 0;

    /* Put safe-area inside the header (not as a top offset) */
    padding-top: env(safe-area-inset-top);

    /* Keep it above everything */
    z-index: 30;
  }
}

[data-theme='dark'] .pp-topnav{
  background:
    radial-gradient(900px 260px at 50% 0%, rgba(190,242,100,0.06), transparent 62%),
    linear-gradient(180deg, rgba(15,23,42,0.88), rgba(2,6,23,0.48));
  box-shadow: 0 18px 56px rgba(0,0,0,0.45);
}

[data-theme='light'] .pp-topnav{
  background:
    radial-gradient(900px 240px at 18% 0%, rgba(22,163,74,0.08), transparent 62%),
    radial-gradient(900px 240px at 82% 0%, rgba(190,242,100,0.06), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,0.86), rgba(241,245,251,0.62));
  box-shadow: 0 18px 54px rgba(2,6,23,0.14);
}

.pp-topnav::after{
  content:"";
  position:absolute;
  left:0;
  right:0;
  bottom:-1px;
  height:2px;
  background: linear-gradient(90deg, var(--brand-neon-green), var(--brand-green));
  opacity: 0.45;
  pointer-events:none;
}

.pp-topnav::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    linear-gradient(120deg, rgba(255,255,255,0.10), transparent 46%),
    linear-gradient(180deg, rgba(255,255,255,0.06), transparent 62%);
  opacity: 0.06;
  mix-blend-mode: normal;
}

.pp-topnav__row{
  position: relative;
}

@media (min-width: 1024px){
  :root{
    --pp-hdr-h: 88px;
    --pp-right-h: clamp(108px, 4.95vw, 126px);
    --pp-gap: 12px;

    --pp-left-min: 240px;
    --pp-left-w: clamp(260px, 22vw, 360px);
    --pp-brand-w: min(760px, 56vw);
    --pp-right-min: 260px;
    --pp-right-w: clamp(280px, 22vw, 380px);

    --pp-btn-h: clamp(36px, 2.175vw, 39px);
    --pp-input-h: clamp(36px, 2.175vw, 39px);
    --pp-radius: clamp(21px, 1.8vw, 27px);
    --pp-btn-pad-x: clamp(0.42rem, 0.825vw, 0.69rem);
    --pp-btn-font: clamp(0.93rem, 1.02vw, 1.11rem);
    --pp-sub-row-h: clamp(108px, 6.9vw, 129px);

    /* Desktop search expand width (keeps it off the banner) */
    --pp-input-expanded-w: clamp(144px, 9.0vw, 177px);
  }

  .pp-topnav{
    padding: 0.55rem 1.1rem !important;
  }

  /* Symmetric layout: keeps banner perfectly centered while resizing */
  .pp-topnav__row{
    display: grid;
    grid-template-columns:
      minmax(var(--pp-left-min), 1fr)
      minmax(0, var(--pp-brand-w))
      minmax(var(--pp-right-min), 1fr);
    align-items: center;
    gap: var(--pp-gap);
    grid-auto-rows: var(--pp-hdr-h);
  }

  .pp-topnav__logo.pp-topnav__brandCard{
    height: var(--pp-hdr-h) !important;
    width: min(100%, var(--pp-brand-w)) !important;
    max-width: var(--pp-brand-w) !important;
  }

  .pp-topnav__logo.pp-topnav__brandCard img{
    width: 100% !important;
    height: 100% !important;
    object-fit: contain !important;
    object-position: center !important;
  }

  .pp-topnav__left{
    grid-column: 1;
    justify-self: start;
    width: 100%;
    max-width: var(--pp-left-w);
    height: var(--pp-hdr-h);
    display: flex;
    align-items: center;
    padding: 6px;
    border-radius: var(--pp-radius);
    border: 1px solid rgba(148,163,184,0.14);
    background: rgba(17,28,51,0.40);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
  }

  /* Right column: mirror the left (two stacked rows inside a tall card) */
  .pp-topnav__right{
    grid-column: 3;
    justify-self: end;

    width: 100%;
    max-width: var(--pp-right-w);
    height: var(--pp-hdr-h);

    display: flex;
    align-items: center;
  }

  /* The card that holds the two rows */
  .pp-topnav__rightStack{
    width: 100%;
    height: 100%;
    display: grid;
    grid-template-rows: var(--pp-btn-h) var(--pp-btn-h);
    align-content: center;
    gap: 5px;

    padding: 6px;
    border-radius: var(--pp-radius);
    border: 1px solid rgba(148,163,184,0.14);
    background: rgba(17,28,51,0.40);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
  }

  [data-theme='light'] .pp-topnav__left,
  [data-theme='light'] .pp-topnav__rightStack{
    background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(241,245,251,0.88));
    border-color: rgba(15,23,42,0.12);
    box-shadow:
      0 12px 28px rgba(2,6,23,0.10),
      inset 0 1px 0 rgba(255,255,255,0.75);
  }

  /* Right-side buttons should not use "dark glass" backgrounds in light mode */
  [data-theme='light'] .pp-topnav__right .pp-topnav__link,
  [data-theme='light'] .pp-topnav__right .pp-topnav__linkBtn,
  [data-theme='light'] .pp-topnav__acctBtn{
    background: rgba(15,23,42,0.03);
    border-color: rgba(15,23,42,0.12);
    color: var(--text-primary);
  }

  [data-theme='light'] .pp-topnav__right .pp-topnav__link:hover,
  [data-theme='light'] .pp-topnav__right .pp-topnav__linkBtn:hover,
  [data-theme='light'] .pp-topnav__acctBtn:hover{
    background: rgba(22,163,74,0.08);
    border-color: rgba(22,163,74,0.18);
    color: var(--text-primary);
  }

  /* Row 1: About + Cart */
  .pp-topnav__rightActions{
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 8px;
    align-items: center;
  }

  .pp-topnav__rightActions.has-loyalty{
    grid-template-columns: repeat(3, 1fr);
  }

  .pp-topnav__rightActions.no-loyalty{
    grid-template-columns: repeat(2, 1fr);
  }

  /* Make the two buttons fill their cells cleanly */
  .pp-topnav__rightActions .pp-topnav__linkBtn{
    width: 100%;
    justify-content: center;
  }

  /* Buttons: flat toolbar style (no nested pills) */
  .pp-topnav__right .pp-topnav__link,
  .pp-topnav__right .pp-topnav__linkBtn{
    height: var(--pp-btn-h);
    padding: 0 var(--pp-btn-pad-x);
    border-radius: calc(var(--pp-radius, 18px) - 7px);

    border: 1px solid rgba(148,163,184,0.14);
    background: rgba(255,255,255,0.02);
    box-shadow: none;

    font-weight: 850;
    letter-spacing: 0.01em;
    white-space: nowrap;
    line-height: 1;
    font-size: var(--pp-btn-font);
  }

  /* Calm hover */
  .pp-topnav__right .pp-topnav__link:hover,
  .pp-topnav__right .pp-topnav__linkBtn:hover{
    background: rgba(255,255,255,0.05);
    border-color: rgba(190,242,100,0.18);
    color: var(--text-primary);
  }

  .pp-topnav__linkBtn.pp-topnav__linkBtn--loyalty{
    white-space: normal;
    line-height: 1.05;
    padding-inline: 0.45rem;
    font-size: clamp(0.78rem, 0.92vw, 0.92rem);
  }

  /* Account dropdown (native, clean) */
  .pp-topnav__acct{
    position: relative;
    width: 100%;
    align-self: center;
  }

  .pp-topnav__acctScrim{
    position: fixed;
    inset: 0;
    z-index: 4990;
    background: rgba(2,6,23,0.28);
  }

  .pp-topnav__acct > summary{
    list-style: none;
  }

  .pp-topnav__acct > summary::-webkit-details-marker{
    display: none;
  }

  .pp-topnav__acctBtn{
    width: 100%;
    height: var(--pp-btn-h);
    padding: 0 var(--pp-btn-pad-x);
    border-radius: calc(var(--pp-radius, 18px) - 6px);
    border: 1px solid rgba(148,163,184,0.14);
    background: rgba(255,255,255,0.02);

    display: inline-flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;

    font-weight: 850;
    letter-spacing: 0.01em;
    color: var(--text-primary);
    font-size: var(--pp-btn-font);
    cursor: pointer;
    user-select: none;
  }

  /* Logged-out state: <button class="pp-topnav__acctBtn">Login</button> should be centered */
  .pp-topnav__acct button.pp-topnav__acctBtn{
    justify-content: center;
    gap: 0;
    text-align: center;
  }

  .pp-topnav__acctBtn:hover{
    background: rgba(255,255,255,0.05);
    border-color: rgba(190,242,100,0.18);
  }

  .pp-topnav__acctDot{
    width: 7px;
    height: 7px;
    border-radius: 999px;
    background: rgba(190,242,100,0.85);
    box-shadow: 0 0 10px rgba(190,242,100,0.16);
  }

  .pp-topnav__acctText{
    font-size: 0.78rem;
    color: var(--text-medium);
    font-weight: 850;
    white-space: nowrap;
    font-variant-numeric: tabular-nums;
  }

  .pp-topnav__acctCaret{
    opacity: 0.75;
    font-size: 0.85rem;
  }

  .pp-topnav__acctMenu{
    position: absolute;
    right: 0;
    top: calc(100% + 8px);
    width: 200px;

    padding: 8px;
    border-radius: 14px;
    border: 1px solid rgba(190,242,100,0.18);
    background:
      radial-gradient(520px 220px at 20% 0%, rgba(190,242,100,0.10), transparent 62%),
      linear-gradient(180deg, rgba(15,23,42,0.92), rgba(2,6,23,0.82));
    box-shadow:
      0 20px 54px rgba(0,0,0,0.34),
      0 0 0 3px rgba(190,242,100,0.10),
      inset 0 1px 0 rgba(255,255,255,0.10);

    display: grid;
    gap: 6px;
    z-index: 5001;
  }

  .pp-topnav__acctMenu::before{
    content:"";
    position: absolute;
    top: -7px;
    right: 18px;
    width: 14px;
    height: 14px;
    transform: rotate(45deg);

    background: linear-gradient(180deg, rgba(15,23,42,0.92), rgba(2,6,23,0.82));
    border-left: 1px solid rgba(190,242,100,0.18);
    border-top: 1px solid rgba(190,242,100,0.18);
  }

  .pp-topnav__acctItem{
    height: 38px;
    border-radius: 12px;
    border: 1px solid rgba(148,163,184,0.16);
    background: rgba(255,255,255,0.05);
    color: var(--text-primary);
    font-weight: 850;
    letter-spacing: 0.01em;
    cursor: pointer;
  }

  .pp-topnav__acctItem:hover{
    background: rgba(190,242,100,0.10);
    border-color: rgba(190,242,100,0.26);
  }

  .pp-topnav__acctItem--danger:hover{
    border-color: rgba(248,113,113,0.35);
    background: rgba(248,113,113,0.10);
  }

  [data-theme="light"] .pp-topnav__acctMenu{
    border-color: rgba(15,23,42,0.12);
    background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(241,245,251,0.92));
    box-shadow:
      0 26px 70px rgba(2,6,23,0.16),
      inset 0 1px 0 rgba(255,255,255,0.65);
  }

  [data-theme="light"] .pp-topnav__acctItem{
    background: rgba(15,23,42,0.03);
    border-color: rgba(15,23,42,0.10);
  }

  [data-theme="light"] .pp-topnav__acctItem:hover{
    background: rgba(22,163,74,0.08);
    border-color: rgba(22,163,74,0.18);
  }

  /* THIS is the actual banner container sizing (wide + responsive) */
  .pp-topnav__row > .pp-topnav__logo.pp-topnav__brandCard{
    grid-column: 2;
    justify-self: center;

    width: 100%;
    height: var(--pp-hdr-h);

    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;

    overflow: hidden;
    border-radius: var(--pp-radius);
  }

}

/* =========================================================
   DESKTOP NO-OVERLAP MODE (enterprise)
   - Banner gets its own row
   - Left + Right sit beneath it
   ========================================================= */
@media (min-width: 901px) and (max-width: 1400px) and (min-height: 860px){
  .pp-topnav__row{
    /* 2 columns, 2 rows */
    grid-template-columns: var(--pp-left-w) 1fr;
    grid-template-rows: var(--pp-hdr-h) var(--pp-sub-row-h);
    grid-auto-rows: unset;
    align-items: stretch;
    gap: 14px;
  }

  /* Banner row (spans full width) */
  .pp-topnav__logo.pp-topnav__brandCard{
    grid-column: 1 / -1;
    grid-row: 1;
    width: min(100%, var(--pp-brand-w));
    max-width: var(--pp-brand-w);
    justify-self: center;
    height: var(--pp-hdr-h);
  }

  /* Left controls under banner */
  .pp-topnav__left{
    grid-column: 1;
    grid-row: 2;
    height: var(--pp-sub-row-h);
    align-self: stretch;
  }

  /* Right panel under banner (no crowding) */
  .pp-topnav__right{
    grid-column: 2;
    grid-row: 2;
    height: var(--pp-sub-row-h);
    justify-self: end;
    align-self: stretch;
  }

}

@media (min-width: 901px) and (max-width: 1220px){
  .pp-topnav__right{
    max-width: 360px;
  }
}

.pp-topnav__left{
  display:flex;
  align-items:center;
  gap: 0.85rem;
  min-width: 0;
  position: relative;
  z-index: 3;
  width: 100%;
  justify-content: flex-start;
}

.pp-topnav__left::after{
  content:"";
  position:absolute;
  left: calc(6px + var(--pp-btn-h, 38px) + 10px);
  top: 10px;
  bottom: 10px;
  width: 1px;
  background: rgba(148,163,184,0.12);
  pointer-events:none;
}

/* =========================================================
   Desktop header: lock left card alignment (theme spans 2 rows)
   ========================================================= */
@media (min-width: 1024px){
  /* Make the left card a 2-row grid: [theme] [search stack] */
  .pp-topnav__row .pp-topnav__left{
    display: grid !important;
    grid-template-columns: var(--pp-btn-h, 38px) 1fr !important;

    /* IMPORTANT: rows flex to the card height (prevents overflow) */
    grid-template-rows: 1fr 1fr !important;

    column-gap: 10px !important;
    row-gap: 6px !important;

    /* give inputs room to breathe inside the card */
    padding: 6px !important;

    align-items: stretch !important;
    box-sizing: border-box;
    overflow: hidden; /* keeps shadows inside the card */
  }

  /* Theme button spans both rows (matches total height of the 2 inputs) */
  .pp-topnav__row .pp-topnav__left > .pp-theme-toggle{
    grid-column: 1 !important;
    grid-row: 1 / span 2 !important;
    height: 100% !important;
    align-self: stretch !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  /* Search stack fills the two rows */
  .pp-topnav__row .pp-topnav__searchWrap{
    grid-column: 2 !important;
    grid-row: 1 / span 2 !important;
    display: grid !important;
    grid-template-rows: 1fr 1fr !important;
    grid-auto-rows: unset !important;

    height: 100% !important;
    gap: 6px !important;
    min-height: 0 !important;
    align-content: stretch !important;
  }

  .pp-topnav__row .pp-topnav__searchWrap > div{
    height: 100% !important;
    min-height: 0 !important;
  }

  .pp-topnav__row .pp-topnav__searchInput{
    height: 100% !important;  /* overrides fixed var(--pp-input-h) */
    min-height: 0 !important;
  }

  /* The vertical divider line was positioned for flex; re-position it */
  .pp-topnav__left::after{
    left: calc(6px + var(--pp-btn-h, 38px) + 10px) !important;
    top: 6px !important;
    bottom: 6px !important;
  }
}

.pp-topnav__logo{
  display:flex;
  align-items:center;
  text-decoration:none;
  position: relative;
  z-index: 1;
}

.pp-topnav__brandCard{
  border-radius: 22px;
  border: 1px solid rgba(148,163,184,0.14);
  background: rgba(17,28,51,0.36);
  box-shadow: 0 14px 40px rgba(0,0,0,0.20);
  overflow: hidden;
  position: relative;
}

[data-theme='light'] .pp-topnav__brandCard{
  background: linear-gradient(180deg, rgba(255,255,255,0.94), rgba(241,245,251,0.90));
  border-color: rgba(15,23,42,0.12);
  box-shadow: 0 12px 26px rgba(2,6,23,0.10);
}

.pp-topnav__logoImg:not(.pp-topnav__logoImg--banner){
  height: 3.25rem;
  width: auto;
  display: block;
}

.pp-topnav__logoImg--banner{
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
  object-position: center 56%;
  transform: scale(3.06);
  transform-origin: center;
  filter: drop-shadow(0 12px 28px rgba(0,0,0,0.28));
}

.pp-topnav__searchWrap{
  display: grid;
  grid-template-columns: 1fr;
  gap: 0.40rem;
  width: auto;
  max-width: none;
  flex: 1 1 auto;       /* <-- fills the left card */
  min-width: 0;
  grid-auto-rows: var(--pp-input-h, 40px);
  align-content: center; /* keeps the two inputs vertically tidy */
}

.pp-topnav__searchInput{
  background: var(--pp-surface-2);
  border: 1px solid var(--border-color);
  border-radius: calc(var(--pp-radius, 18px) - 6px);
  height: var(--pp-input-h, 40px);
  min-height: 0;
  padding: 0 0.55rem;
  color: var(--text-primary);
  font-size: var(--pp-btn-font, 0.88rem);
  line-height: 1;
  width: 100%;
  min-width: 0;
  display: block;
  box-sizing: border-box;
}

.pp-topnav__searchInput::placeholder{
  color: var(--text-medium);
  opacity: 0.9;
}

.pp-topnav__searchInput:focus{
  outline: none;
  border-color: rgba(190,242,100,0.30);
  box-shadow: var(--focus-ring);
}

@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  .pp-topnav__searchInput,
  .pp-theme-toggle{
    background: color-mix(in srgb, var(--pp-surface-2) 75%, transparent) !important;
    border: 1px solid rgba(148,163,184,0.22) !important;
    backdrop-filter: blur(12px) saturate(155%);
    -webkit-backdrop-filter: blur(12px) saturate(155%);
    box-shadow:
      0 8px 18px rgba(0,0,0,0.14),
      inset 0 1px 0 rgba(255,255,255,0.10) !important;
  }
}

/* =========================================================
   MOBILE HEADER — minimal pill (<=1023.98px)
   ========================================================= */
@media (max-width: 1023.98px),
       (hover: none) and (pointer: coarse) and (max-width: 1366px){
  .pp-topnav__row--mobileMinimal{
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    gap: 10px !important;
    min-height: 70px;
    padding: 8px 12px !important;
  }

  /* hide any desktop-only header pieces on mobile */
  .pp-topnav__right,
  .pp-topnav__rightPrimary,
  .pp-topnav__rightSecondary,
  .pp-topnav__greetingRow,
  .pp-topnav__searchWrap{
    display: none !important;
  }

  /* the pill bar look (like your screenshot) */
  .pp-topnav__row--mobileMinimal{
    border-radius: 18px;
    border: 1px solid rgba(148,163,184,0.18);
    background: rgba(255,255,255,0.04);
    box-shadow: 0 14px 38px rgba(0,0,0,0.18);
    backdrop-filter: blur(10px) saturate(120%);
    -webkit-backdrop-filter: blur(10px) saturate(120%);
  }

  /* Make the contents feel proportionally bigger without blowing layout */
  .pp-topnav__row--mobileMinimal .pp-topnav__logo,
  .pp-topnav__row--mobileMinimal img{
    height: 42px;
  }

  .pp-topnav__row--mobileMinimal button,
  .pp-topnav__row--mobileMinimal .pp-topnav__pill,
  .pp-topnav__row--mobileMinimal .pp-topnav__linkBtn{
    min-height: 42px;
  }

  /* icon buttons (left + right) */
  .pp-topnav__mIconBtn{
    width: 40px;
    height: 40px;
    border-radius: 14px;

    display: inline-flex;
    align-items: center;
    justify-content: center;

    border: 1px solid rgba(148,163,184,0.16);
    background: rgba(255,255,255,0.03);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);

    color: var(--text-primary);
    cursor: pointer;
  }

  .pp-topnav__mIconBtn:active{
    background: rgba(255,255,255,0.06);
  }

  .pp-topnav__mIcon{
    font-size: 16px;
    line-height: 1;
    opacity: 0.95;
  }

  /* center logo container */
  .pp-topnav__mLogo{
    flex: 1 1 auto;
    height: 60px;
    max-width: clamp(360px, 92vw, 780px);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .pp-topnav__mLogo img{
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
  }
}

/* =========================================================
   TABLET (Surface Pro 7 etc): bigger banner + wider buttons
   Applies only to the 760–1023.98px band
   ========================================================= */
@media (min-width: 760px) and (max-width: 1023.98px){
  :root{
    --pp-topnav-h: calc(env(safe-area-inset-top) + 112px);
  }

  /* Slightly taller header pill */
  .pp-topnav__row--mobileMinimal{
    min-height: 86px !important;
    padding: 10px 14px !important;
    gap: 12px !important;
  }

  /* Wider buttons so they fill more of the header */
  .pp-topnav__mIconBtn{
    height: 48px !important;
    width: 72px !important;          /* wider */
    padding: 0 14px !important;
    border-radius: 18px !important;
  }

  .pp-topnav__mIcon{
    font-size: 18px !important;
  }

  /* Bigger banner container */
  .pp-topnav__mLogo{
    height: 72px !important;
    max-width: clamp(520px, 92vw, 960px) !important;
  }

  /* Nudge the banner scale up slightly */
  .pp-topnav__logoImg--banner{
    transform: scale(3.25) !important;
    object-position: center 56% !important;
  }
}

.pp-topnav__link,
.pp-topnav__linkBtn{
  color: var(--text-primary);
  text-decoration:none;
  font-weight: 700;
  height: var(--pp-btn-h, 38px);
  padding: 0 var(--pp-btn-pad-x, 0.70rem);
  font-size: var(--pp-btn-font, 0.90rem);
  border-radius: calc(var(--pp-radius, 18px) - 6px);
  background:none;
  border: 1px solid transparent;
  cursor:pointer;
}

.pp-topnav__link:hover,
.pp-topnav__linkBtn:hover{
  color: var(--brand-green);
}

/* Right toolbar: keep text stable (enterprise) */
.pp-topnav__right .pp-topnav__link:hover,
.pp-topnav__right .pp-topnav__linkBtn:hover{
  color: var(--text-primary);
}

.pp-topnav__link::after,
.pp-topnav__linkBtn::after{
  content: none !important;
  display: none !important;
}

/* =========================================================
   Theme toggle (single button)
   ========================================================= */
.pp-theme-toggle{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.45rem;
  height: var(--pp-btn-h, 34px);
  padding: 0 var(--pp-btn-pad-x, 0.7rem);
  border-radius: 999px;
  cursor: pointer;
  user-select: none;

  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(255,255,255,0.06);
  color: var(--text);

  transition:
    transform 160ms ease,
    border-color 180ms ease,
    background-color 180ms ease,
    box-shadow 180ms ease;
}

[data-theme="light"] .pp-theme-toggle{
  background: rgba(255,255,255,0.9);
}

[data-theme="dark"] .pp-theme-toggle{
  background: rgba(255,255,255,0.06);
}

.pp-theme-toggle:hover{
  border-color: rgba(120, 255, 120, 0.55);
  box-shadow: 0 10px 28px rgba(0,0,0,0.22);
  transform: translateY(-1px);
}

.pp-theme-toggle:active{
  transform: translateY(0px) scale(0.98);
}

.pp-theme-toggle:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 3px rgba(120, 255, 120, 0.22),
    0 10px 28px rgba(0,0,0,0.22);
}

.pp-theme-toggle__emoji{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 1.2rem;
  height: 1.2rem;
  font-size: 1.05rem;
  line-height: 1;

  transform: rotate(0deg) scale(1);
  transition: transform 260ms cubic-bezier(.2,.9,.2,1);
}

.pp-theme-toggle__label{
  font-weight: 750;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  font-size: 0.72rem;
  opacity: 0.82;
}

/* Compact (mobile topbar): emoji-only */
.pp-theme-toggle--compact{
  width: var(--pp-btn-h, 34px);
  min-width: var(--pp-btn-h, 34px);
  padding: 0;
  border-radius: 999px;
}

.pp-theme-toggle--compact .pp-theme-toggle__label{
  display: none;
}

/* Emoji animates when theme changes */
[data-theme="light"] .pp-theme-toggle__emoji{
  transform: rotate(14deg) scale(1.06);
}

[data-theme="dark"] .pp-theme-toggle__emoji{
  transform: rotate(-14deg) scale(1.06);
}

@media (prefers-reduced-motion: reduce){
  .pp-theme-toggle,
  .pp-theme-toggle__emoji{
    transition: none !important;
  }
}

.pp-topnav__auth{
  display:flex;
  align-items:center;
  gap: 0.9rem;
}

.pp-topnav__greeting{
  color: var(--text-medium);
  font-size: 0.85rem;
}

@media (min-width: 901px){
  .pp-topnav__right .pp-topnav__greeting{
    font-size: 0.74rem;
  }
}

.pp-topnav__action{
  background:none;
  border:none;
  cursor:pointer;
  padding: 0.25rem 0.2rem;
  font-weight: 750;
}

.pp-topnav__action--accent{ color: var(--brand-neon-green); }
.pp-topnav__action--danger{ color: var(--brand-green); }
.pp-topnav__action--subtle{ opacity: 0.9; font-weight: 650; }

.pp-topnav__status{
  margin-left: 0.25rem;
  font-size: 0.75rem;
  color: var(--text-medium);
  opacity: 0.7;
}

/* =========================
   Half & Half - force "no scrollbars" + compact fit
   ========================= */

/* Compact grid so we can show more options without scrolling */
.pp-halfhalf-options{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

/* 3 columns on wider sidebars */
@media (min-width: 980px){
  .pp-halfhalf-options{ grid-template-columns: 1fr 1fr 1fr; }
}

.pp-halfhalf-option{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;

  padding: 10px 12px;
  border-radius: 16px;

  border: 1px solid var(--border-color);
  background: rgba(255,255,255,0.04);
  cursor: pointer;

  transition: transform 140ms ease, border-color 140ms ease, background-color 140ms ease, box-shadow 140ms ease;
}

[data-theme='light'] .pp-halfhalf-option{
  background: rgba(15,23,42,0.03);
}

.pp-halfhalf-option:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.25);
}

[data-theme='light'] .pp-halfhalf-option:hover{
  border-color: rgba(22,163,74,0.25);
}

.pp-halfhalf-option--selected{
  border-color: rgba(190,242,100,0.55);
  background: rgba(190,242,100,0.10);
  box-shadow: 0 10px 26px rgba(190,242,100,0.10);
}

[data-theme='light'] .pp-halfhalf-option--selected{
  border-color: rgba(22,163,74,0.35);
  background: rgba(22,163,74,0.08);
  box-shadow: 0 10px 26px rgba(22,163,74,0.10);
}

.pp-halfhalf-option__text{
  min-width: 0;
}

.pp-halfhalf-option__name{
  font-weight: 900;
  color: var(--text-primary);
  font-size: 0.92rem;
  line-height: 1.15;
  text-transform: uppercase;
  letter-spacing: 0.02em;
}

.pp-halfhalf-option__desc{
  margin-top: 4px;
  font-size: 0.78rem;
  color: var(--text-medium);
  line-height: 1.2;

  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.pp-halfhalf-option__price{
  margin-top: 6px;
  font-weight: 900;
  color: var(--brand-green-cta);
  font-variant-numeric: tabular-nums;
}

.pp-halfhalf-option__plus{
  flex: 0 0 auto;
  width: 34px;
  height: 34px;
  border-radius: 999px;

  display: flex;
  align-items: center;
  justify-content: center;

  border: 1px solid var(--border-color);
  background: rgba(255,255,255,0.06);
  color: var(--text-primary);
  font-weight: 950;
  font-size: 18px;
}

[data-theme='light'] .pp-halfhalf-option__plus{
  background: rgba(15,23,42,0.04);
}

/* CTA stays visible at the bottom of the panel without scrolling */
.pp-halfhalf-cta{
  position: sticky;
  bottom: 0;
  z-index: 5;
  margin-top: 10px;
  padding-top: 10px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  background: linear-gradient(180deg, rgba(0,0,0,0), var(--pp-surface, var(--panel)) 65%);
}

/* If the viewport is short, tighten spacing globally in the half/half panel */
@media (max-height: 820px){
  .pp-halfhalf-cta{ padding-top: 8px; padding-bottom: calc(8px + env(safe-area-inset-bottom)); }
  .pp-halfhalf-options{ gap: 8px; }
}

/* Half & Half: allow scrolling without showing a scrollbar */
.pp-halfhalf-body {
  scrollbar-width: none;
}
.pp-halfhalf-body::-webkit-scrollbar {
  width: 0;
  height: 0;
}
.pp-halfhalf-body{
  overflow-y: visible !important;
  overflow-x: hidden !important;
}

.pp-halfhalf-cta .place-order-button,
.pp-halfhalf-body .pp-btn-full{
  display: block;
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box;
}

/* Keep Continue row perfectly inside the panel */
.pp-halfhalf-continueRow{
  width: 100%;
  box-sizing: border-box;
  display: flex;
  padding: 0 1px 8px;
}

.pp-halfhalf-continueRow > button{
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

/* Lock panel height to avoid extra page/sidebar scrollbars */
@media (min-width: 1024px){
  .right-sidebar.right-sidebar--halfhalf{
    position: sticky !important;
    top: 0 !important;
    height: 100vh !important;
    overflow: hidden !important;
    border-left: 1px solid var(--border-color);
  }
  .order-panel-container.order-panel-container--halfhalf{
    height: 100vh !important;
    overflow: hidden !important;
  }
}

/* Optional: prevents layout shift when scrollbars appear/disappear */
html{ scrollbar-gutter: stable; }

/* belt + braces: disable touch scroll chaining */
html.pp-halfhalf-open .pp-halfhalf-panel{
  overscroll-behavior: none;
  touch-action: pan-y;
}

/* Half & Half open: hard-hide scrollbars everywhere (final override) */
html.pp-halfhalf-open,
body.pp-halfhalf-open,
html.pp-halfhalf-open *,
body.pp-halfhalf-open *{
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

html.pp-halfhalf-open::-webkit-scrollbar,
body.pp-halfhalf-open::-webkit-scrollbar,
html.pp-halfhalf-open *::-webkit-scrollbar,
body.pp-halfhalf-open *::-webkit-scrollbar{
  width: 0 !important;
  height: 0 !important;
  display: none !important;
}

/* ======================================================================
   PP THEME + MOTION v3 (paste at very bottom of App.css)
   ====================================================================== */

/* Motion tokens */
:root{
  --pp-ease: cubic-bezier(.22, 1, .36, 1);       /* flowy */
  --pp-ease-soft: cubic-bezier(.25, .8, .25, 1);
  --pp-dur-1: 140ms;
  --pp-dur-2: 240ms;
  --pp-dur-3: 380ms;
  --pp-dur-4: 520ms;

  --pp-radius-md: 14px;
  --pp-radius-lg: 18px;
  --pp-radius-xl: 22px;
}

/* Light/Dark tokens (also map to your existing vars so nothing breaks) */
html[data-theme="dark"], body[data-theme="dark"]{
  color-scheme: dark;

  --pp-bg: #0b0f14;
  --pp-surface: #0f172a;
  --pp-surface-2: #111c33;
  --pp-surface-3: rgba(255,255,255,0.04);

  --pp-text: #eaf2ff;
  --pp-muted: #9fb1c7;
  --pp-dim: #7e93aa;

  --pp-border: rgba(255,255,255,0.10);
  --pp-line: rgba(255,255,255,0.08);

  --pp-shadow-sm: 0 10px 22px rgba(0,0,0,0.22);
  --pp-shadow-md: 0 16px 40px rgba(0,0,0,0.28);
  --pp-shadow-lg: 0 24px 60px rgba(0,0,0,0.34);

  /* compatibility with your existing CSS */
  --background: var(--pp-bg);
  --background-dark: var(--pp-bg);
  --background-light: var(--pp-bg);

  --panel: var(--pp-surface);
  --surface: var(--pp-surface);

  --text-primary: var(--pp-text);
  --text-medium: var(--pp-muted);
  --text-light: var(--pp-text);

  --border-color: var(--pp-border);
  --line: var(--pp-line);

  --shadow-card: var(--pp-shadow-sm);
  --shadow-float: var(--pp-shadow-md);
  --shadow-modal: var(--pp-shadow-lg);
}

html[data-theme="light"], body[data-theme="light"]{
  color-scheme: light;

  --pp-bg: #f6f8fc;
  --pp-surface: #ffffff;
  --pp-surface-2: #f1f5fb;
  --pp-surface-3: rgba(15,23,42,0.03);

  --pp-text: #0b1220;
  --pp-muted: #3d4c5f;
  --pp-dim: #637489;

  --pp-border: rgba(15,23,42,0.12);
  --pp-line: rgba(15,23,42,0.10);

  --pp-shadow-sm: 0 10px 22px rgba(2,6,23,0.08);
  --pp-shadow-md: 0 16px 40px rgba(2,6,23,0.10);
  --pp-shadow-lg: 0 24px 60px rgba(2,6,23,0.14);

  /* compatibility */
  --background: var(--pp-bg);
  --background-dark: var(--pp-bg);
  --background-light: var(--pp-bg);

  --panel: var(--pp-surface);
  --surface: var(--pp-surface);

  --text-primary: var(--pp-text);
  --text-medium: var(--pp-muted);
  --text-light: var(--pp-text);

  --border-color: var(--pp-border);
  --line: var(--pp-line);

  --shadow-card: var(--pp-shadow-sm);
  --shadow-float: var(--pp-shadow-md);
  --shadow-modal: var(--pp-shadow-lg);
}

/* Base */
html, body{
  background: var(--background);
  color: var(--text-primary);
}

/* Smooth theme “passage” (only during the switch) */
html[data-theme-transition="1"] *{
  transition:
    background-color var(--pp-dur-3) var(--pp-ease),
    color var(--pp-dur-3) var(--pp-ease),
    border-color var(--pp-dur-3) var(--pp-ease),
    box-shadow var(--pp-dur-3) var(--pp-ease),
    transform var(--pp-dur-3) var(--pp-ease),
    filter var(--pp-dur-3) var(--pp-ease),
    opacity var(--pp-dur-3) var(--pp-ease) !important;
}

/* Buttons: less rigid, more premium */
.pp-btn,
.quantity-btn,
.place-order-button{
  border-radius: var(--pp-radius-lg) !important;
  transition:
    transform var(--pp-dur-2) var(--pp-ease),
    box-shadow var(--pp-dur-2) var(--pp-ease),
    filter var(--pp-dur-2) var(--pp-ease),
    opacity var(--pp-dur-2) var(--pp-ease) !important;
  transform: translateY(0);
}

.pp-btn:hover:enabled,
.quantity-btn:hover:enabled,
.place-order-button:hover:enabled{
  transform: translateY(-1px);
  box-shadow: var(--shadow-float);
  filter: brightness(1.02);
}

.pp-btn:active:enabled,
.quantity-btn:active:enabled,
.place-order-button:active:enabled{
  transform: translateY(0px) scale(0.99);
  box-shadow: var(--shadow-card);
}

/* Remove highlight sweep (but DON'T break close buttons that draw their X with ::before/::after) */
.pp-btn:not(.pp-modal-close):not([aria-label="Close"])::after,
.place-order-button::after{
  content: none !important;
}

/* Cards: cleaner lift, softer border glow */
.menu-item-card,
.detail-panel,
.order-panel-container{
  border-radius: var(--pp-radius-xl);
  transition:
    transform var(--pp-dur-3) var(--pp-ease),
    box-shadow var(--pp-dur-3) var(--pp-ease),
    border-color var(--pp-dur-3) var(--pp-ease),
    background-color var(--pp-dur-3) var(--pp-ease) !important;
}

.menu-item-card:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow-float);
  border-color: color-mix(in srgb, var(--border-color) 70%, var(--brand-neon-green) 30%);
}

/* Panels / glassy surfaces (reduces “plastic slab” look) */
.order-panel-container,
.detail-panel{
  background: color-mix(in srgb, var(--panel) 92%, rgba(255,255,255,0.06) 8%);
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-card);
}

/* Half & Half slider: smoother thumb glide */
.pp-halfhalf-sideThumb{
  transition: transform 620ms var(--pp-ease) !important;
}

/* Quality-of-life: reduce motion if user prefers */
@media (prefers-reduced-motion: reduce){
  html[data-theme-transition="1"] *{
    transition: none !important;
  }
  .pp-btn, .quantity-btn, .place-order-button,
  .menu-item-card, .detail-panel, .order-panel-container{
    transition: none !important;
  }
  .pp-btn::after, .place-order-button::after{
    display: none !important;
  }
}

/* ======================================================================
   HALF & HALF — v2 THEME + MOTION (scoped)
   Paste at the VERY BOTTOM of App.css
   ====================================================================== */

/* Motion tokens (half/half only) */
.pp-halfhalf-panel{
  --hh-ease: cubic-bezier(.22, 1, .36, 1);
  --hh-ease-soft: cubic-bezier(.25, .8, .25, 1);
  --hh-d1: 140ms;
  --hh-d2: 240ms;
  --hh-d3: 380ms;
  --hh-d4: 620ms;

  --hh-r-lg: 18px;
  --hh-r-xl: 22px;
}

/* Theme tokens (half/half only) */
body[data-theme="dark"] .pp-halfhalf-panel{
  --hh-bg: rgba(15,23,42,0.92);
  --hh-surface: rgba(255,255,255,0.05);
  --hh-surface-2: rgba(255,255,255,0.035);
  --hh-text: rgba(226,232,240,0.92);
  --hh-muted: rgba(226,232,240,0.62);
  --hh-border: rgba(226,232,240,0.12);
  --hh-accent: rgba(190,242,100,0.70);
  --hh-shadow: 0 18px 46px rgba(0,0,0,0.34);
  --hh-shadow-soft: 0 10px 28px rgba(0,0,0,0.24);
}

body[data-theme="light"] .pp-halfhalf-panel{
  --hh-bg: rgba(255,255,255,0.92);
  --hh-surface: rgba(15,23,42,0.04);
  --hh-surface-2: rgba(15,23,42,0.03);
  --hh-text: rgba(15,23,42,0.90);
  --hh-muted: rgba(15,23,42,0.58);
  --hh-border: rgba(15,23,42,0.12);
  --hh-accent: rgba(22,163,74,0.52);
  --hh-shadow: 0 18px 46px rgba(2,6,23,0.12);
  --hh-shadow-soft: 0 10px 28px rgba(2,6,23,0.08);
}

/* Panel baseline */
.pp-halfhalf-panel{
  color: var(--hh-text);
}

/* HERO: richer but clean (no "plastic") */
.pp-halfhalf-panel .pp-halfhalf-hero{
  border-radius: 1.9rem !important;
  background:
    radial-gradient(720px 380px at 50% 18%, color-mix(in srgb, var(--hh-accent) 18%, transparent), transparent 60%),
    radial-gradient(520px 340px at 20% 12%, rgba(190,242,100,0.08), transparent 55%),
    radial-gradient(520px 340px at 80% 12%, rgba(190,242,100,0.06), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0));
  border: 1px solid var(--hh-border);
  box-shadow: var(--hh-shadow);
  overflow: hidden;
  position: relative;
  isolation: isolate;
}

/* subtle grain */
.pp-halfhalf-panel .pp-halfhalf-hero::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.020) 0px,
      rgba(255,255,255,0.020) 2px,
      rgba(0,0,0,0.020) 2px,
      rgba(0,0,0,0.020) 4px
    );
  mix-blend-mode: overlay;
  opacity: 0.28;
}

/* PIZZA: float + breathe on side change */
.pp-halfhalf-panel .pp-halfhalf-heroStage[data-side="A"],
.pp-halfhalf-panel .pp-halfhalf-heroStage[data-side="B"]{
  animation: hhBreathe var(--hh-d4) var(--hh-ease) 1;
}
@keyframes hhBreathe{
  0%   { transform: scale(0.996); }
  55%  { transform: scale(1.012); }
  100% { transform: scale(1); }
}

@media (prefers-reduced-motion: reduce){
  .pp-halfhalf-panel .pp-halfhalf-svg{
    animation: none !important;
    transform: translate(-50%, -50%) !important;
  }
  .pp-halfhalf-panel .pp-halfhalf-heroStage[data-side="A"],
  .pp-halfhalf-panel .pp-halfhalf-heroStage[data-side="B"]{ animation: none !important; }
}

/* SLIDER SWITCH: glide + glass track */
.pp-halfhalf-panel .pp-halfhalf-sideSwitch{
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 4px;
  padding: 4px;
  border-radius: 999px;
  border: 1px solid var(--hh-border);
  background: color-mix(in srgb, var(--hh-bg) 70%, transparent);
  box-shadow: var(--hh-shadow-soft);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  overflow: hidden;
  align-items: stretch;
  user-select: none;
}

.pp-halfhalf-panel .pp-halfhalf-sideThumb{
  position: absolute;
  top: 4px;
  bottom: 4px;
  left: 4px;
  width: calc(50% - 4px);
  border-radius: 999px;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.20), rgba(255,255,255,0.08));
  border: 1px solid var(--hh-border);
  box-shadow: 0 18px 34px rgba(0,0,0,0.12);
  transition: transform var(--hh-d4) var(--hh-ease) !important;
}

.pp-halfhalf-panel .pp-halfhalf-sideBtn{
  position: relative;
  z-index: 1;
  background: transparent;
  border: 0;
  border-radius: 999px;
  padding: 0.62rem 0.85rem;
  cursor: pointer;
  font-weight: 850;
  font-size: 0.88rem;
  display: inline-flex;
  align-items: baseline;
  justify-content: center;
  gap: 0.5rem;
  color: var(--hh-text);
  opacity: 0.68;
  transition: opacity var(--hh-d2) var(--hh-ease-soft), transform var(--hh-d3) var(--hh-ease);
}

.pp-halfhalf-panel .pp-halfhalf-sideBtn.is-active{
  opacity: 1;
  transform: translateY(-1px);
}

.pp-halfhalf-panel .pp-halfhalf-sideMeta{
  color: var(--hh-muted);
  opacity: 1;
}

/* HALF SELECTED: clearer outline, less neon */
.pp-halfhalf-panel .pp-halfhalf-half{
  transition: opacity var(--hh-d3) var(--hh-ease), filter var(--hh-d4) var(--hh-ease);
}
.pp-halfhalf-panel .pp-halfhalf-half.is-active{
  filter: brightness(1.03) contrast(1.03);
}

.pp-halfhalf-panel .pp-halfhalf-halfOutline{
  stroke: var(--hh-accent);
  transition: opacity var(--hh-d3) var(--hh-ease), stroke-width var(--hh-d3) var(--hh-ease), filter var(--hh-d4) var(--hh-ease);
}
.pp-halfhalf-panel .pp-halfhalf-halfOutline.is-active{
  filter: drop-shadow(0 0 12px color-mix(in srgb, var(--hh-accent) 28%, transparent));
}

/* OPTIONS: smoother hover + selected state */
.pp-halfhalf-panel .pp-halfhalf-option{
  border-radius: 16px;
  border: 1px solid var(--hh-border);
  background: var(--hh-surface);
  box-shadow: none;
  transition:
    transform var(--hh-d2) var(--hh-ease),
    box-shadow var(--hh-d3) var(--hh-ease),
    border-color var(--hh-d3) var(--hh-ease),
    background-color var(--hh-d3) var(--hh-ease);
}

.pp-halfhalf-panel .pp-halfhalf-option:hover{
  transform: translateY(-2px);
  box-shadow: var(--hh-shadow-soft);
  border-color: color-mix(in srgb, var(--hh-border) 60%, var(--hh-accent) 40%);
}

.pp-halfhalf-panel .pp-halfhalf-option--selected{
  background: color-mix(in srgb, var(--hh-accent) 14%, var(--hh-surface) 86%);
  border-color: color-mix(in srgb, var(--hh-accent) 55%, var(--hh-border) 45%);
  box-shadow: 0 14px 34px color-mix(in srgb, var(--hh-accent) 14%, transparent);
}

/* CTA + Continue: consistent, premium lift */
.pp-halfhalf-panel .pp-halfhalf-continueRow > button,
.pp-halfhalf-panel .pp-halfhalf-cta .place-order-button{
  border-radius: var(--hh-r-lg);
  transition:
    transform var(--hh-d2) var(--hh-ease),
    box-shadow var(--hh-d3) var(--hh-ease),
    filter var(--hh-d2) var(--hh-ease);
}

.pp-halfhalf-panel .pp-halfhalf-continueRow > button:hover:enabled,
.pp-halfhalf-panel .pp-halfhalf-cta .place-order-button:hover:enabled{
  transform: translateY(-1px);
  box-shadow: var(--hh-shadow-soft);
  filter: brightness(1.02);
}

/* Half & Half: keep pizza perfectly centered even while animating */
.pp-halfhalf-panel .pp-halfhalf-svg{
  max-width: min(100%, 560px) !important;
  max-height: min(100%, 560px) !important;
  filter: drop-shadow(0 18px 34px rgba(0,0,0,0.14));
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) scale(var(--pp-hh-scale, 1)) !important;

  will-change: transform;
  animation: hhFloatCentered 9.5s cubic-bezier(.25, .8, .25, 1) infinite;
}

@keyframes hhFloatCentered{
  0%, 100% { transform: translate(-50%, -50%) scale(var(--pp-hh-scale, 1)) translateY(0px) rotate(0deg); }
  50%      { transform: translate(-50%, -50%) scale(var(--pp-hh-scale, 1)) translateY(-7px) rotate(-0.35deg); }
}

/* =========================
   Half & Half - FINAL glow (single source of truth)
   - Tight neon ring with feathered edges (dense, not aura)
   ========================= */

/* keep room so glow doesn’t feel clipped */
.pp-halfhalf-panel .pp-halfhalf-hero{
  padding: 30px 22px 20px !important;
}

/* kill any old aura pseudo-element */
.pp-halfhalf-panel .pp-halfhalf-heroStage::before{
  content: none !important;
  display: none !important;
  opacity: 0 !important;
}

/* Outer soft band (feathered) — dense neon green */
.pp-halfhalf-panel .pp-halfhalf-halfGlow{
  display: block !important;
  fill: none !important;
  stroke: rgba(0, 255, 145, 0.22) !important; /* dark neon */
  stroke-width: 12 !important;
  opacity: 0;
  filter:
    blur(1.4px)
    drop-shadow(0 0 18px rgba(0, 255, 145, 0.30))
    drop-shadow(0 0 54px rgba(0, 255, 145, 0.16)) !important;
  transition: opacity 320ms cubic-bezier(.22,1,.36,1);
  stroke-linecap: round;
  stroke-linejoin: round;
}
.pp-halfhalf-panel .pp-halfhalf-halfGlow.is-active{ opacity: 1; }

/* Inner line = the “neon tube” (tight + punchy) */
.pp-halfhalf-panel .pp-halfhalf-halfLine{
  fill: none !important;
  stroke: rgba(0, 255, 145, 0.72) !important;
  stroke-width: 2.35 !important;
  opacity: 0;
  filter:
    drop-shadow(0 0 8px rgba(0, 255, 145, 0.65))
    drop-shadow(0 0 22px rgba(0, 255, 145, 0.38))
    drop-shadow(0 0 60px rgba(0, 255, 145, 0.14)) !important;
  transition: opacity 320ms cubic-bezier(.22,1,.36,1);
  stroke-linecap: round;
  stroke-linejoin: round;
}
.pp-halfhalf-panel .pp-halfhalf-halfLine.is-active{ opacity: 1; }

/* Light mode: same geometry, lower intensity */
body[data-theme="light"] .pp-halfhalf-panel .pp-halfhalf-halfGlow{
  stroke: rgba(0, 200, 120, 0.16) !important;
  filter:
    blur(1.2px)
    drop-shadow(0 0 14px rgba(0, 200, 120, 0.18))
    drop-shadow(0 0 42px rgba(0, 200, 120, 0.10)) !important;
}
body[data-theme="light"] .pp-halfhalf-panel .pp-halfhalf-halfLine{
  stroke: rgba(0, 200, 120, 0.54) !important;
  filter:
    drop-shadow(0 0 6px rgba(0, 200, 120, 0.30))
    drop-shadow(0 0 16px rgba(0, 200, 120, 0.16))
    drop-shadow(0 0 44px rgba(0, 200, 120, 0.06)) !important;
}

/* =========================
   Half & Half - HERO container sizing
   ========================= */

/* Shrink stage a touch so the glow stays inside the rounded frame */
.pp-halfhalf-panel .pp-halfhalf-heroStage{
  width: min(560px, 68%) !important; /* was 72% */
  max-width: none !important;
  aspect-ratio: 1 / 1;
  display: grid;
  place-items: center;
  margin: 0 auto;
  position: relative;
  overflow: visible; /* hero remains the clip */
  isolation: isolate;
}

/* =========================
   Close (X) buttons — TRUE center using 2 bars
   ========================= */

:root{
  --pp-xbtn-size: 38px;
  --pp-xbar-len: 16px;
  --pp-xbar-thick: 2px;
  --pp-xbtn-nudge-x: 0px; /* tweak if ever needed */
  --pp-xbtn-nudge-y: 0px;
}

/* Target ONLY real close buttons */
button.pp-modal-close,
button.quantity-btn[title="Close"],
button.pp-btn.pp-btn-subtle[aria-label="Close"]{
  width: var(--pp-xbtn-size);
  height: var(--pp-xbtn-size);
  padding: 0 !important;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  position: relative;              /* needed for bars */
  border-radius: 999px;

  border: 1px solid rgba(148,163,184,0.35);
  background: rgba(15,23,42,0.35);

  /* kill font glyph influence completely */
  font-size: 0 !important;
  line-height: 0 !important;
  color: transparent !important;
  text-indent: -9999px;            /* if any text remains */
  overflow: hidden;

  cursor: pointer;

  transition:
    transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),
    background-color 160ms ease,
    border-color 160ms ease,
    box-shadow 160ms ease,
    filter 160ms ease;
}

/* Draw the X with two perfectly centered bars */
button.pp-modal-close::before,
button.pp-modal-close::after,
button.quantity-btn[title="Close"]::before,
button.quantity-btn[title="Close"]::after,
button.pp-btn.pp-btn-subtle[aria-label="Close"]::before,
button.pp-btn.pp-btn-subtle[aria-label="Close"]::after{
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: var(--pp-xbar-len);
  height: var(--pp-xbar-thick);
  background: var(--text-light);
  border-radius: 999px;
  transform-origin: center;
}

/* bar 1 */
button.pp-modal-close::before,
button.quantity-btn[title="Close"]::before,
button.pp-btn.pp-btn-subtle[aria-label="Close"]::before{
  transform: translate(calc(-50% + var(--pp-xbtn-nudge-x)), calc(-50% + var(--pp-xbtn-nudge-y))) rotate(45deg);
}

/* bar 2 */
button.pp-modal-close::after,
button.quantity-btn[title="Close"]::after,
button.pp-btn.pp-btn-subtle[aria-label="Close"]::after{
  transform: translate(calc(-50% + var(--pp-xbtn-nudge-x)), calc(-50% + var(--pp-xbtn-nudge-y))) rotate(-45deg);
}

/* Hover: subtle lift + glow */
button.pp-modal-close:hover,
button.quantity-btn[title="Close"]:hover,
button.pp-btn.pp-btn-subtle[aria-label="Close"]:hover{
  transform: translateY(-1px) scale(1.04);
  background: rgba(15,23,42,0.55);
  border-color: rgba(190,242,100,0.55);
  box-shadow: 0 0 0 3px rgba(190,242,100,0.14), 0 10px 30px rgba(0,0,0,0.35);
  filter: brightness(1.03);
}

/* Optional: tiny “sleek” micro-rotate on hover */
button.pp-modal-close:hover::before,
button.quantity-btn[title="Close"]:hover::before,
button.pp-btn.pp-btn-subtle[aria-label="Close"]:hover::before{
  transform: translate(calc(-50% + var(--pp-xbtn-nudge-x)), calc(-50% + var(--pp-xbtn-nudge-y))) rotate(50deg);
}
button.pp-modal-close:hover::after,
button.quantity-btn[title="Close"]:hover::after,
button.pp-btn.pp-btn-subtle[aria-label="Close"]:hover::after{
  transform: translate(calc(-50% + var(--pp-xbtn-nudge-x)), calc(-50% + var(--pp-xbtn-nudge-y))) rotate(-50deg);
}

/* Active press */
button.pp-modal-close:active,
button.quantity-btn[title="Close"]:active,
button.pp-btn.pp-btn-subtle[aria-label="Close"]:active{
  transform: translateY(0px) scale(0.98);
}

/* Keyboard focus */
button.pp-modal-close:focus-visible,
button.quantity-btn[title="Close"]:focus-visible,
button.pp-btn.pp-btn-subtle[aria-label="Close"]:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(190,242,100,0.22), 0 0 0 1px rgba(190,242,100,0.35);
}

/* =========================
   Half & Half action buttons (Edit ingredients / Add-ons / Reset half)
   ========================= */

.pp-halfhalf-panel .pp-hh-actionBtn{
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.55);
  background: rgba(148,163,184,0.12);
  color: var(--text-light);

  font-weight: 850;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-size: 0.74rem;

  padding: 0.42rem 0.92rem;
  cursor: pointer;

  transition:
    transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),
    box-shadow 160ms ease,
    background-color 160ms ease,
    border-color 160ms ease,
    color 160ms ease,
    filter 160ms ease;
}

.pp-halfhalf-panel[data-compact="1"] .pp-hh-actionBtn{
  font-size: 0.70rem;
  padding: 0.36rem 0.82rem;
}

/* Disabled state */
.pp-halfhalf-panel .pp-hh-actionBtn:disabled{
  opacity: 0.55;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
  filter: none !important;
}

/* Hover / active animation */
.pp-halfhalf-panel .pp-hh-actionBtn:not(:disabled):hover{
  transform: translateY(-1px);
  box-shadow: 0 10px 26px rgba(0,0,0,0.22);
  filter: brightness(1.05);
}
.pp-halfhalf-panel .pp-hh-actionBtn:not(:disabled):active{
  transform: translateY(0px) scale(0.98);
}

/* Focus */
.pp-halfhalf-panel .pp-hh-actionBtn:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(190,242,100,0.22);
}

/* Variants */
.pp-halfhalf-panel .pp-hh-actionBtn--neutral{
  border-color: rgba(190,242,100,0.45);
  background: rgba(190,242,100,0.12);
}
.pp-halfhalf-panel .pp-hh-actionBtn--warn{
  border-color: rgba(190,242,100,0.55);
  background: rgba(190,242,100,0.18);
  color: var(--text-primary);
}
.pp-halfhalf-panel .pp-hh-actionBtn--danger{
  border-color: rgba(248,113,113,0.55);
  background: rgba(239,68,68,0.16);
  color: rgba(254,202,202,1);
}

/* Light mode: make them actually visible on white/near-white */
html[data-theme="light"] .pp-halfhalf-panel .pp-hh-actionBtn{
  background: rgba(15,23,42,0.06);
  border-color: rgba(15,23,42,0.20);
  color: rgba(15,23,42,0.92);
  box-shadow: 0 6px 18px rgba(15,23,42,0.10);
}

html[data-theme="light"] .pp-halfhalf-panel .pp-hh-actionBtn--warn{
  background: rgba(190,242,100,0.20);
  border-color: rgba(190,242,100,0.45);
  color: var(--text-primary);
}

html[data-theme="light"] .pp-halfhalf-panel .pp-hh-actionBtn--danger{
  background: rgba(239,68,68,0.14);
  border-color: rgba(190,18,60,0.28);
  color: rgba(136,19,55,0.95);
}

/* ======================================================================
   Half & Half — action buttons DARK MODE (FINAL, vibrant + feels interactive)
   Put this at the VERY BOTTOM so it wins.
   ====================================================================== */

@keyframes ppHhDisabledPulse {
  0%, 100% { box-shadow: 0 10px 26px rgba(0,0,0,0.45); }
  50%      { box-shadow: 0 0 0 3px rgba(190,242,100,0.08), 0 14px 34px rgba(0,0,0,0.55); }
}

/* Base in dark mode: more contrast */
[data-theme="dark"] .pp-halfhalf-panel .pp-hh-actionBtn{
  border-color: rgba(226,232,240,0.22) !important;
  background: rgba(255,255,255,0.10) !important;
  color: rgba(241,245,249,0.96) !important;
  box-shadow: 0 10px 26px rgba(0,0,0,0.45) !important;
  filter: saturate(1.15);
}

/* Disabled: still obvious, not "dead" */
[data-theme="dark"] .pp-halfhalf-panel .pp-hh-actionBtn:disabled{
  opacity: 1 !important;                 /* kills the dull look */
  cursor: not-allowed;
  animation: ppHhDisabledPulse 1.25s ease-in-out infinite;
}

/* Disabled variants keep their "meaning" */
[data-theme="dark"] .pp-halfhalf-panel .pp-hh-actionBtn--neutral:disabled{
  background: rgba(190,242,100,0.14) !important;
  border-color: rgba(190,242,100,0.42) !important;
  color: rgba(241,245,249,0.82) !important;
}

[data-theme="dark"] .pp-halfhalf-panel .pp-hh-actionBtn--warn:disabled{
  background: rgba(190,242,100,0.18) !important;
  border-color: rgba(190,242,100,0.50) !important;
  color: rgba(241,245,249,0.82) !important;
}

[data-theme="dark"] .pp-halfhalf-panel .pp-hh-actionBtn--danger:disabled{
  background: rgba(248,113,113,0.14) !important;
  border-color: rgba(248,113,113,0.48) !important;
  color: rgba(254,226,226,0.82) !important;
}

/* =========================================================
   MOBILE RESPONSIVE PACK (site-wide)
   Paste at VERY BOTTOM of App.css so it overrides everything
   ========================================================= */

/* 0) Baseline mobile ergonomics */
@media (max-width: 1023.98px) {
  html, body {
    overflow-x: hidden;
  }

  /* comfortable padding on small screens */
  .app-grid-layout {
    padding-inline: 0.45rem;
    padding-block: 0.55rem;
    gap: 0.75rem;
  }

  /* main slab tighter */
  .main-content-area {
    padding: 0.6rem 0.45rem 0.85rem;
  }

  /* categories: less chunky */
  .menu-category {
    margin-bottom: 1.1rem;
    padding: 0.55rem 0.55rem 0.75rem;
  }

  /* category title scroll offset should match taller mobile nav */
  .category-title {
    scroll-margin-top: 12rem;
    font-size: 1.15rem;
  }

  /* menu grid spacing tighter */
  .menu-grid {
    gap: 0.6rem;
  }

  /* card text slightly tighter */
  .card-text-container {
    padding: 0.55rem;
  }
  .card-item-name {
    font-size: 0.92rem;
  }
  .card-item-description {
    font-size: 0.78rem;
  }

  /* Buttons: tap targets */
  .pp-btn,
  .place-order-button,
  .simple-button {
    min-height: 44px;
  }

  .quantity-btn {
    width: 44px;
    height: 44px;
  }

  /* ✅ Show the order panel on mobile as a normal section BELOW the menu */
  .right-sidebar {
    display: block;        /* overrides desktop hide */
    position: relative;
    top: auto;
    height: auto;
    border-left: none;
    background: transparent;
    box-shadow: none;
    padding: 0;
  }

  /* remove desktop sticky + viewport lock */
  .order-panel-container {
    position: relative;
    top: auto;
    height: auto;
    max-height: none;
    margin-top: 0.9rem;
    padding: 1.05rem;
    border-radius: 1rem;
  }

  /* half/half overlay variants should not lock height on mobile */
  .right-sidebar.right-sidebar--halfhalf,
  .order-panel-container.order-panel-container--halfhalf {
    position: relative !important;
    height: auto !important;
    overflow: visible !important;
  }
}

/* 3) Touch devices: kill “hover jump” effects so taps don’t bounce */
@media (hover: none) and (pointer: coarse) {
  .menu-item-card:hover {
    transform: none !important;
    box-shadow: var(--shadow-card) !important;
    border-color: var(--border-color) !important;
  }

  .place-order-button:hover,
  .pp-btn:hover,
  .quantity-btn:hover {
    transform: none !important;
    filter: none !important;
  }
}

/* 4) Modals become full-screen sheets on phones */
@media (max-width: 640px) {
  /* Your legacy modal */
  .modal-overlay {
    align-items: stretch;
  }
  .modal-content {
    width: 100vw;
    max-width: none;
    height: 100vh;
    max-height: none;
    border-radius: 0;
    padding: 1rem;
  }
  .modal-body {
    padding: 0.5rem 0;
  }

  /* Your pp-modal system */
  .pp-modal-backdrop {
    align-items: stretch;
    justify-content: stretch;
    padding: 0;
  }
  .pp-modal {
    width: 100vw;
    max-width: none;
    height: 100vh;
    max-height: none;
    border-radius: 0;
    padding: 1rem;
  }
  .pp-modal-body {
    max-height: none;
    height: calc(100vh - 140px);
  }
}

/* 5) Item detail panel bits (common “too wide / cramped”) */
@media (max-width: 640px) {
  .detail-image {
    height: 10.5rem;
  }

  .size-quantity-row {
    flex-wrap: wrap;
    gap: 0.6rem;
  }

  .quantity-controls {
    width: 100%;
    justify-content: space-between;
  }
}

/* 6) Half & Half: make sure it fits nicely on small screens */
@media (max-width: 640px) {
  .pp-halfhalf-panel .pp-halfhalf-hero {
    padding: 18px 14px 14px !important;
    border-radius: 1.25rem !important;
  }

  .pp-halfhalf-panel .pp-halfhalf-heroStage {
    width: min(460px, 92%) !important;
  }

  .pp-halfhalf-panel .pp-halfhalf-options {
    grid-template-columns: 1fr;
  }
}

/* Hard fallback: stack layout as normal blocks on small screens */
@media (max-width: 1023.98px) {
  .app-grid-layout {
    display: block !important;
  }

  .left-pane,
  .right-sidebar {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;
  }

  .main-content-area {
    display: block !important;
  }
}

/* Mobile menu grid: 2-up cards */
@media (max-width: 639.98px) {
  .menu-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* =========================================================
   MOBILE LAYOUT (<= 1024px)
   - Show the order panel under the menu
   - Make navbar + modals mobile-friendly
   ========================================================= */

@media (max-width: 1023.98px) {
  /* Page padding a bit tighter */
  .app-grid-layout {
    padding-inline: 0.75rem;
    padding-block: 0.75rem;
    gap: 0.9rem;
  }

  .left-pane {
    min-height: auto;
  }

  /* Main content: reduce padding */
  .main-content-area {
    /* Tighten the gap under the sticky header on mobile */
    padding: 0.65rem 1rem 1rem;
  }

  /* ✅ Bring back the right panel on mobile */
  .right-sidebar {
    display: block;
    position: relative;
    top: auto;
    height: auto;
    border-left: none;
    background: transparent; /* let panel styles handle it */
    box-shadow: none;
    padding: 0;
  }

  /* ✅ Order panel becomes a normal section (not sticky / not 100vh) */
  .order-panel-container {
    position: relative;
    top: auto;
    height: auto;
    max-height: none;
    margin-top: 0.75rem;
    padding: 1.1rem;
    border-radius: 1rem;
  }

  /* When half/half is open on mobile, don’t force 100vh locks */
  .right-sidebar.right-sidebar--halfhalf,
  .order-panel-container.order-panel-container--halfhalf {
    position: relative !important;
    height: auto !important;
    overflow: visible !important;
  }

  /* Backdrop + drawer */
  .pp-topnav__searchBackdrop {
    position: fixed;
    inset: 0;
    z-index: 18;
    background: rgba(2, 6, 23, 0.28);
    backdrop-filter: blur(1px);
    -webkit-backdrop-filter: blur(1px);
  }

  .pp-topnav__searchDrawer {
    position: absolute;
    left: 0;
    right: 0;
    top: 100%;
    z-index: 19;
    margin-top: 0.35rem;
    padding: 0.75rem 0.85rem;
    background: var(--pp-surface, var(--panel));
    border: 1px solid var(--border-color);
    border-left: none;
    border-right: none;
    box-shadow: var(--shadow-modal);
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;
    transition: transform 220ms cubic-bezier(0.2, 0.8, 0.2, 1),
      opacity 180ms ease;
  }

  .pp-topnav__searchDrawer.is-open {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  .pp-topnav__searchDrawerInner {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.6rem;
    align-items: stretch;
  }

  .pp-topnav__searchField {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    min-width: 0;
  }

  .pp-topnav__searchLabel {
    font-size: 0.68rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--text-medium);
    font-weight: 800;
  }

  @media (max-width: 420px) {
    .pp-topnav__searchDrawerInner {
      grid-template-columns: 1fr;
    }
  }

}

/* =========================================================
   MODALS AS MOBILE SHEETS (small screens)
   ========================================================= */
@media (max-width: 640px) {
  /* Generic modal */
  .modal-content {
    width: 100vw;
    max-width: none;
    height: 100vh;
    max-height: none;
    border-radius: 0;
    padding: 1rem;
  }

  /* PP modal (addons / ingredients / profile) */
  .pp-modal {
    width: 100vw;
    max-width: none;
    max-height: 100vh;
    height: 100vh;
    border-radius: 0;
    padding: 1rem;
  }

  .pp-modal-body {
    max-height: none;
    height: calc(100vh - 140px);
  }
}

/* =========================================================
   HALF & HALF: mobile fit tweaks
   ========================================================= */
@media (max-width: 640px) {
  .pp-halfhalf-panel .pp-halfhalf-hero {
    padding: 18px 14px 14px !important;
    border-radius: 1.25rem !important;
  }

  .pp-halfhalf-panel .pp-halfhalf-heroStage {
    width: min(520px, 92%) !important;
  }

  .pp-halfhalf-panel .pp-halfhalf-sideBtn {
    font-size: 0.82rem;
    padding: 0.54rem 0.7rem;
  }
}

/* Enabled hover feels premium */
[data-theme="dark"] .pp-halfhalf-panel .pp-hh-actionBtn:not(:disabled):hover{
  transform: translateY(-1px) scale(1.06);
  border-color: rgba(190,242,100,0.60) !important;
  box-shadow: 0 0 0 3px rgba(190,242,100,0.14), 0 18px 44px rgba(0,0,0,0.60) !important;
  filter: brightness(1.08) saturate(1.25);
}

/* ======================================================================
   Meal Deal Half & Half overlay: keep scrolling + compact tweaks
   (scoped so the rest of the site is unchanged)
   ====================================================================== */

.pp-mealdeal-halfhalf{
  /* tiny, clean shrink without re-laying out all the inline styles */
  --pp-mealhh-scale: 0.965;
  overflow: auto !important;
  touch-action: pan-y;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
  -webkit-overflow-scrolling: touch;
}

.pp-mealdeal-halfhalf::-webkit-scrollbar{
  width: 0 !important;
  height: 0 !important;
}

.pp-mealdeal-halfhalf .pp-halfhalf-panel,
.pp-mealdeal-halfhalf .pp-halfhalf-body{
  overflow: visible !important;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

.pp-mealdeal-halfhalf .pp-halfhalf-panel::-webkit-scrollbar,
.pp-mealdeal-halfhalf .pp-halfhalf-body::-webkit-scrollbar{
  width: 0 !important;
  height: 0 !important;
}

.pp-mealdeal-halfhalf .pp-halfhalf-panel{
  transform: scale(var(--pp-mealhh-scale));
  transform-origin: top center;
  height: auto !important;
  min-height: 100%;
}

/* tighten switch + CTA a touch */
.pp-mealdeal-halfhalf .pp-halfhalf-sideBtn{
  padding: 0.52rem 0.72rem !important;
  font-size: 0.82rem !important;
}

.pp-mealdeal-halfhalf .pp-halfhalf-cta{
  margin-top: 6px !important;
  padding-top: 6px !important;
  padding-bottom: calc(6px + env(safe-area-inset-bottom)) !important;
}

.pp-mealdeal-halfhalf .pp-halfhalf-cta .place-order-button{
  padding: 0.6rem 0.85rem !important;
  font-size: 0.84rem !important;
}

/* Meal Deal Half & Half ONLY: slightly tighter hero */
.pp-mealdeal-halfhalf .pp-halfhalf-panel .pp-halfhalf-hero{
  padding: 9px 9px 7px !important;
}
.pp-mealdeal-halfhalf .pp-halfhalf-panel .pp-halfhalf-heroStage{
  width: min(460px, 86%) !important;
}

/* =========================================================
   Item detail panel as mobile modal
   ========================================================= */

.pp-itemdetail-modal__backdrop{
  display: none;
}

@media (max-width: 1023.98px) {
  .order-panel-container--detail{
    padding: 0;
    border: 0;
    background: transparent;
    box-shadow: none;
  }

  .pp-itemdetail-modal{
    position: fixed;
    inset: 0;
    z-index: 1400;
    display: flex;
    align-items: stretch;
    justify-content: stretch;
  }

  .pp-itemdetail-modal__backdrop{
    display: block;
    position: absolute;
    inset: 0;
    background: rgba(2, 6, 23, 0.6);
  }

  .pp-itemdetail-modal__panel{
    position: relative;
    z-index: 1;
    width: 100%;
    height: 100vh;
    height: 100dvh;
    max-height: 100vh;
    max-height: 100dvh;
    background: var(--pp-surface, var(--panel));
    border-radius: 0;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }
}

/* =========================================================
   Item detail panel -- make it fill the right sidebar height
   ========================================================= */

/* Desktop: the right sidebar has a fixed-height container, so stretch the detail panel into it */
@media (min-width: 1024px){
  .order-panel-container--detail{
    /* keeps your current look, but ensures children can use full height */
    min-height: 0;
    /* When ItemDetailPanel is open, keep the right panel as a fixed-height shell
       and let the inner body scroll (prevents the panel extending the page). */
    overflow: hidden;
    position: relative;
  }

  .pp-itemdetail-modal{
    /* Overlay inside the right panel so it doesn't extend page height */
    position: absolute;
    inset: 0;
    height: 100%;
    min-height: 0;
    display: flex;
    flex-direction: column;
  }

  .pp-itemdetail-modal__panel{
    height: 100%;
    min-height: 0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  /* your ItemDetailPanel root */
  .pp-itemdetail-modal__panel .detail-panel{
    height: 100% !important;
    min-height: 0;
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
  }

  /* Make the body the scroll container (not the whole right column) */
  .pp-itemdetail-modal__panel .detail-panel-body{
    flex: 1 1 auto;
    min-height: 0;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* let the hero take more vertical space */
  .pp-itemdetail-modal__panel .detail-image-wrapper{
    height: clamp(260px, 38vh, 520px) !important;
    margin-bottom: 0.9rem !important;
  }
}

/* Mobile: ensure the inner panel + detail panel fully fill the 100vh modal */
@media (max-width: 1023.98px){
  .pp-itemdetail-modal__panel{
    min-height: 0;
  }

  .pp-itemdetail-modal__panel .detail-panel{
    height: 100% !important;
    min-height: 0;
    display: flex;
    flex-direction: column;
  }

  /* bigger hero on tall phones */
  .pp-itemdetail-modal__panel .detail-image-wrapper{
    height: clamp(240px, 40vh, 520px) !important;
  }
}

/* =========================================================
   Half & Half - Mobile full-screen modal behavior (final)
   ========================================================= */
@media (max-width: 1023.98px) {
  html.pp-halfhalf-open,
  body.pp-halfhalf-open {
    height: 100vh;
    height: 100dvh;
    overflow: hidden;
    overscroll-behavior: none;
  }

  /* allow the panel to scroll, not the page */
  .pp-halfhalf-modal__panel {
    overflow: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  /* force the builder body to scroll normally */
  .pp-halfhalf-modal__panel .pp-halfhalf-body {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
}

/* =========================================================
   Half & Half editor overlay (ItemDetailPanel) on mobile
   ========================================================= */
.pp-hh-editorModal {
  position: fixed;
  inset: 0;
  z-index: 1600;
  display: flex;
  align-items: stretch;
  justify-content: stretch;
}

.pp-hh-editorModal__backdrop {
  position: absolute;
  inset: 0;
  background: rgba(2, 6, 23, 0.66);
}

.pp-hh-editorModal__panel {
  position: relative;
  z-index: 1;
  width: 100%;
  height: 100vh;
  height: 100dvh;
  background: var(--pp-surface, var(--panel));
  padding: 1rem;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* =========================================================
   Half & Half panel as mobile modal
   ========================================================= */

.pp-halfhalf-modal__backdrop{
  display: none;
}

.pp-halfhalf-modal,
.pp-halfhalf-modal__panel{
  height: 100%;
}

@media (max-width: 1023.98px) {
  .order-panel-container--halfhalf{
    padding: 0;
    border: 0;
    background: transparent;
    box-shadow: none;
  }

  .pp-halfhalf-modal{
    position: fixed;
    inset: 0;
    z-index: 1400;
    display: flex;
    align-items: stretch;
    justify-content: stretch;
  }

  .pp-halfhalf-modal__backdrop{
    display: block;
    position: absolute;
    inset: 0;
    background: rgba(2, 6, 23, 0.6);
  }

  .pp-halfhalf-modal__panel{
    position: relative;
    z-index: 1;
    width: 100%;
    height: 100vh;
    height: 100dvh;
    max-height: 100vh;
    max-height: 100dvh;
    background: var(--pp-surface, var(--panel));
    border-radius: 0;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .pp-halfhalf-modal__panel .pp-halfhalf-panel{
    height: auto !important;
    min-height: 100%;
  }
}

/* =========================
   Half & Half - Enterprise Details Panel
   ========================= */

.pp-halfhalf-panel .pp-hh-detailsCard{
  margin: 0.9rem 0 1.1rem;
  padding: 1.15rem 1.25rem;
  border-radius: 22px;
  border: 1px solid rgba(148,163,184,0.20);
  background:
    radial-gradient(900px 360px at 50% 0%, rgba(190,242,100,0.08), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.10));
  box-shadow: var(--shadow-float);
}

.pp-halfhalf-panel[data-compact="1"] .pp-hh-detailsCard{
  margin: 0.45rem 0 0.55rem;
  padding: 0.85rem 0.9rem;
  border-radius: 18px;
}

.pp-hh-detailsHeader{
  display: grid;
  gap: 0.25rem;
  margin-bottom: 0.85rem;
}

.pp-hh-detailsTitle{
  font-weight: 950;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-size: 0.95rem;
  color: var(--brand-neon-green);
}

.pp-hh-detailsSub{
  font-weight: 650;
  color: var(--text-medium);
  font-size: 0.9rem;
}

.pp-hh-sharedCard{
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
  padding: 0.85rem 0.95rem;
  margin-bottom: 1rem;
}

/* 2 columns + divider */
.pp-hh-halvesGrid{
  display: grid;
  grid-template-columns: 1fr 2px 1fr;
  gap: 1.25rem;
  align-items: start;
}

.pp-hh-divider{
  width: 2px;
  border-radius: 999px;
  background: linear-gradient(180deg,
    rgba(190,242,100,0.05),
    rgba(190,242,100,0.75),
    rgba(190,242,100,0.05)
  );
  box-shadow: 0 0 18px rgba(190,242,100,0.28);
}

/* Column */
.pp-hh-halfCol{
  min-width: 0;
}

.pp-hh-halfHeader{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  margin-bottom: 0.55rem;
}

.pp-hh-halfCol--right{
  text-align: right;
}

.pp-hh-halfLabel{
  font-size: 0.78rem;
  font-weight: 900;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: rgba(190,242,100,0.85);
}

.pp-hh-activePill{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.22rem 0.55rem;
  border-radius: 999px;
  font-size: 0.72rem;
  font-weight: 950;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: #0b1220;
  background: rgba(190,242,100,0.90);
  box-shadow: 0 10px 22px rgba(190,242,100,0.18);
}

.pp-hh-halfName{
  font-weight: 950;
  font-size: 1.02rem;
  letter-spacing: 0.02em;
  color: var(--text-primary);
  margin-bottom: 0.25rem;
}

.pp-hh-halfDesc{
  color: var(--text-medium);
  font-size: 0.88rem;
  line-height: 1.25;
  opacity: 0.95;
  display: -webkit-box;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-height: 2.2em; /* keeps both sides aligned */
}

/* Actions: consistent sizing */
.pp-hh-actions{
  display: grid;
  gap: 0.55rem;
  margin-top: 0.85rem;
}

.pp-halfhalf-panel .pp-hh-actionBtn{
  width: 100%;
  min-height: 44px;
  border-radius: 16px;
  padding: 0.72rem 0.9rem;
  font-size: 0.75rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-weight: 950;
  line-height: 1.15;
  white-space: normal;
}

/* Mobile: stack the halves (divider becomes horizontal) */
@media (max-width: 640px){
  .pp-hh-halvesGrid{
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  .pp-hh-divider{
    height: 2px;
    width: 100%;
  }
  .pp-hh-halfCol--right{
    text-align: left; /* feels cleaner on narrow screens */
  }
  .pp-hh-halfHeader{
    justify-content: space-between;
  }
}

/* =========================================================
   Meal Deal - mobile modal + picker overlay
   ========================================================= */

.pp-mealdeal-modal__backdrop{ display:none; }
.pp-mealdeal-modal,
.pp-mealdeal-modal__panel{ height:100%; }

@media (max-width: 1023.98px){
  .order-panel-container--mealdeal{
    padding: 0;
    border: 0;
    background: transparent;
    box-shadow: none;
  }

  .pp-mealdeal-modal{
    position: fixed;
    inset: 0;
    z-index: 1400;
    display: flex;
    align-items: stretch;
    justify-content: stretch;
  }

  .pp-mealdeal-modal__backdrop{
    display: block;
    position: absolute;
    inset: 0;
    background: rgba(2, 6, 23, 0.6);
  }

  .pp-mealdeal-modal__panel{
    position: relative;
    z-index: 1;
    width: 100%;
    height: 100vh;
    height: 100dvh;
    background: var(--pp-surface, var(--panel));
    padding: 1rem;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }
}

/* In-modal picker screen */
.pp-mealpick{
  position: absolute;
  inset: 0;
  z-index: 90;
  background: var(--pp-surface, var(--panel));
  display: flex;
  flex-direction: column;
}

.pp-mealpick__head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.75rem;
  padding: .9rem .9rem .75rem;
  border-bottom: 1px solid var(--border-color);
}

.pp-mealpick__title{
  font-weight: 950;
  letter-spacing: .10em;
  text-transform: uppercase;
  font-size: .85rem;
  color: var(--text-primary);
}

.pp-mealpick__sub{
  font-size: .9rem;
  color: var(--text-medium);
  font-weight: 650;
  margin-top: .15rem;
}

.pp-mealpick__body{
  flex: 1;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding: .85rem .9rem 1rem;
}

.pp-mealpick__grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: .9rem;
}

@media (min-width: 640px){
  .pp-mealpick__grid{
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

.pp-mealpick__card{
  border: 1px solid var(--border-color);
  border-radius: 16px;
  overflow: hidden;
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
  cursor: pointer;
  display:flex;
  flex-direction:column;
  transition: transform 160ms ease, border-color 160ms ease;
}
.pp-mealpick__card:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.35);
}

.pp-mealpick__img{
  width:100%;
  aspect-ratio: 4/3;
  object-fit: cover;
  display:block;
  background: rgba(255,255,255,0.04);
}

.pp-mealpick__meta{
  padding: .65rem .7rem .7rem;
  display:grid;
  gap:.25rem;
}

.pp-mealpick__name{
  font-weight: 900;
  font-size: .82rem;
  letter-spacing: .06em;
  text-transform: uppercase;
  color: var(--text-primary);
  line-height: 1.1;
}

.pp-mealpick__desc{
  font-size: .78rem;
  color: var(--text-medium);
  line-height: 1.2;
  display:-webkit-box;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow:hidden;
}

/* =========================
   Half & Half - friendly verification chips
   ========================= */
.pp-hh-verify{
  display: grid;
  gap: 0.45rem;
  margin-top: 0.65rem;
}

.pp-hh-verifyRow{
  display: flex;
  justify-content: flex-start;
}

.pp-hh-halfCol--right .pp-hh-verifyRow{
  justify-content: flex-end; /* lines up with right-aligned column */
}

.pp-hh-chip{
  display: inline-flex;
  align-items: center;
  gap: 0.45rem;

  padding: 0.35rem 0.65rem;
  border-radius: 999px;

  font-weight: 850;
  font-size: 0.74rem;
  letter-spacing: 0.03em;

  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(255,255,255,0.05);
  color: var(--text-primary);
}

.pp-hh-chip--addons{
  border-color: rgba(190,242,100,0.30);
  background: rgba(190,242,100,0.10);
}

.pp-hh-chip--removed{
  border-color: rgba(190,242,100,0.30);
  background: rgba(190,242,100,0.10);
}

/* Make action buttons feel friendlier with subtle colour cues */
.pp-halfhalf-panel .pp-hh-actionBtn--neutral{
  background: rgba(190,242,100,0.12) !important;   /* brand neon green */
  border-color: rgba(190,242,100,0.38) !important;
}

.pp-halfhalf-panel .pp-hh-actionBtn--warn{
  background: rgba(190,242,100,0.18) !important;
  border-color: rgba(190,242,100,0.48) !important;
}

.pp-halfhalf-panel .pp-hh-actionBtn--danger{
  background: rgba(248,113,113,0.16) !important;   /* tomato */
  border-color: rgba(248,113,113,0.52) !important;
}

/* =========================================================
   Meal Deal - calm, spacious builder layout
   ========================================================= */

.pp-md-head{
  margin-top: 0.25rem;
  margin-bottom: 0.9rem;
  padding: 1rem 1rem 0.95rem;
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
}

.pp-md-headRow{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 1rem;
}

.pp-md-kicker{
  font-weight: 900;
  letter-spacing: .16em;
  text-transform: uppercase;
  font-size: .72rem;
  color: rgba(190,242,100,0.85);
  margin-bottom: .25rem;
}

.pp-md-title{
  margin: 0;
  font-size: 1.35rem;
  font-weight: 950;
  letter-spacing: 0.01em;
}

.pp-md-sub{
  margin-top: .35rem;
  color: var(--text-medium);
  font-weight: 650;
  font-size: .92rem;
  line-height: 1.25;
}

.pp-md-pricePill{
  flex: 0 0 auto;
  padding: .55rem .8rem;
  border-radius: 999px;
  border: 1px solid rgba(190,242,100,0.35);
  background: rgba(190,242,100,0.10);
  font-weight: 950;
  letter-spacing: .06em;
  color: var(--text-primary);
  white-space: nowrap;
}

.pp-md-progress{
  margin-top: .85rem;
  display:grid;
  gap: .35rem;
}

.pp-md-progressTrack{
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(148,163,184,0.18);
  overflow: hidden;
}

.pp-md-progressFill{
  height: 100%;
  border-radius: 999px;
  background: rgba(190,242,100,0.85);
  box-shadow: 0 0 18px rgba(190,242,100,0.22);
}

.pp-md-progressMeta{
  font-size: .85rem;
  font-weight: 650;
  color: var(--text-medium);
}

/* Step cards */
.pp-md-steps{
  display: grid;
  grid-template-columns: 1fr;
  gap: .55rem;
  margin-bottom: .9rem;
}

.pp-md-stepCard{
  width: 100%;
  text-align: left;
  border-radius: 16px;
  padding: .8rem .9rem;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.02);
  box-shadow: var(--shadow-card);
  cursor: pointer;
}

.pp-md-stepCard.is-active{
  border-color: rgba(190,242,100,0.55);
  background: rgba(190,242,100,0.08);
}

.pp-md-stepTop{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: .75rem;
}

.pp-md-stepLabel{
  display:flex;
  align-items:center;
  gap: .6rem;
  min-width: 0;
}

.pp-md-stepNum{
  width: 26px;
  height: 26px;
  border-radius: 999px;
  display:flex;
  align-items:center;
  justify-content:center;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.20);
  font-weight: 950;
  font-size: .8rem;
}

.pp-md-stepText{
  font-weight: 900;
  letter-spacing: .08em;
  text-transform: uppercase;
  font-size: .78rem;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.pp-md-stepStatus{
  font-weight: 950;
  opacity: .85;
}

.pp-md-stepValue{
  margin-top: .45rem;
  font-size: .92rem;
  font-weight: 650;
  color: var(--text-medium);
}

/* Active step focus card */
.pp-md-active{
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
  padding: 1rem;
  margin-bottom: .9rem;
}

.pp-md-activeHead{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: .9rem;
  margin-bottom: .75rem;
}

.pp-md-activeKicker{
  font-weight: 900;
  letter-spacing: .14em;
  text-transform: uppercase;
  font-size: .72rem;
  color: rgba(190,242,100,0.85);
}

.pp-md-activeTitle{
  font-size: 1.05rem;
  font-weight: 950;
  margin-top: .2rem;
}

.pp-md-activePill{
  padding: .4rem .7rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.18);
  font-weight: 900;
  font-size: .78rem;
  white-space: nowrap;
}

.pp-md-activePill.is-filled{
  border-color: rgba(190,242,100,0.35);
  background: rgba(190,242,100,0.10);
}

.pp-md-activeBody{
  display:grid;
  gap: .85rem;
}

.pp-md-activeSummary{
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(0,0,0,0.18);
  padding: .75rem .85rem;
}

.pp-md-activeName{
  font-weight: 950;
  font-size: 1.0rem;
}

.pp-md-activeMeta{
  margin-top: .25rem;
  color: var(--text-medium);
  font-weight: 650;
  font-size: .9rem;
}

.pp-md-gfTag{
  margin-left: .5rem;
  padding: .15rem .45rem;
  border-radius: 999px;
  border: 1px solid rgba(251,191,36,0.45);
  background: rgba(251,191,36,0.12);
  font-weight: 950;
  font-size: .75rem;
}

.pp-md-activeEmpty{
  color: var(--text-medium);
  font-weight: 650;
  font-size: .92rem;
}

.pp-md-filters{
  display:grid;
  gap: .6rem;
}

.pp-md-chipRow{
  display:flex;
  flex-wrap: wrap;
  gap: .4rem;
}

.pp-md-chip{
  width: auto;
  padding: .35rem .65rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.12);
  font-weight: 850;
  font-size: .82rem;
  cursor: pointer;
}

.pp-md-chip.is-active{
  border-color: rgba(190,242,100,0.55);
  background: rgba(190,242,100,0.10);
}

.pp-md-search{
  width: 100%;
  padding: .7rem .85rem;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.18);
  color: var(--text-light);
  box-sizing: border-box;
}

.pp-md-body{
  flex: 1;
  min-height: 0;
  padding: .25rem;
}

.pp-md-bodyHint{
  border-radius: 14px;
  border: 1px dashed rgba(148,163,184,0.25);
  background: rgba(255,255,255,0.02);
  color: var(--text-medium);
  padding: .85rem .9rem;
  font-weight: 650;
}

/* =========================================================
   Meal Deal - Calm Mobile Builder (anti-anxiety mode)
   ========================================================= */
.pp-mdm{
  gap: 0.9rem;
}

.pp-mdm-head{
  padding: 1rem;
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
}

.pp-mdm-kicker{
  font-weight: 900;
  letter-spacing: .16em;
  text-transform: uppercase;
  font-size: .72rem;
  color: rgba(190,242,100,0.85);
  margin-bottom: .25rem;
}

.pp-mdm-title{
  font-size: 1.2rem;
  font-weight: 950;
  line-height: 1.1;
}

.pp-mdm-metaRow{
  display:flex;
  gap:.5rem;
  flex-wrap: wrap;
  margin-top: .65rem;
}

.pp-mdm-pill{
  padding: .35rem .6rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.16);
  font-weight: 850;
  font-size: .82rem;
  color: var(--text-primary);
}

.pp-mdm-pill--price{
  border-color: rgba(190,242,100,0.35);
  background: rgba(190,242,100,0.10);
}

.pp-mdm-progressTrack{
  margin-top: .75rem;
  height: 10px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.06);
  overflow:hidden;
}
.pp-mdm-progressFill{
  height:100%;
  border-radius:999px;
  background: rgba(190,242,100,0.85);
}

.pp-mdm-next{
  padding: 1rem;
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
}

.pp-mdm-nextTop{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: .75rem;
}

.pp-mdm-nextLabel{
  font-weight: 900;
  letter-spacing: .14em;
  text-transform: uppercase;
  font-size: .72rem;
  color: var(--text-medium);
}

.pp-mdm-nextSlot{
  margin-top: .2rem;
  font-weight: 950;
  font-size: 1.05rem;
}

.pp-mdm-status{
  width: 38px;
  height: 38px;
  border-radius: 999px;
  display:flex;
  align-items:center;
  justify-content:center;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.14);
  font-weight: 950;
}
.pp-mdm-status.is-filled{
  border-color: rgba(190,242,100,0.35);
  background: rgba(190,242,100,0.10);
}

.pp-mdm-nextValue{
  margin-top: .55rem;
  color: var(--text-medium);
  font-weight: 650;
}

.pp-mdm-list{
  padding: 0.85rem 0.85rem 0.65rem;
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.02);
}

.pp-mdm-listTitle{
  font-weight: 900;
  letter-spacing: .12em;
  text-transform: uppercase;
  font-size: .72rem;
  color: var(--text-medium);
  margin-bottom: .65rem;
}

.pp-mdm-row{
  width:100%;
  text-align:left;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.75rem;
  padding: .7rem .75rem;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(0,0,0,0.14);
  margin-bottom: .55rem;
}

.pp-mdm-rowLeft{ min-width: 0; }
.pp-mdm-rowSlot{
  font-weight: 900;
  letter-spacing: .10em;
  text-transform: uppercase;
  font-size: .72rem;
  color: rgba(190,242,100,0.85);
}
.pp-mdm-rowValue{
  margin-top: .2rem;
  color: var(--text-primary);
  font-weight: 700;
  font-size: .92rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 64vw;
}

.pp-mdm-rowRight{
  color: var(--text-medium);
  font-weight: 800;
  white-space: nowrap;
}

.pp-mdm-empty{
  padding: .75rem;
  border-radius: 14px;
  border: 1px dashed rgba(148,163,184,0.22);
  color: var(--text-medium);
  background: rgba(255,255,255,0.02);
}

/* =========================================================
   ItemDetailPanel - Meal Deal Quick Confirm styling
   ========================================================= */

.detail-panel--mealdeal_pick .detail-panel-body{
  padding-top: 0.5rem;
}

/* Meal deal quick confirm: keep footer buttons visible on short screens */
.detail-panel--mealdeal_pick .detail-image-wrapper{
  height: clamp(160px, 26vh, 280px) !important;
  margin-bottom: 0.45rem !important;
}

/* Extra safety for short phones / landscape */
@media (max-height: 760px){
  .detail-panel--mealdeal_pick .detail-image-wrapper{
    height: clamp(120px, 20vh, 220px) !important;
    margin-bottom: 0.35rem !important;
  }
}

.detail-panel--mealdeal_pick .ingredients-chip,
.detail-panel--mealdeal_pick .ingredient-pill{
  font-size: 0.75rem;
  padding: 0.28rem 0.5rem;
  border-radius: 999px;
}

/* Lock size pill */
.pp-md-sizeLock{
  margin-top: 0.65rem;
  padding: 0.6rem 0.8rem;
  border-radius: 14px;
  border: 1px solid rgba(190,242,100,0.28);
  background: rgba(190,242,100,0.10);
  font-weight: 800;
  color: var(--text-primary);
}

/* Make the Add-ons / Edit Ingredients buttons feel lighter */
.detail-panel--mealdeal_pick .simple-button,
.detail-panel--mealdeal_pick .pp-btn{
  min-height: 42px;
  border-radius: 14px;
  font-size: 0.85rem;
}

/* =========================================================
   ItemDetailPanel - Meal Deal Quick Confirm (less cramped)
   ========================================================= */

.detail-panel--mealdeal_pick .pp-mdp-headCard{
  display: grid;
  gap: 0.55rem;
}

.detail-panel--mealdeal_pick .pp-mdp-headTitle{
  font-size: 1.15rem;
  font-weight: 900;
  letter-spacing: 0.02em;
  margin: 0;
}

.detail-panel--mealdeal_pick .pp-mdp-headDesc{
  font-size: 0.88rem;
  color: var(--text-medium);
  line-height: 1.25;
}

.detail-panel--mealdeal_pick .pp-mdp-headChips{
  display: flex;
  flex-wrap: wrap;
  gap: 0.35rem;
  margin-top: 0.1rem;
}

.detail-panel--mealdeal_pick .pp-mdp-chipMini{
  display: inline-flex;
  align-items: center;
  padding: 0.18rem 0.5rem;
  border-radius: 999px;
  border: 1px solid rgba(190,242,100,0.28);
  background: rgba(190,242,100,0.10);
  color: var(--text-primary);
  font-weight: 800;
  font-size: 0.72rem;
  line-height: 1.1;
  white-space: nowrap;
}

.detail-panel--mealdeal_pick .panel-title{
  margin-top: 0.55rem !important;
  margin-bottom: 0.25rem !important;
  font-size: 1.35rem;
}

.detail-panel--mealdeal_pick p{
  margin-top: 0.35rem;
  margin-bottom: 0.55rem;
  line-height: 1.25;
}

/* Hide the Add-ons text section spacing a bit */
.detail-panel--mealdeal_pick .muted-note,
.detail-panel--mealdeal_pick .h4{
  display: none;
}

/* Compact tool row above Back/Confirm */
.pp-mdp-footerTools{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.6rem;
  margin-bottom: 0.65rem;
}

.pp-mdp-footerTools--3{
  grid-template-columns: 1fr 1fr 1fr;
}

.pp-mdp-toolBtn{
  width: 100%;
  min-height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .45rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.30);
  background: rgba(255,255,255,0.06);
  box-shadow: var(--shadow-card);
  font-weight: 900;
  letter-spacing: 0.10em !important;
  text-transform: uppercase !important;
  color: var(--text-primary) !important;
  font-size: 0.78rem !important;
  line-height: 1 !important;
}

.pp-mdp-toolBtn:hover{
  border-color: rgba(190,242,100,0.40);
  background: rgba(190,242,100,0.10);
}

.pp-mdp-toolBtn--gf{
  border-color: rgba(251,191,36,0.35);
  background: rgba(251,191,36,0.10);
}

.pp-mdp-toolBtn--gf.is-on{
  border-color: rgba(251,191,36,0.55);
  background: rgba(251,191,36,0.18);
  box-shadow: 0 0 0 3px rgba(251,191,36,0.10);
}

.pp-mdp-toolBtn.is-disabled,
.pp-mdp-toolBtn:disabled{
  opacity: 0.55;
  cursor: not-allowed;
  filter: grayscale(0.25);
}

.pp-mdp-toolIcon{
  font-size: 1rem !important;
  line-height: 1 !important;
}

.pp-mdp-toolText{
  font-weight: 900 !important;
  letter-spacing: 0.10em !important;
  text-transform: uppercase !important;
}

@media (max-width: 520px){
  .detail-panel--mealdeal_pick .pp-mdp-chipMini{
    font-size: 0.68rem;
    padding: 0.16rem 0.45rem;
  }
}

/* Meal deal pick: verification strip */
.pp-mdp-summary{
  display: grid;
  gap: 0.5rem;
  margin-bottom: 0.75rem;
}

.pp-mdp-chip{
  width: 100%;
  padding: 0.55rem 0.7rem;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(255,255,255,0.05);
  box-shadow: var(--shadow-card);
  font-weight: 800;
  font-size: 0.82rem;
  color: var(--text-primary);
  line-height: 1.15;
}

.pp-mdp-chip--addons{
  border-color: rgba(190,242,100,0.32);
  background: rgba(190,242,100,0.10);
}

.pp-mdp-chip--removed{
  border-color: rgba(190,242,100,0.30);
  background: rgba(190,242,100,0.10);
}

/* =========================================================
   Item Detail Panel - Desktop layout (use the space)
   ========================================================= */

.detail-panel .pp-idp-top{
  display:flex;
  flex-direction:column;
  gap: 0.9rem;
}

/* Desktop: 2-column header (image left, details right) */
@media (min-width: 1024px){
  .detail-panel .pp-idp-top{
    flex-direction: row;
    align-items: stretch;
    gap: 1.15rem;
  }

  .detail-panel .pp-idp-hero{
    flex: 0 0 46%;
    margin-bottom: 0 !important;
    height: auto !important;        /* overrides inline */
    min-height: 300px;
    border-radius: 18px !important;
  }

  .detail-panel .pp-idp-meta{
    flex: 1 1 auto;
    min-width: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    padding-top: 0.2rem;
  }

  .detail-panel .pp-idp-title{
    margin-top: 0 !important;
    font-size: 1.55rem;
    line-height: 1.05;
  }

  .detail-panel .pp-idp-desc{
    margin-top: 0.35rem;
    margin-bottom: 0;
    font-size: 0.95rem;
    color: var(--text-medium);
    max-width: 62ch;
  }

  /* Make the control area feel "desktop", not cramped */
  .detail-panel .detail-panel-body{
    padding-top: 0.65rem;
    padding-right: 0.25rem;
  }

  .detail-panel .pp-size-row{
    gap: 0.65rem;
    margin-bottom: 0.8rem;
  }

  .detail-panel .pp-size-chip{
    padding: 0.55rem 0.95rem;
    border-radius: 0.9rem;
  }

  .detail-panel .pp-size-label{
    font-size: 0.82rem;
    font-weight: 800;
  }

  .detail-panel .pp-size-price{
    font-size: 0.82rem;
  }

  .detail-panel .size-quantity-row{
    padding: 0.95rem 1rem;
    border-radius: 1rem;
  }

  /* Footer tool buttons: bigger, "desktop" taps */
  .detail-panel .pp-mdp-footerTools{
    gap: 0.75rem;
    margin-bottom: 0.75rem;
  }
  .detail-panel .pp-mdp-toolBtn{
    padding: 0.9rem 1rem;
    border-radius: 18px;
  }
  .detail-panel .pp-mdp-toolText{
    font-size: 0.92rem;
    letter-spacing: 0.06em;
  }
}

/* =========================================================
   ItemDetailPanel - Enterprise + friendly (scoped)
   Paste at VERY BOTTOM so it wins.
   ========================================================= */

.detail-panel{
  /* local tokens */
  --idp-radius: 22px;
  --idp-radius-sm: 16px;
  --idp-pad: 18px;
  --idp-gap: 12px;

  --idp-surface: color-mix(in srgb, var(--pp-surface, var(--panel)) 92%, rgba(255,255,255,0.06) 8%);
  --idp-surface-2: color-mix(in srgb, var(--pp-surface-2, var(--panel)) 92%, rgba(255,255,255,0.06) 8%);
  --idp-border: color-mix(in srgb, var(--border-color) 75%, rgba(190,242,100,0.25) 25%);
  --idp-line: var(--line, var(--border-color));
}

/* Panel shell */
.detail-panel{
  border-radius: var(--idp-radius);
  border: 1px solid var(--idp-border);
  background:
    radial-gradient(720px 320px at 18% 0%, rgba(190,242,100,0.10), transparent 60%),
    radial-gradient(520px 280px at 82% 0%, rgba(190,242,100,0.08), transparent 58%),
    linear-gradient(180deg, var(--idp-surface) 0%, var(--idp-surface-2) 120%);
  box-shadow: var(--shadow-card);
}

/* Close button already styled globally; just ensure it doesn't clash */
.detail-panel > button[title="Close"]{
  border-color: rgba(148,163,184,0.26);
  background: rgba(15,23,42,0.28);
}

/* Top block spacing */
.detail-panel .pp-idp-top{
  gap: 1.05rem;
}

/* Hero image: crisp, framed, not "mobile sheet" */
.detail-panel .pp-idp-hero{
  border-radius: var(--idp-radius);
  border: 1px solid rgba(148,163,184,0.18);
  box-shadow: 0 16px 40px rgba(0,0,0,0.22);
  overflow: hidden;
}

/* Title/desc: remove shouty global uppercase just for this panel */
.detail-panel .pp-idp-title{
  margin: 0 !important;
  font-size: 1.45rem;
  line-height: 1.12;
  letter-spacing: 0.01em !important;
  text-transform: none !important;
  font-weight: 950;
  color: var(--text-primary);
}

.detail-panel .pp-idp-desc{
  margin: 0.45rem 0 0;
  font-size: 0.95rem;
  line-height: 1.35;
  color: var(--text-medium);
  text-transform: none;
  letter-spacing: 0.01em;
  max-width: 64ch;
}

/* Ingredients summary chip panel: calmer + readable */
.detail-panel .pp-ingredients-summary{
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.03);
  box-shadow: 0 10px 24px rgba(0,0,0,0.14);
}
[data-theme="light"] .detail-panel .pp-ingredients-summary{
  background: rgba(15,23,42,0.03);
  box-shadow: 0 10px 22px rgba(2,6,23,0.08);
}

/* Body padding / scroll feel */
.detail-panel .detail-panel-body{
  padding-top: 0.35rem;
  padding-right: 0.35rem;
  scrollbar-gutter: stable;
}

/* Size row: "enterprise segmented cards" */
.detail-panel .pp-size-row{
  gap: 0.65rem;
  margin-bottom: 0.75rem;
}

.detail-panel .pp-size-chip{
  border-radius: var(--idp-radius-sm);
  padding: 0.6rem 0.85rem;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(148,163,184,0.18);
  box-shadow: 0 10px 22px rgba(0,0,0,0.12);
  min-height: 44px;
}

[data-theme="light"] .detail-panel .pp-size-chip{
  background: rgba(15,23,42,0.03);
  box-shadow: 0 10px 20px rgba(2,6,23,0.08);
}

.detail-panel .pp-size-chip:hover{
  border-color: rgba(190,242,100,0.35);
}

.detail-panel .pp-size-chip--active{
  border-color: rgba(190,242,100,0.55) !important;
  background: rgba(190,242,100,0.08) !important;
  box-shadow: 0 0 0 3px rgba(190,242,100,0.12), 0 16px 34px rgba(0,0,0,0.16);
}

.detail-panel .pp-size-label{
  font-size: 0.82rem;
  font-weight: 900;
  letter-spacing: 0.10em;
  text-transform: uppercase;
}

.detail-panel .pp-size-price{
  font-size: 0.85rem;
  font-weight: 850;
  color: var(--text-medium);
  font-variant-numeric: tabular-nums;
}

/* Price/qty row: look like a professional "summary card" */
.detail-panel .size-quantity-row{
  border-radius: var(--idp-radius-sm);
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(0,0,0,0.14);
  padding: 0.9rem 0.95rem;
  margin-top: 0.65rem;
  box-shadow: 0 14px 34px rgba(0,0,0,0.16);
}

[data-theme="light"] .detail-panel .size-quantity-row{
  background: rgba(15,23,42,0.03);
  box-shadow: 0 12px 26px rgba(2,6,23,0.08);
}

.detail-panel .quantity-controls span{
  font-weight: 900;
  font-variant-numeric: tabular-nums;
}

/* Add-ons section heading: clearer */
.detail-panel .h4{
  margin-top: 1rem;
  letter-spacing: 0.02em;
  text-transform: none;
  font-weight: 950;
}

/* Bottom bar: cleaner separation + "enterprise toolbar" */
.detail-panel .cart-total-section{
  border-top: 1px solid rgba(148,163,184,0.18) !important;
  background:
    linear-gradient(180deg, rgba(0,0,0,0), rgba(15,23,42,0.22) 30%, rgba(15,23,42,0.35));
  padding-top: 0.85rem !important;
  padding-inline: 0.25rem;
}

[data-theme="light"] .detail-panel .cart-total-section{
  background: linear-gradient(180deg, rgba(0,0,0,0), rgba(15,23,42,0.04) 30%, rgba(15,23,42,0.06));
}

/* Footer tool buttons (Add-ons / Ingredients / GF): consistent + friendly */
.detail-panel .pp-mdp-footerTools{
  gap: 0.7rem;
  margin-bottom: 0.85rem;
}

.detail-panel .pp-mdp-toolBtn{
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.20);
  background: rgba(255,255,255,0.04);
  box-shadow: 0 12px 28px rgba(0,0,0,0.14);
  padding: 0.85rem 0.95rem;
}

[data-theme="light"] .detail-panel .pp-mdp-toolBtn{
  background: rgba(15,23,42,0.03);
  box-shadow: 0 10px 22px rgba(2,6,23,0.08);
}

.detail-panel .pp-mdp-toolBtn:hover{
  border-color: rgba(190,242,100,0.30);
  transform: translateY(-1px);
}

.detail-panel .pp-mdp-toolText{
  font-size: 0.88rem;
  font-weight: 900;
  letter-spacing: 0.10em;
  text-transform: uppercase;
}

/* GF button: warm + clear state */
.detail-panel .pp-mdp-toolBtn--gf.is-on{
  border-color: rgba(251,191,36,0.45);
  background: rgba(251,191,36,0.10);
}

/* Primary CTA: more "product" than "arcade" */
.detail-panel .place-order-button{
  border-radius: 16px !important;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  font-weight: 950;
  box-shadow: 0 18px 46px rgba(34,197,94,0.30);
}

/* Secondary button (Cancel/Back): less shouty */
.detail-panel .simple-button{
  border-radius: 16px !important;
  letter-spacing: 0.08em;
  font-weight: 850;
}

/* Mobile: keep it roomy */
@media (max-width: 640px){
  .detail-panel{
    --idp-pad: 16px;
  }
  .detail-panel .pp-idp-title{
    font-size: 1.25rem;
  }
  .detail-panel .pp-idp-desc{
    font-size: 0.92rem;
  }
}

/* =========================================================
   ItemDetailPanel -- tidy spacing + consistent padding
   ========================================================= */

.pp-itemdetail-modal__panel{
  padding: 0.85rem;
}

@media (min-width: 1024px){
  .pp-itemdetail-modal__panel{
    padding: 0.95rem;
  }
}

/* keep inner spacing consistent without looking "mobile cramped" */
.pp-itemdetail-modal__panel .detail-panel .detail-image-wrapper{
  margin-bottom: 0.65rem !important;
}

/* scroll body: less random whitespace, nicer rhythm */
.pp-itemdetail-modal__panel .detail-panel .detail-panel-body{
  padding-right: 0.15rem !important;
  padding-top: 0.35rem !important;
}

/* size chips + price row: a bit tighter */
.pp-itemdetail-modal__panel .detail-panel .pp-size-row{
  margin-bottom: 0.55rem !important;
  gap: 0.55rem !important;
}

.pp-itemdetail-modal__panel .detail-panel .size-quantity-row{
  margin-top: 0.55rem !important;
  padding: 0.8rem 0.9rem !important;
}

/* Add-ons section: reduce the "big dead zone" feel */
.pp-itemdetail-modal__panel .detail-panel .h4{
  margin-top: 0.85rem !important;
  margin-bottom: 0.35rem !important;
}

.pp-itemdetail-modal__panel .detail-panel .muted-note{
  margin: 0.15rem 0 0.55rem !important;
}

/* footer: tighter + aligned */
.pp-itemdetail-modal__panel .detail-panel .cart-total-section{
  padding-top: 0.6rem !important;
  padding-bottom: calc(0.35rem + env(safe-area-inset-bottom)) !important;
}

.pp-itemdetail-modal__panel .detail-panel .pp-mdp-footerTools{
  margin-bottom: 0.55rem !important;
  gap: 0.6rem !important;
}

.pp-itemdetail-modal__panel .detail-panel .pp-mdp-toolBtn{
  padding: 0.78rem 0.9rem !important;
}

/* =========================================================
   ItemDetailPanel -- proper inner gutters (don't shrink panel)
   ========================================================= */

.pp-itemdetail-modal__panel .detail-panel{
  /* keep panel size the same, just give content breathing room */
  --idp-gutter: 18px;
}

/* Apply gutters to the main content areas */
.pp-itemdetail-modal__panel .detail-panel .pp-idp-top,
.pp-itemdetail-modal__panel .detail-panel .detail-panel-body,
.pp-itemdetail-modal__panel .detail-panel .cart-total-section{
  padding-left: var(--idp-gutter) !important;
  padding-right: var(--idp-gutter) !important;
}

/* If your hero image wrapper is inside pp-idp-top, this keeps it aligned */
.pp-itemdetail-modal__panel .detail-panel .detail-image-wrapper{
  /* don't let the image touch the edge */
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* Footer area: keep the toolbar + CTA aligned with the same gutters */
.pp-itemdetail-modal__panel .detail-panel .pp-mdp-footerTools{
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* Optional: slightly larger gutters on desktop */
@media (min-width: 1024px){
  .pp-itemdetail-modal__panel .detail-panel{
    --idp-gutter: 22px;
  }
}

/* Restore outer panel padding to avoid shrinking the panel too much */
.pp-itemdetail-modal__panel{
  padding: 1rem;
}

@media (min-width: 1024px){
  .pp-itemdetail-modal__panel{
    padding: 1.05rem;
  }
}

/* =========================================================
   Meal Deal (MOBILE) -- sticky header + always-available exit
   Desktop unchanged
   ========================================================= */
@media (max-width: 1023.98px){
  /* The meal-deal builder scrolls, so keep its header pinned */
  .pp-mealdeal-modal__panel .pp-mdm-head{
    position: sticky;
    top: 0;
    z-index: 80;
    padding-top: calc(1rem + env(safe-area-inset-top));
    background:
      radial-gradient(900px 240px at 50% 0%, rgba(190,242,100,0.14), transparent 62%),
      linear-gradient(180deg, var(--pp-surface, var(--panel)) 0%, rgba(0,0,0,0) 85%);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  /* Close (X) button pinned inside the header */
  .pp-mealdeal-modal__panel .pp-mdm-closeBtn{
    position: absolute;
    top: calc(0.9rem + env(safe-area-inset-top));
    right: 0.9rem;
    z-index: 90;
  }
}

/* Meal Deal desktop: keep price + close tidy (prevents overlap) */
.pp-md-headActions{
  display: inline-flex;
  align-items: center;
  gap: 0.65rem;
  flex: 0 0 auto;
}

.pp-md-closeBtn{
  width: 38px;
  height: 38px;
  flex: 0 0 auto;
}

/* =========================================================
   Meal Deal (DESKTOP) -- make editorItem a true overlay modal
   Mobile already uses inline fixed styles -- leave it alone.
   ========================================================= */
@media (min-width: 1024px){
  .pp-md-editorOverlay--inpanel{
    position: absolute;
    inset: 0;
    z-index: 80;

    /* modal backdrop */
    background: rgba(2, 6, 23, 0.55);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);

    display: flex;
    align-items: stretch;
    justify-content: center;

    padding: 1.25rem;
    overflow: hidden;
  }

  .pp-md-editorShell--inpanel{
    width: 100%;
    max-width: 760px;
    height: 100%;
    min-height: 0;

    display: flex;
    overflow: hidden;
  }

  /* Ensure ItemDetailPanel fills the shell nicely */
  .pp-md-editorShell--inpanel .detail-panel{
    height: 100%;
    min-height: 0;
  }

  .pp-md-editorShell--inpanel .detail-panel-body{
    min-height: 0;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  .pp-md-editorShell--inpanel .cart-total-section{
    position: sticky;
    bottom: 0;
    z-index: 5;
  }
}

/* =========================================================
   Meal Deal (mobile) -- premium footer buttons
   Scoped to meal-deal mobile modal only
   ========================================================= */
@media (max-width: 1023.98px){
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section{
    border-top: 1px solid rgba(148,163,184,0.22);
    background:
      radial-gradient(900px 220px at 50% 0%, rgba(190,242,100,0.14), transparent 62%),
      linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.10));
    border-radius: 18px;
    padding: 0.9rem;
    margin-top: 0.85rem;
    box-shadow: 0 18px 44px rgba(0,0,0,0.22);
  }

  /* Make the two actions feel like a matched set */
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section button{
    border-radius: 16px !important;
    min-height: 54px;
    font-weight: 900;
    letter-spacing: 0.10em;
    transition: transform 140ms ease, box-shadow 140ms ease, filter 140ms ease;
  }

  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section button:active{
    transform: translateY(1px) scale(0.99);
  }

  /* Primary: Add meal */
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section .place-order-button{
    border: 1px solid rgba(190,242,100,0.55);
    background:
      radial-gradient(900px 320px at 30% 10%, rgba(190,242,100,0.55), transparent 55%),
      linear-gradient(180deg, rgba(34,197,94,0.32), rgba(2,6,23,0.16));
    box-shadow:
      0 18px 40px rgba(0,0,0,0.28),
      inset 0 1px 0 rgba(255,255,255,0.20);
    filter: saturate(1.05);
  }
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section .place-order-button:hover{
    box-shadow:
      0 22px 54px rgba(0,0,0,0.30),
      0 0 0 3px rgba(190,242,100,0.20),
      inset 0 1px 0 rgba(255,255,255,0.22);
    transform: translateY(-1px);
  }

  /* Secondary: Review / change */
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section .simple-button{
    border: 1px solid rgba(148,163,184,0.26);
    background:
      linear-gradient(180deg, rgba(255,255,255,0.10), rgba(0,0,0,0.08));
    box-shadow:
      0 14px 32px rgba(0,0,0,0.20),
      inset 0 1px 0 rgba(255,255,255,0.18);
  }
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section .simple-button:hover{
    box-shadow:
      0 18px 44px rgba(0,0,0,0.22),
      0 0 0 3px rgba(148,163,184,0.16),
      inset 0 1px 0 rgba(255,255,255,0.18);
    transform: translateY(-1px);
  }

  /* Tighten icon spacing inside button label (emoji) */
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section .place-order-button,
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section .simple-button{
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.55rem;
  }
}

/* =========================================================
   Meal Deal (mobile) -- ALWAYS allow scroll so footer/buttons are reachable
   ========================================================= */
@media (max-width: 1023.98px){
  /* the modal panel is a fixed-height sheet; keep it clipped */
  .pp-mealdeal-modal__panel{
    min-height: 0;
    overflow: hidden;
  }

  /* make the meal-deal order panel fill the sheet */
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal{
    flex: 1 1 auto;
    min-height: 0;
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden; /* inner scroll lives on the builder */
  }

  /* the actual builder becomes the scroll container */
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .pp-mdm{
    flex: 1 1 auto;
    min-height: 0;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;

    /* ensure the footer/buttons never sit under the home bar */
    padding-bottom: calc(1.25rem + env(safe-area-inset-bottom));
  }
}

/* Mobile meal deal editor: the whole editor scrolls, not the list */
@media (max-width: 1023.98px){
  .pp-mealdeal-modal__panel .pp-mdm{
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  .pp-mealdeal-modal__panel .pp-mdm-list{
    overflow: visible;
  }
}

/* =========================================================
   Meal Deal (mobile) -- keep BOTH buttons visible when complete
   ========================================================= */

.pp-mdm-footerActions{
  display: grid;
  gap: 0.55rem;
}

.pp-mdm-footerActions--complete{
  grid-template-columns: 1fr 1fr;
  align-items: stretch;
}

.pp-mdm-footerActions--complete .place-order-button,
.pp-mdm-footerActions--complete .simple-button{
  min-height: 50px;
  font-size: 0.9rem;
  letter-spacing: 0.10em;
}

/* If screen is ultra narrow, allow wrap back to 1 column */
@media (max-width: 380px){
  .pp-mdm-footerActions--complete{
    grid-template-columns: 1fr;
  }
}

/* Short-height devices: tighten spacing so footer fits comfortably */
@media (max-height: 760px){
  .pp-mdm-head{ padding: 0.8rem !important; }
  .pp-mdm-next{ padding: 0.8rem !important; }
  .pp-mdm-list{ padding: 0.7rem 0.7rem 0.55rem !important; }
  .cart-total-section{ padding-top: 0.75rem !important; }
}

/* Meal deal mobile panel: slightly tighter footer padding */
@media (max-width: 1023.98px){
  .pp-mealdeal-modal__panel .pp-mdm .cart-total-section{
    padding-bottom: calc(0.6rem + env(safe-area-inset-bottom)) !important;
  }
}

/* =========================================================
   Meal Deal (mobile) -- footer ALWAYS visible (Add + Review)
   ========================================================= */

/* Make the list the scroll container */
.pp-mdm-list.pp-mdm-list--scroll{
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;

  /* space so content never hides behind the pinned footer */
  padding-bottom: calc(260px + env(safe-area-inset-bottom));
}

/* Default (if ever used outside modal): sticky footer */
.pp-mdm-footer{
  position: sticky;
  bottom: 0;
  z-index: 40;
  padding-bottom: calc(1rem + env(safe-area-inset-bottom));
}

/* Inside the meal-deal mobile modal: absolute pin (more reliable than sticky) */
@media (max-width: 1023.98px){
  .pp-mealdeal-modal__panel .pp-mdm{
    position: relative;
  }

  .pp-mealdeal-modal__panel .pp-mdm-footer{
    position: absolute;
    left: 1rem;
    right: 1rem;
    bottom: calc(1rem + env(safe-area-inset-bottom));
    z-index: 80;
    border-radius: 18px;
    box-shadow: var(--shadow-float);
  }

  /* match the modal pin height */
  .pp-mealdeal-modal__panel .pp-mdm-list.pp-mdm-list--scroll{
    padding-bottom: calc(300px + env(safe-area-inset-bottom));
  }
}

/* =========================================================
   Meal Deal Navigator BG cards -- FIX stacking + readable text
   (Paste at VERY BOTTOM so it wins)
   ========================================================= */

.pp-mdm-row--bg,
.pp-md-stepCard--bg{
  position: relative;
  overflow: hidden;
  isolation: isolate; /* creates a clean stacking context */
}

/* Background image layer (behind everything) */
.pp-mdm-row--bg::before,
.pp-md-stepCard--bg::before{
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  background-image: var(--pp-md-row-bg);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.92;
  transform: scale(1.05);
  filter: saturate(1.25) contrast(1.12) brightness(1.05);
}

/* Overlay layer (still behind text, above photo) */
.pp-mdm-row--bg::after,
.pp-md-stepCard--bg::after{
  content: "";
  position: absolute;
  inset: 0;
  z-index: 1;

  /* light scrim so black text works */
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.70),
    rgba(255,255,255,0.20)
  );
}

/* Put all real content above pseudo-layers */
.pp-mdm-row--bg > *,
.pp-md-stepCard--bg > *{
  position: relative;
  z-index: 2;
}

/* ---- Text readability: black + glow ---- */

/* Give the LEFT text block a glass chip */
.pp-mdm-row--bg .pp-mdm-rowLeft{
  padding: 0.45rem 0.55rem;
  border-radius: 12px;
  background: rgba(255,255,255,0.62);
  border: 1px solid rgba(15,23,42,0.14);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}

/* Make "Change ->" readable as a chip too */
.pp-mdm-row--bg .pp-mdm-rowRight{
  padding: 0.32rem 0.6rem;
  border-radius: 999px;
  background: rgba(255,255,255,0.62);
  border: 1px solid rgba(15,23,42,0.14);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}

/* Force key text to black with glow */
.pp-mdm-row--bg .pp-mdm-rowSlot,
.pp-mdm-row--bg .pp-mdm-rowValue,
.pp-mdm-row--bg .pp-mdm-rowRight,
.pp-md-stepCard--bg .pp-md-stepText,
.pp-md-stepCard--bg .pp-md-stepValue{
  color: #0b1220 !important;
  opacity: 1 !important;
  text-shadow:
    0 1px 0 rgba(255,255,255,0.95),
    0 0 10px rgba(255,255,255,0.70),
    0 0 18px rgba(255,255,255,0.45);
}

/* ================================
   Meal Deal Navigator -- TEXT FIX
   Make text readable on photo rows
   ================================ */

/* Stronger "white scrim" on the LEFT so black text always reads */
.pp-mdm-row--bg::after,
.pp-md-stepCard--bg::after{
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.88),
    rgba(255,255,255,0.34)
  ) !important;
}

/* Photo strength (keep it visible) */
.pp-mdm-row--bg::before,
.pp-md-stepCard--bg::before{
  opacity: 0.88 !important;
  filter: saturate(1.28) contrast(1.12) brightness(1.05) !important;
}

/* FORCE key text to black + glow (don't rely on inherit) */
.pp-mdm-row--bg .pp-mdm-rowSlot,
.pp-mdm-row--bg .pp-mdm-rowValue,
.pp-mdm-row--bg .pp-mdm-rowRight,
.pp-md-stepCard--bg .pp-md-stepText,
.pp-md-stepCard--bg .pp-md-stepValue{
  color: #0b1220 !important;
  opacity: 1 !important;
  text-shadow:
    0 1px 0 rgba(255,255,255,0.92),
    0 0 10px rgba(255,255,255,0.72),
    0 0 18px rgba(255,255,255,0.48),
    0 1px 12px rgba(0,0,0,0.18) !important;
}

/* Optional: make the "Change ->" look like a readable action chip */
.pp-mdm-row--bg .pp-mdm-rowRight{
  padding: 0.28rem 0.6rem;
  border-radius: 999px;
  background: rgba(255,255,255,0.55);
  border: 1px solid rgba(15,23,42,0.16);
}

/* =========================================================
   Meal Deal Navigator -- chosen item uses product image bg
   Scoped: pp-mdm-row + pp-md-stepCard only
   ========================================================= */

.pp-mdm-row--bg,
.pp-md-stepCard--bg{
  position: relative;
  overflow: hidden;
  background: transparent; /* let our image layer show */
}

/* Image layer -- make it much more visible */
.pp-mdm-row--bg::before,
.pp-md-stepCard--bg::before{
  content: "";
  position: absolute;
  inset: 0;
  background-image: var(--pp-md-row-bg);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  /* stronger photo */
  opacity: 0.78;
  transform: scale(1.06);

  /* make food pics pop without destroying them */
  filter: saturate(1.25) contrast(1.10) brightness(1.05);
}

/* Overlay -- MUCH lighter so the photo shows through */
.pp-mdm-row--bg::after,
.pp-md-stepCard--bg::after{
  content: "";
  position: absolute;
  inset: 0;

  /* light "glass" over the image (works with black text) */
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.62),
    rgba(255,255,255,0.18)
  );
}

/* Black text + glow for readability on photos */
.pp-mdm-row--bg,
.pp-md-stepCard--bg{
  color: #0b0f19;
}


/* Light mode: still visible but slightly softer */
[data-theme="light"] .pp-mdm-row--bg::before,
[data-theme="light"] .pp-md-stepCard--bg::before{
  opacity: 0.70;
}

[data-theme="light"] .pp-mdm-row--bg::after,
[data-theme="light"] .pp-md-stepCard--bg::after{
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.52),
    rgba(255,255,255,0.14)
  );
}

/* =========================================================
   MEAL DEAL -- v2 polish (enterprise + friendly)
   Scoped to pp-md / pp-mdm / meal pick / mealdeal pick panel
   ========================================================= */

/* Mobile builder: richer cards + softer borders */
.pp-mdm-head,
.pp-mdm-next,
.pp-mdm-list{
  border: 1px solid rgba(148,163,184,0.22);
  background:
    radial-gradient(900px 380px at 50% 0%, rgba(190,242,100,0.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.10));
}

/* Meal deal mobile: ensure list can shrink and scroll inside flex column */
.pp-mdm-list{
  min-height: 0;
}

[data-theme="light"] .pp-mdm-head,
[data-theme="light"] .pp-mdm-next,
[data-theme="light"] .pp-mdm-list{
  background:
    radial-gradient(900px 380px at 50% 0%, rgba(22,163,74,0.10), transparent 60%),
    linear-gradient(180deg, rgba(2,6,23,0.02), rgba(2,6,23,0.00));
}

/* Status bubble looks like a "badge", not a random circle */
.pp-mdm-status{
  box-shadow: 0 10px 24px rgba(0,0,0,0.24);
  letter-spacing: 0.06em;
}

/* Rows: subtle lift + crisp hover */
.pp-mdm-row{
  transition: transform 160ms ease, border-color 160ms ease, background-color 160ms ease, box-shadow 160ms ease;
}
.pp-mdm-row:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.35);
  box-shadow: 0 16px 36px rgba(0,0,0,0.22);
}

/* Make the "Add meal" CTA feel premium */
.pp-mdm .place-order-button{
  border-radius: 16px;
  font-weight: 900;
  letter-spacing: 0.10em;
}

/* Meal picker: header looks like a product sheet */
.pp-mealpick__head{
  background:
    radial-gradient(720px 280px at 50% 0%, rgba(190,242,100,0.12), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.08));
}

/* Meal deal pick (ItemDetailPanel): keep footer always readable */
.detail-panel--mealdeal_pick .cart-total-section{
  position: sticky !important;
  bottom: 0;
  z-index: 6;
  padding-bottom: calc(0.85rem + env(safe-area-inset-bottom)) !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Meal deal pick: buttons consistent + friendly */
.detail-panel--mealdeal_pick .simple-button,
.detail-panel--mealdeal_pick .place-order-button{
  min-height: 50px;
  border-radius: 16px;
}

@media (max-width: 1023.98px){
  .pp-mealdeal-modal__panel .pp-mdm-closeBtn{
    position: absolute;
    top: calc(0.85rem + env(safe-area-inset-top));
    right: 0.85rem;
    z-index: 90;

    /* make it obvious */
    width: auto !important;
    height: 44px !important;
    padding: 0 0.9rem !important;

    border-radius: 999px !important;
    font-weight: 900;
    letter-spacing: 0.08em;

    display: inline-flex !important;
    align-items: center !important;
    gap: 0.55rem;

    /* strong contrast + "premium" feel */
    background:
      linear-gradient(180deg, rgba(255,255,255,0.16), rgba(0,0,0,0.10)) !important;
    border: 1px solid rgba(148,163,184,0.28) !important;
    box-shadow:
      0 18px 40px rgba(0,0,0,0.26),
      0 0 0 3px rgba(190,242,100,0.18),
      inset 0 1px 0 rgba(255,255,255,0.20);

    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .pp-mealdeal-modal__panel .pp-mdm-closeBtn:active{
    transform: translateY(1px) scale(0.99);
  }

  .pp-mealdeal-modal__panel .pp-mdm-closeIcon{
    font-size: 22px;
    line-height: 1;
    margin-top: -1px;
  }

  .pp-mealdeal-modal__panel .pp-mdm-closeText{
    font-size: 12px;
    text-transform: uppercase;
  }
}

/* =========================================================
   Half & Half (MOBILE) -- clarity wizard (scoped)
   ========================================================= */
@media (max-width: 1023.98px){
  .pp-halfhalf-panel .pp-hh-wizTop{
    position: sticky;
    top: 0;
    z-index: 8;
    margin: 0 0 0.75rem;
    padding: 0.85rem 0.85rem 0.75rem;
    border-radius: 18px;
    border: 1px solid rgba(148,163,184,0.20);
    background:
      radial-gradient(900px 240px at 50% 0%, rgba(190,242,100,0.10), transparent 62%),
      linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.08));
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: var(--shadow-card);
  }

  .pp-halfhalf-panel .pp-hh-wizRow{
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.75rem;
    margin-bottom: 0.65rem;
  }

  .pp-halfhalf-panel .pp-hh-wizStep{
    font-weight: 900;
    font-size: 0.78rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text-medium);
  }

  .pp-halfhalf-panel .pp-hh-wizDot{
    margin: 0 0.4rem;
    opacity: 0.6;
  }

  .pp-halfhalf-panel .pp-hh-wizGoal{
    padding: 0.35rem 0.65rem;
    border-radius: 26px;
    border: 1px solid rgba(190,242,100,0.28);
    background: rgba(190,242,100,0.10);
    font-weight: 950;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    font-size: 0.72rem;
    color: var(--text-primary);
    white-space: nowrap;
  }

  .pp-halfhalf-panel .pp-hh-wizCards{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.65rem;
  }

  .pp-halfhalf-panel .pp-hh-wizCard{
    text-align: left;
    padding: 0.75rem 0.75rem 0.7rem;
    border-radius: 16px;
    border: 1px solid rgba(148,163,184,0.20);
    background: rgba(0,0,0,0.14);
    box-shadow: 0 10px 22px rgba(0,0,0,0.18);
    overflow: hidden;
  }

  [data-theme="light"] .pp-halfhalf-panel .pp-hh-wizCard{
    background: rgba(15,23,42,0.03);
    box-shadow: 0 10px 20px rgba(2,6,23,0.08);
  }

  .pp-halfhalf-panel .pp-hh-wizCard.is-active{
    border-color: rgba(190,242,100,0.55);
    box-shadow: 0 0 0 3px rgba(190,242,100,0.12), 0 16px 34px rgba(0,0,0,0.18);
  }

  .pp-halfhalf-panel .pp-hh-wizCardTop{
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.4rem;
  }

  .pp-halfhalf-panel .pp-hh-wizCardTag{
    font-weight: 950;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    font-size: 0.68rem;
    color: rgba(190,242,100,0.90);
  }

  .pp-halfhalf-panel .pp-hh-wizCheck{
    width: 22px;
    height: 22px;
    border-radius: 999px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: rgba(190,242,100,0.90);
    color: #0b1220;
    font-weight: 950;
    font-size: 0.78rem;
  }

  .pp-halfhalf-panel .pp-hh-wizCardName{
    font-weight: 850;
    font-size: 0.86rem;
    color: var(--text-primary);
    line-height: 1.15;
    display: -webkit-box;
    line-clamp: 2;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    min-height: 2.1em;
  }

  .pp-halfhalf-panel .pp-hh-wizHint{
    margin-top: 0.6rem;
    font-size: 0.88rem;
    color: var(--text-medium);
    font-weight: 650;
  }

  .pp-halfhalf-panel .pp-hh-heroHint{
    position: absolute;
    left: 0.85rem;
    right: 0.85rem;
    bottom: 0.85rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.35rem;
    pointer-events: none;
  }

  .pp-halfhalf-panel .pp-hh-heroHintPill{
    padding: 0.35rem 0.7rem;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.22);
    background: rgba(2,6,23,0.40);
    color: rgba(255,255,255,0.92);
    font-weight: 950;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    font-size: 0.72rem;
    box-shadow: 0 14px 34px rgba(0,0,0,0.30);
  }

  .pp-halfhalf-panel .pp-hh-heroHintSub{
    font-size: 0.85rem;
    color: rgba(255,255,255,0.78);
    text-shadow: 0 8px 20px rgba(0,0,0,0.35);
  }
}

/* =========================================================
   Half & Half (MOBILE) -- menu item selector (pizza picker) v2
   Scoped + safe: only affects <= 1024px and only these classes
   ========================================================= */
@media (max-width: 1023.98px){
  .pp-halfhalf-panel .pp-hh-pickGrid{
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.8rem;
  }

  .pp-halfhalf-panel .pp-hh-pickCard{
    padding: 0 !important;
    overflow: hidden;
    border-radius: 18px !important;
    border: 1px solid rgba(148,163,184,0.22) !important;
    background:
      radial-gradient(900px 240px at 50% 0%, rgba(190,242,100,0.10), transparent 62%),
      linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.10)) !important;
    box-shadow: 0 14px 34px rgba(0,0,0,0.18) !important;
    text-align: left;
  }

  .pp-halfhalf-panel .pp-hh-pickCard:hover{
    transform: translateY(-1px);
    border-color: rgba(190,242,100,0.40) !important;
    box-shadow: 0 18px 44px rgba(0,0,0,0.22) !important;
  }

  .pp-halfhalf-panel .pp-hh-pickCard.is-selected{
    border-color: rgba(190,242,100,0.62) !important;
    box-shadow:
      0 0 0 3px rgba(190,242,100,0.14),
      0 18px 44px rgba(0,0,0,0.24) !important;
  }

  .pp-halfhalf-panel .pp-hh-pickThumbWrap{
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 7;
    overflow: hidden;
    border-bottom: 1px solid rgba(148,163,184,0.20);
    background: rgba(255,255,255,0.03);
  }

  .pp-halfhalf-panel .pp-hh-pickThumb{
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transform: scale(1.03);
    filter: saturate(1.12) contrast(1.05);
  }

  .pp-halfhalf-panel .pp-hh-pickBadge{
    position: absolute;
    left: 0.75rem;
    bottom: 0.65rem;
    padding: 0.34rem 0.7rem;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.22);
    background: rgba(2,6,23,0.42);
    color: rgba(255,255,255,0.92);
    font-weight: 950;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    font-size: 0.70rem;
    box-shadow: 0 14px 34px rgba(0,0,0,0.35);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  .pp-halfhalf-panel .pp-hh-pickBody{
    padding: 0.85rem 0.9rem 0.85rem;
    display: grid;
    gap: 0.35rem;
    min-width: 0;
  }

  .pp-halfhalf-panel .pp-hh-pickName{
    font-weight: 950;
    font-size: 0.98rem;
    letter-spacing: 0.03em;
    color: var(--text-primary);
    line-height: 1.12;
  }

  .pp-halfhalf-panel .pp-hh-pickDesc{
    font-size: 0.86rem;
    color: var(--text-medium);
    line-height: 1.25;
    display: -webkit-box;
    line-clamp: 2;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .pp-halfhalf-panel .pp-hh-pickRow{
    margin-top: 0.25rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.75rem;
  }

  .pp-halfhalf-panel .pp-hh-pickHint{
    font-size: 0.84rem;
    font-weight: 700;
    color: var(--text-medium);
  }

  .pp-halfhalf-panel .pp-hh-pickAction{
    padding: 0.35rem 0.65rem;
    border-radius: 999px;
    border: 1px solid rgba(190,242,100,0.30);
    background: rgba(190,242,100,0.12);
    color: var(--text-primary);
    font-weight: 950;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    font-size: 0.72rem;
    white-space: nowrap;
  }

  .pp-halfhalf-panel .pp-hh-pickCard.is-selected .pp-hh-pickAction{
    border-color: rgba(190,242,100,0.55);
    background: rgba(190,242,100,0.18);
  }
}

/* =========================================================
   Half & Half (MOBILE) -- Selection Mode banner (menu picker)
   ========================================================= */
@media (max-width: 1023.98px){
  .pp-hh-pickNotice{
    margin: 0.85rem 0;
    padding: 0.95rem 1rem;
    border-radius: 18px;
    border: 1px solid rgba(148,163,184,0.26);
    background:
      radial-gradient(900px 240px at 50% 0%, rgba(190,242,100,0.14), transparent 62%),
      linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.12));
    box-shadow: var(--shadow-float);
  }

  .pp-hh-pickNotice__top{
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 0.75rem;
    margin-bottom: 0.65rem;
  }

  .pp-hh-pickNotice__kicker{
    font-weight: 950;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    font-size: 0.72rem;
    color: rgba(190,242,100,0.92);
    margin-bottom: 0.25rem;
  }

  .pp-hh-pickNotice__title{
    font-weight: 950;
    font-size: 1.05rem;
    line-height: 1.15;
    color: var(--text-primary);
  }

  .pp-hh-pickNotice__exit{
    flex: 0 0 auto;
    height: 42px;
    padding: 0 0.85rem;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.28);
    background: rgba(15,23,42,0.14);
    font-weight: 950;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    font-size: 0.76rem;
    box-shadow: 0 14px 34px rgba(0,0,0,0.18);
  }

  .pp-hh-pickNotice__stepRow{
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.6rem;
    flex-wrap: wrap;
    margin-bottom: 0.55rem;
  }

  .pp-hh-pickNotice__stepPill{
    padding: 0.3rem 0.6rem;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.22);
    background: rgba(0,0,0,0.14);
    font-weight: 950;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    font-size: 0.7rem;
    color: var(--text-primary);
  }

  .pp-hh-pickNotice__nextPill{
    padding: 0.3rem 0.65rem;
    border-radius: 999px;
    border: 1px solid rgba(190,242,100,0.35);
    background: rgba(190,242,100,0.10);
    font-weight: 850;
    color: var(--text-primary);
    font-size: 0.85rem;
  }

  .pp-hh-pickNotice__progress{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.45rem;
    margin-bottom: 0.75rem;
  }
  .pp-hh-pickNotice__seg{
    height: 10px;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.18);
    background: rgba(255,255,255,0.06);
    overflow: hidden;
  }
  .pp-hh-pickNotice__seg.is-active{
    background: rgba(190,242,100,0.18);
    border-color: rgba(190,242,100,0.35);
    box-shadow: 0 0 0 3px rgba(190,242,100,0.10);
  }
  .pp-hh-pickNotice__seg.is-done{
    background: rgba(190,242,100,0.75);
    border-color: rgba(190,242,100,0.55);
    box-shadow: 0 0 18px rgba(190,242,100,0.18);
  }

  .pp-hh-pickNotice__cards{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.65rem;
    margin-bottom: 0.65rem;
  }

  .pp-hh-pickNotice__card{
    border-radius: 16px;
    border: 1px solid rgba(148,163,184,0.20);
    background: rgba(0,0,0,0.14);
    padding: 0.7rem 0.75rem;
    box-shadow: 0 10px 22px rgba(0,0,0,0.14);
    min-width: 0;
  }

  .pp-hh-pickNotice__card.is-filled{
    border-color: rgba(190,242,100,0.45);
    background: rgba(190,242,100,0.08);
  }

  .pp-hh-pickNotice__cardTag{
    font-weight: 950;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    font-size: 0.68rem;
    color: rgba(190,242,100,0.92);
    margin-bottom: 0.35rem;
  }

  .pp-hh-pickNotice__cardName{
    font-weight: 900;
    font-size: 0.9rem;
    color: var(--text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .pp-hh-pickNotice__hint{
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--text-medium);
  }
}

/* =========================================================
   Mobile Cart/About full-screen modal (uses existing markup)
   Desktop unaffected
   ========================================================= */
@media (max-width: 1023.98px){
  .pp-cart-fab{
    position: fixed;
    right: 1rem;
    bottom: calc(1rem + env(safe-area-inset-bottom));
    z-index: 60;
    padding: 0.75rem 1.05rem;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.28);
    background: rgba(15,23,42,0.55);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: var(--shadow-float);
    font-weight: 900;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    color: var(--text-primary);
    display: inline-flex;
    align-items: center;
    gap: 0.55rem;
    line-height: 1;
  }

  /* Light mode: crisp pill so the count is always readable */
  [data-theme='light'] .pp-cart-fab{
    background: rgba(255,255,255,0.92);
    border-color: rgba(15,23,42,0.14);
    box-shadow: 0 18px 44px rgba(15,23,42,0.14);
    color: var(--text-primary);
  }

  .pp-cart-fab__icon{
    font-size: 1.05rem;
    line-height: 1;
    font-family: "Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji",system-ui,sans-serif;
  }

  .pp-cart-fab__label{
    font-size: 0.78rem;
    font-weight: 950;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    opacity: 0.92;
  }

  .pp-cart-fab__count{
    position: absolute;
    top: -0.45rem;
    right: -0.45rem;
    min-width: 1.45rem;
    height: 1.45rem;
    padding: 0 0.35rem;
    border-radius: 999px;
    display: grid;
    place-items: center;

    font-size: 0.78rem;
    font-weight: 950;
    letter-spacing: 0.02em;
    font-variant-numeric: tabular-nums;

    pointer-events: none;

    background: var(--brand-neon-green);
    color: #0b1220;
    border: 1px solid rgba(0,0,0,0.12);
    box-shadow: 0 12px 30px rgba(0,0,0,0.28);
  }

  [data-theme='light'] .pp-cart-fab__count{
    border-color: rgba(15,23,42,0.18);
    box-shadow: 0 14px 32px rgba(15,23,42,0.18);
  }

  /* Add-to-cart feedback: a quick premium "bump" */
  @keyframes ppCartFabBump{
    0%   { transform: translateY(0) scale(1); }
    40%  { transform: translateY(-1px) scale(1.04); }
    100% { transform: translateY(0) scale(1); }
  }
  @keyframes ppCartBadgePop{
    0%   { transform: scale(0.78); }
    55%  { transform: scale(1.16); }
    100% { transform: scale(1); }
  }

  .pp-cart-fab.is-bump{
    animation: ppCartFabBump 420ms var(--pp-ease, cubic-bezier(.22,1,.36,1));
  }
  .pp-cart-fab.is-bump .pp-cart-fab__count{
    animation: ppCartBadgePop 520ms var(--pp-ease, cubic-bezier(.22,1,.36,1));
  }

  @media (prefers-reduced-motion: reduce){
    .pp-cart-fab.is-bump,
    .pp-cart-fab.is-bump .pp-cart-fab__count{
      animation: none !important;
    }
  }

  .pp-cart-modal{
    position: fixed;
    inset: 0;
    z-index: 1500;
    display: flex;
    align-items: stretch;
    justify-content: stretch;
  }

  .pp-cart-modal__backdrop{
    position: absolute;
    inset: 0;
    background: rgba(2, 6, 23, 0.66);
  }

  .pp-cart-modal__panel{
    position: relative;
    z-index: 1;
    width: 100%;
    height: 100vh;
    height: 100dvh;
    background: var(--pp-surface, var(--panel));
    padding: 0.75rem;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  /* Let the inside panel scroll naturally */
  .pp-cart-modal__panel .order-panel-container--mobileCart{
    flex: 1 1 auto;
    min-height: 0;
    height: 100%;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    position: relative;
    top: auto;
    padding-top: 0.85rem;
    padding-left: 0.85rem;
    padding-right: 0.85rem;
    /* Allow content to scroll above the fixed bottom nav */
    padding-bottom: calc(var(--pp-bottomnav-h) + env(safe-area-inset-bottom) + 0.75rem);
    scroll-padding-bottom: calc(var(--pp-bottomnav-h) + env(safe-area-inset-bottom) + 0.75rem);
  }
}

/* Meal Deal Half & Half: pick-halves stage uses the regular Menu grid inside the modal */
.pp-hh-mealPick{
  display: flex;
  flex-direction: column;
  min-height: 0;
  height: 100%;
  gap: 0.85rem;
}

.pp-hh-mealPickBody{
  flex: 1 1 auto;
  min-height: 0;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding-right: 0.25rem;
}

/* Tighten menu sections a touch inside the modal so it feels like a picker */
.pp-hh-mealPickBody .menu-category{
  margin-bottom: 1.25rem;
  padding: 0.9rem 0.9rem 1rem;
}
.pp-hh-mealPickBody .category-title{
  scroll-margin-top: 1rem;
}

/* Meal Deal Half & Half: full-screen mobile sheet (no scaling / no shrink) */
@media (max-width: 1023.98px){
  .pp-mealdeal-halfhalf--full{
    --pp-mealhh-scale: 1 !important;
    overflow: hidden !important;
  }

  .pp-mealdeal-halfhalf--full .pp-halfhalf-panel{
    transform: none !important;
    transform-origin: initial !important;
  }

  /* Picker stage uses Menu: make it scroll inside the sheet */
  .pp-mealdeal-halfhalf--full .pp-hh-mealPickBody{
    flex: 1 1 auto;
    min-height: 0;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* =========================================================
   Half & Half (MOBILE) -- single smooth scroll (final override)
   One scroll container: .pp-halfhalf-panel
   ========================================================= */
@media (max-width: 1023.98px){
  /* Don’t let the modal itself become the scroll container */
  .pp-halfhalf-modal__panel{
    overflow: hidden !important;
  }

  /* The panel is the ONLY scroll area */
  .pp-halfhalf-modal__panel .pp-halfhalf-panel{
    height: 100% !important;
    min-height: 0 !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  /* Body is content only (no inner scroll zone) */
  .pp-halfhalf-modal__panel .pp-halfhalf-body{
    overflow: visible !important;
  }

  /* Meal deal full-screen half/half uses the same rule */
  .pp-mealdeal-halfhalf--full{
    overflow: hidden !important;
  }
  .pp-mealdeal-halfhalf--full .pp-halfhalf-panel{
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;
  }
  .pp-mealdeal-halfhalf--full .pp-halfhalf-body{
    overflow: visible !important;
  }
}

/* =========================================================
   Half & Half -- GF toggle (shared settings)
   Clear + premium in both themes
   ========================================================= */
.pp-halfhalf-panel .pp-hh-gfToggle{
  width: 100%;
  min-height: 48px;
  padding: 0.55rem 0.95rem;

  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.28);

  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.55rem;

  font-weight: 950;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-size: 0.78rem;

  background:
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.12));
  box-shadow: 0 14px 34px rgba(0,0,0,0.14);

  color: var(--text-primary);
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease, filter 160ms ease;
}

.pp-halfhalf-panel .pp-hh-gfToggle:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.35);
  box-shadow: 0 18px 44px rgba(0,0,0,0.18);
}

.pp-halfhalf-panel .pp-hh-gfToggle:active{
  transform: translateY(0px) scale(0.99);
}

/* ON state */
.pp-halfhalf-panel .pp-hh-gfToggle.is-on{
  border-color: rgba(190,242,100,0.55);
  background:
    radial-gradient(900px 280px at 30% 10%, rgba(190,242,100,0.26), transparent 58%),
    linear-gradient(180deg, rgba(190,242,100,0.18), rgba(0,0,0,0.10));
  box-shadow:
    0 0 0 3px rgba(190,242,100,0.14),
    0 18px 44px rgba(0,0,0,0.20);
}

/* Light theme tweaks: keep it crisp on white */
[data-theme="light"] .pp-halfhalf-panel .pp-hh-gfToggle{
  background:
    linear-gradient(180deg, rgba(15,23,42,0.03), rgba(15,23,42,0.06));
  border-color: rgba(15,23,42,0.16);
  box-shadow: 0 14px 34px rgba(2,6,23,0.08);
}

[data-theme="light"] .pp-halfhalf-panel .pp-hh-gfToggle.is-on{
  border-color: rgba(22,163,74,0.28);
  background:
    radial-gradient(900px 280px at 30% 10%, rgba(22,163,74,0.18), transparent 58%),
    linear-gradient(180deg, rgba(22,163,74,0.08), rgba(15,23,42,0.03));
  box-shadow:
    0 0 0 3px rgba(22,163,74,0.12),
    0 14px 34px rgba(2,6,23,0.10);
}

/* =========================================================
   Half & Half -- Quantity control (shared settings)
   Matches GF toggle styling (both themes)
   ========================================================= */

.pp-halfhalf-panel .pp-hh-qtyRow{
  width: 100%;
  min-height: 52px;
  padding: 0.55rem 0.75rem;

  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.24);
  background:
    linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.10));
  box-shadow: 0 14px 34px rgba(0,0,0,0.12);

  display: grid;
  grid-template-columns: 1fr auto auto auto;
  align-items: center;
  gap: 0.65rem;
}

.pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyLabel{
  font-weight: 950;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-size: 0.72rem;
  color: var(--text-medium);
}

/* The +/- buttons */
.pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyBtn{
  width: 40px;
  height: 40px;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.14);
  color: var(--text-primary);
  font-weight: 950;
  font-size: 1.1rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.10);
  transition: transform 140ms ease, box-shadow 140ms ease, border-color 140ms ease;
}

.pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyBtn:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.35);
  box-shadow:
    0 10px 22px rgba(0,0,0,0.18),
    inset 0 1px 0 rgba(255,255,255,0.12);
}

.pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyBtn:active{
  transform: translateY(0) scale(0.99);
}

/* Quantity value */
.pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyValue{
  min-width: 46px;
  height: 40px;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.06);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 950;
  letter-spacing: 0.06em;
  color: var(--text-primary);
}

/* Light theme tuning */
[data-theme="light"] .pp-halfhalf-panel .pp-hh-qtyRow{
  background: linear-gradient(180deg, rgba(15,23,42,0.02), rgba(15,23,42,0.06));
  border-color: rgba(15,23,42,0.14);
  box-shadow: 0 14px 34px rgba(2,6,23,0.08);
}

[data-theme="light"] .pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyBtn{
  background: rgba(15,23,42,0.04);
  border-color: rgba(15,23,42,0.14);
}

[data-theme="light"] .pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyValue{
  background: rgba(255,255,255,0.7);
}

/* Meal Deal Half & Half (full-screen mobile): single-scroll mode */
@media (max-width: 1023.98px){
  .pp-mealdeal-halfhalf--full .pp-halfhalf-body{
    overflow: visible !important; /* prevent second scroll area */
  }

  .pp-mealdeal-halfhalf--full .pp-halfhalf-panel{
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  .pp-mealdeal-halfhalf--full .pp-halfhalf-cta{
    position: sticky;
    bottom: 0;
  }
}

/* =========================================================
   Meal Deal (DESKTOP) -- Half & Half overlay inside panel
   Gives HH editor priority over navigator/detail content
   ========================================================= */
@media (min-width: 1024px){
  .pp-md-hhOverlay--inpanel{
    position: absolute;
    inset: 0;
    z-index: 90;

    background: rgba(2, 6, 23, 0.55);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);

    display: flex;
    align-items: stretch;
    justify-content: center;

    padding: 1.25rem;
    overflow: hidden;
  }

  .pp-md-hhShell--inpanel{
    width: 100%;
    max-width: 980px;
    height: 100%;
    min-height: 0;

    display: flex;
    overflow: hidden;
  }

  .pp-md-hhShell--inpanel .pp-halfhalf-panel{
    height: 100% !important;
    min-height: 0;
  }
}

/* ---------- Neat Loading Screen ---------- */
.pp-loading-screen {
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px 16px;
  background:
    radial-gradient(80% 60% at 50% 30%, rgba(190,242,100, 0.12), transparent 60%),
    var(--bg);
}

.pp-loading-card {
  width: min(440px, 100%);
  border: 1px solid rgba(255, 255, 255, 0.08);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.02));
  border-radius: 18px;
  padding: 22px 18px;
  box-shadow: 0 18px 60px rgba(0, 0, 0, 0.35);
  text-align: center;
}

.pp-loading-brand {
  font-weight: 750;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-size: 12px;
  opacity: 0.7;
  margin-bottom: 12px;
}

.pp-loading-spinner {
  width: 42px;
  height: 42px;
  border-radius: 999px;
  border: 3px solid rgba(255, 255, 255, 0.14);
  border-top-color: var(--accent);
  margin: 0 auto 12px;
  animation: ppSpin 0.9s linear infinite;
}

@keyframes ppSpin {
  to { transform: rotate(360deg); }
}

.pp-loading-title {
  font-size: 16px;
  font-weight: 650;
}

.pp-loading-subtitle {
  margin-top: 6px;
  font-size: 13px;
  opacity: 0.7;
}

.pp-loading-bars {
  margin-top: 16px;
  display: grid;
  gap: 10px;
}

.pp-loading-bar {
  height: 10px;
  border-radius: 999px;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.06),
    rgba(255, 255, 255, 0.18),
    rgba(255, 255, 255, 0.06)
  );
  background-size: 220% 100%;
  animation: ppShimmer 1.2s ease-in-out infinite;
}

.pp-loading-bar:nth-child(2) { width: 88%; margin: 0 auto; }
.pp-loading-bar:nth-child(3) { width: 72%; margin: 0 auto; }

@keyframes ppShimmer {
  0% { background-position: 0% 0%; }
  100% { background-position: 200% 0%; }
}

@media (prefers-reduced-motion: reduce) {
  .pp-loading-spinner,
  .pp-loading-bar {
    animation: none;
  }
}

/* =========================================================
   MOBILE -- make menu feel fuller / closer to edges
   (put at VERY BOTTOM so it overrides duplicate mobile blocks)
   ========================================================= */
@media (max-width: 640px) {
  /* outer gutters */
  .app-grid-layout {
    padding-inline: 0.35rem !important;
    padding-top: 0 !important;
    padding-bottom: 0.45rem !important;
  }

  /* main slab: reduce side padding */
  .main-content-area {
    padding-left: 0.35rem !important;
    padding-right: 0.35rem !important;
  }

  /* category "panel" is currently too padded */
  [data-theme='light'] .menu-category,
  [data-theme='dark'] .menu-category {
    padding: 0.55rem 0.55rem 0.75rem !important;
    border-radius: 14px !important;
  }

  /* tighten the grid so cards fill the row */
  .menu-grid {
    gap: 0.55rem !important;
  }

  /* slightly wider cards within the 2-col grid */
  .card-text-container {
    padding: 0.5rem !important;
  }

  .card-item-description {
    font-size: 0.76rem !important;
    line-height: 1.2 !important;
  }
}

/* =========================================================
   Mobile Bottom Nav (Menu / About / Profile)
   Desktop unchanged
   ========================================================= */
:root{
  --pp-bottomnav-h: 64px;
}

@media (max-width: 1023.98px){
  /* give the page room so content isn't hidden behind the bottom nav */
  .app-grid-layout{
    padding-bottom: calc(0.55rem + var(--pp-bottomnav-h) + env(safe-area-inset-bottom)) !important;
  }

  .pp-bottomnav{
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 58;

    height: calc(var(--pp-bottomnav-h) + env(safe-area-inset-bottom));
    padding-bottom: env(safe-area-inset-bottom);

    display: grid;
    grid-template-columns: repeat(4, 1fr);

    border-top: 1px solid var(--border-color);
    background: color-mix(in srgb, var(--pp-surface, var(--panel)) 86%, transparent);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
  }

  .pp-bottomnav.pp-bottomnav--3{
    grid-template-columns: repeat(3, 1fr);
  }

  /* When an overlay (About/Profile) is open, keep bottom nav clickable */
  .pp-bottomnav.pp-bottomnav--elevated{
    z-index: 2005; /* above .pp-cart-modal (1500) & .modal-overlay (1000) */
  }

  .pp-bottomnav__item{
    appearance: none;
    border: 0;
    background: transparent;
    color: var(--text-medium);

    display: grid;
    place-items: center;
    gap: 4px;

    padding: 10px 6px 8px;
    cursor: pointer;

    transition: transform 160ms var(--pp-ease, ease), color 180ms ease;
  }

  .pp-bottomnav__item:active{ transform: scale(0.98); }

  .pp-bottomnav__icon{
    font-size: 22px;
    line-height: 1;
    transform: translateY(0px) scale(1);
    transition: transform 220ms var(--pp-ease, ease);
  }

  .pp-bottomnav__label{
    font-size: 11px;
    font-weight: 850;
    letter-spacing: 0.02em;
  }

  .pp-bottomnav__item--loyalty .pp-bottomnav__label{
    font-size: 9px;
    line-height: 1.05;
    white-space: normal;
    max-width: 90px;
  }

  .pp-bottomnav__item::after{
    content: "";
    height: 3px;
    width: 26px;
    border-radius: 999px;
    background: currentColor;
    opacity: 0;
    transform: translateY(4px);
    transition: opacity 200ms ease, transform 200ms ease;
  }

  .pp-bottomnav__item.is-active{
    color: #ef4444;
  }

  .pp-bottomnav__item.is-active .pp-bottomnav__icon{
    transform: translateY(-1px) scale(1.08);
  }

  .pp-bottomnav__item.is-active::after{
    opacity: 1;
    transform: translateY(2px);
  }

  /* Keep the cart FAB above the bottom nav */
  .pp-cart-fab{
    bottom: calc(1rem + var(--pp-bottomnav-h) + env(safe-area-inset-bottom)) !important;
    z-index: 60;
  }
}

/* =========================================================
   TOUCH TABLETS (iPad Pro etc): enable mobile bottom nav + view order FAB
   This fixes: bottom menu showing as plain text + view order not floating.
   ========================================================= */
@media (hover: none) and (pointer: coarse) and (max-width: 1366px){

  :root{
    /* Slightly taller for tablets */
    --pp-bottomnav-h: 72px;
  }

  /* Give content room so it’s not hidden behind the fixed bottom nav */
  .app-grid-layout{
    padding-bottom: calc(0.55rem + var(--pp-bottomnav-h) + env(safe-area-inset-bottom)) !important;
  }

  /* Bottom nav (same behavior as mobile) */
  .pp-bottomnav{
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 58;

    height: calc(var(--pp-bottomnav-h) + env(safe-area-inset-bottom));
    padding-bottom: env(safe-area-inset-bottom);

    display: grid;
    grid-template-columns: repeat(4, 1fr);

    border-top: 1px solid var(--border-color);
    background: color-mix(in srgb, var(--pp-surface, var(--panel)) 86%, transparent);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
  }

  .pp-bottomnav.pp-bottomnav--3{
    grid-template-columns: repeat(3, 1fr);
  }

  .pp-bottomnav__item{
    appearance: none;
    border: 0;
    background: transparent;
    color: var(--text-medium);

    display: grid;
    place-items: center;
    gap: 5px;

    padding: 12px 8px 10px;
    cursor: pointer;
  }

  .pp-bottomnav__icon{
    font-size: 24px;
    line-height: 1;
  }

  .pp-bottomnav__label{
    font-size: 12px;
    font-weight: 850;
    letter-spacing: 0.02em;
  }

  .pp-bottomnav__item--loyalty .pp-bottomnav__label{
    font-size: 10px;
    line-height: 1.05;
    white-space: normal;
    max-width: 110px;
  }

  .pp-bottomnav__item.is-active{
    color: #ef4444;
  }

  /* View Order container should not take layout space */
  .pp-mobileViewOrderBar{
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 59;
    pointer-events: none;
  }

  /* View Order FAB (same style as phone) */
  .pp-cart-fab{
    position: fixed;
    right: 1rem;
    bottom: calc(1rem + var(--pp-bottomnav-h) + env(safe-area-inset-bottom)) !important;
    z-index: 60;

    padding: 0.75rem 1.05rem;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.28);
    background: rgba(15,23,42,0.55);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: var(--shadow-float);

    font-weight: 900;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    color: var(--text-primary);

    display: inline-flex;
    align-items: center;
    gap: 0.55rem;
    line-height: 1;

    pointer-events: auto;
  }

  /* If cart is open, hide bottom nav (you already have this globally, but keep it safe) */
  .pp-mobileCartOpen .pp-bottomnav{
    display: none !important;
  }
}

/* =========================================================
   Mobile bottom nav: ALWAYS visible above overlays/modals
   ========================================================= */
@media (max-width: 1023.98px){
.pp-bottomnav.pp-bottomnav--elevated{
    z-index: 2005 !important;       /* above .pp-cart-modal & .modal-overlay */
    pointer-events: auto !important;
  }

  .pp-bottomnav.pp-bottomnav--elevated *{
    pointer-events: auto !important;
  }

  /* keep the cart FAB behaving nicely too */
  .pp-cart-fab{
    z-index: 20010 !important;       /* above nav if needed */
  }
}

/* When mobile cart is open, hide the bottom nav */
.pp-mobileCartOpen .pp-bottomnav{
  display: none !important;
}

/* Sticky CTA replaces the footer area on mobile cart */
.pp-mobileCartStickyCta{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  padding: 10px 12px calc(env(safe-area-inset-bottom) + 10px);
  background: rgba(2, 6, 23, 0.92);
  border-top: 1px solid rgba(148,163,184,0.16);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.pp-mobileCartStickyCta .place-order-button{
  width: 100%;
  min-height: 46px;
  border-radius: 14px;
}

.pp-mobileCartOpen .order-panel-container--mobileCart{
  padding-bottom: calc(env(safe-area-inset-bottom) + 70px) !important;
  scroll-padding-bottom: calc(env(safe-area-inset-bottom) + 70px) !important;
}

/* Mobile "View order" bottom bar — full width */
@media (max-width: 900px){
  .pp-mobileViewOrderBar{
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;

    z-index: 9998; /* below header but above content */
    padding: 10px max(12px, env(safe-area-inset-right)) calc(10px + env(safe-area-inset-bottom)) max(12px, env(safe-area-inset-left));
    background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,0.38));
    pointer-events: none; /* so only the button is clickable */
  }

  .pp-mobileViewOrderBar > button{
    width: 100%;
    pointer-events: auto;
  }

  .pp-mobileViewOrderBar .pp-cart-fab{
    position: relative;
    right: auto;
    bottom: auto;
    width: 100%;
    justify-content: center;
  }
}

@media (max-width: 900px){
  body{
    padding-bottom: calc(76px + env(safe-area-inset-bottom));
  }
}

/* =========================================================
   Meal Deal (DESKTOP) -- HH overlay should fully take priority
   ========================================================= */
@media (min-width: 1024px){
  /* Make the overlay backdrop opaque (no overlap look) */
  .pp-md-hhOverlay--inpanel{
    background: var(--pp-surface, var(--panel)) !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }

  /* Subtle separation around the HH shell */
  .pp-md-hhShell--inpanel{
    border-radius: 22px;
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow-modal);
    overflow: hidden;
    background: var(--pp-surface, var(--panel));
  }

  /* While HH is open, dim + disable the underlying meal deal UI */
  .pp-md-root--hhopen .pp-md-head,
  .pp-md-root--hhopen .pp-md-steps,
  .pp-md-root--hhopen .pp-md-active,
  .pp-md-root--hhopen .pp-md-body,
  .pp-md-root--hhopen .cart-total-section{
    opacity: 0.12;
    pointer-events: none;
    user-select: none;
  }
}

/* =========================================
   Ashmore footer lockup -- FUTURISTIC / DYNAMIC
   ========================================= */

.ashmore-lockup{
  display: inline-flex;
  align-items: center;
  gap: 0.85rem;
  position: relative;

  padding: 12px 16px 12px;
  border-radius: 18px;

  /* sharper, "tech glass" plate */
  background:
    radial-gradient(140px 70px at 18% 35%, rgba(190,242,100,0.22), transparent 60%),
    radial-gradient(220px 90px at 80% 50%, rgba(190,242,100,0.18), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.18));

  border: 1px solid rgba(148,163,184,0.20);
  box-shadow:
    0 18px 56px rgba(0,0,0,0.22),
    0 0 0 3px rgba(190,242,100,0.10);

  overflow: hidden;
}

/* subtle scanline */
.ashmore-lockup::before{
  content: "";
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    180deg,
    rgba(255,255,255,0.045) 0px,
    rgba(255,255,255,0.045) 1px,
    rgba(0,0,0,0) 7px
  );
  opacity: 0.22;
  pointer-events: none;
}

/* angled "energy" underline */
.ashmore-lockup::after{
  content: "";
  position: absolute;
  left: 14px;
  right: 14px;
  bottom: 6px;
  height: 3px;
  border-radius: 999px;
  transform: skewX(-18deg);

  background: linear-gradient(
    90deg,
    rgba(190,242,100,0.0),
    rgba(190,242,100,0.85),
    rgba(190,242,100,0.75),
    rgba(190,242,100,0.0)
  );
  box-shadow: 0 0 22px rgba(190,242,100,0.22);
  opacity: 0.75;
  pointer-events: none;
}

.ashmore-lockup__mark{
  height: 36px;
  width: 36px;
  border-radius: 999px;
  display: block;

  /* "reactor core" ring */
  box-shadow:
    0 0 0 2px rgba(190,242,100,0.28),
    0 0 0 6px rgba(190,242,100,0.10),
    0 16px 34px rgba(0,0,0,0.22);

  filter:
    contrast(1.12)
    saturate(1.15);
  opacity: 0.98;
}

.ashmore-lockup__words{
  display: flex;
  flex-direction: column;
  line-height: 1.02;
  min-width: 0;
}

.ashmore-lockup__kicker{
  font-weight: 900;
  font-size: 0.62rem;
  letter-spacing: 0.26em;
  text-transform: uppercase;
  color: rgba(226,232,240,0.72);
}

/* FUTURISTIC wordmark feel: tighter + higher contrast */
.ashmore-lockup__brand{
  font-weight: 1000;
  font-size: 0.98rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(241,245,249,0.95);

  text-shadow:
    0 10px 24px rgba(0,0,0,0.22),
    0 0 18px rgba(190,242,100,0.10);
}

/* Replace "eco green" with cyan/violet energy */
.ashmore-lockup__co{
  color: rgba(190,242,100,0.95);
  text-shadow:
    0 0 20px rgba(190,242,100,0.22),
    0 0 34px rgba(190,242,100,0.12);
}

/* Light theme: keep it tech, not eco */
[data-theme="light"] .ashmore-lockup{
  background:
    radial-gradient(140px 70px at 18% 35%, rgba(190,242,100,0.16), transparent 60%),
    radial-gradient(220px 90px at 80% 50%, rgba(190,242,100,0.14), transparent 62%),
    linear-gradient(180deg, rgba(15,23,42,0.02), rgba(15,23,42,0.07));
  border-color: rgba(15,23,42,0.12);
  box-shadow:
    0 14px 40px rgba(2,6,23,0.10),
    0 0 0 3px rgba(190,242,100,0.08);
}

[data-theme="light"] .ashmore-lockup__kicker{
  color: rgba(15,23,42,0.55);
}
[data-theme="light"] .ashmore-lockup__brand{
  color: rgba(15,23,42,0.92);
  text-shadow: 0 10px 22px rgba(2,6,23,0.10);
}
[data-theme="light"] .ashmore-lockup__co{
  color: rgba(8,145,178,0.95); /* cyan */
  text-shadow:
    0 0 16px rgba(8,145,178,0.14),
    0 0 26px rgba(190,242,100,0.10);
}

/* =========================================
   Ashmore lockup — futuristic effects (hover + idle)
   ========================================= */

.ashmore-lockup{
  will-change: transform, box-shadow, filter;
  transform: translateZ(0);
}

/* Shimmer sweep layer (only visible on hover/focus) */
.ashmore-lockup .ashmore-lockup__sheen{
  display: none;
}

/* Add a dedicated sheen overlay using ::before's scanlines + new ::after already used.
   We'll add a new sheen using a nested pseudo via background animation on the lockup itself. */
.ashmore-lockup{
  background-size: 100% 100%, 100% 100%, 100% 100%;
}

/* Reactor pulse on idle (subtle) */
@keyframes ashmoreReactorPulse{
  0%, 100% { box-shadow: 0 18px 56px rgba(0,0,0,0.22), 0 0 0 3px rgba(190,242,100,0.10); }
  50%      { box-shadow: 0 22px 70px rgba(0,0,0,0.26), 0 0 0 3px rgba(190,242,100,0.16); }
}

@keyframes ashmoreUnderlineFlow{
  0%   { transform: skewX(-18deg) translateX(-6%); opacity: 0.55; }
  50%  { transform: skewX(-18deg) translateX(6%);  opacity: 0.90; }
  100% { transform: skewX(-18deg) translateX(-6%); opacity: 0.55; }
}

@keyframes ashmoreScanDrift{
  0%   { transform: translateY(0px); opacity: 0.20; }
  50%  { transform: translateY(6px); opacity: 0.26; }
  100% { transform: translateY(0px); opacity: 0.20; }
}

/* Subtle idle motion (not cheesy) */
@media (prefers-reduced-motion: no-preference){
  .ashmore-lockup{
    animation: ashmoreReactorPulse 2.6s ease-in-out infinite;
  }

  .ashmore-lockup::after{
    animation: ashmoreUnderlineFlow 2.2s ease-in-out infinite;
  }

  .ashmore-lockup::before{
    animation: ashmoreScanDrift 3.4s ease-in-out infinite;
  }
}

/* Hover: “engine spin-up” + shimmer sweep + micro glitch */
@keyframes ashmoreSheenSweep{
  0%   { background-position: 0 0, 0 0, 0 0, -140% 0; }
  100% { background-position: 0 0, 0 0, 0 0, 140% 0; }
}

@keyframes ashmoreMicroGlitch{
  0%   { transform: translateZ(0) skewX(0deg); }
  20%  { transform: translateZ(0) skewX(-0.6deg); }
  40%  { transform: translateZ(0) skewX(0.6deg); }
  60%  { transform: translateZ(0) skewX(-0.3deg); }
  100% { transform: translateZ(0) skewX(0deg); }
}

.ashmore-lockup:hover,
.ashmore-lockup:focus-within{
  transform: translateY(-1px);
  box-shadow:
    0 26px 84px rgba(0,0,0,0.28),
    0 0 0 3px rgba(190,242,100,0.18),
    0 0 32px rgba(190,242,100,0.16);
}

/* Shimmer overlay using a new background layer */
.ashmore-lockup:hover{
  background-image:
    radial-gradient(140px 70px at 18% 35%, rgba(190,242,100,0.22), transparent 60%),
    radial-gradient(220px 90px at 80% 50%, rgba(190,242,100,0.18), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.18)),
    linear-gradient(
      120deg,
      rgba(190,242,100,0.00) 0%,
      rgba(190,242,100,0.22) 18%,
      rgba(241,245,249,0.16) 32%,
      rgba(190,242,100,0.18) 48%,
      rgba(190,242,100,0.00) 70%
    );
  background-size: 100% 100%, 100% 100%, 100% 100%, 220% 100%;
  background-position: 0 0, 0 0, 0 0, -140% 0;
  background-repeat: no-repeat;
  animation: ashmoreReactorPulse 1.6s ease-in-out infinite, ashmoreSheenSweep 900ms ease-out 1;
}

/* Techy “micro glitch” on the wordmark (hover only) */
.ashmore-lockup:hover .ashmore-lockup__brand{
  animation: ashmoreMicroGlitch 260ms ease-out 1;
  text-shadow:
    0 10px 24px rgba(0,0,0,0.22),
    0 0 18px rgba(190,242,100,0.18),
    1px 0 0 rgba(190,242,100,0.12),
    -1px 0 0 rgba(190,242,100,0.10);
}

/* Make the mark feel “powered” on hover */
.ashmore-lockup:hover .ashmore-lockup__mark{
  box-shadow:
    0 0 0 2px rgba(190,242,100,0.40),
    0 0 0 7px rgba(190,242,100,0.14),
    0 18px 46px rgba(0,0,0,0.26);
  filter: contrast(1.16) saturate(1.22);
}

/* Reduced motion: keep it static but still sharp */
@media (prefers-reduced-motion: reduce){
  .ashmore-lockup,
  .ashmore-lockup::after,
  .ashmore-lockup::before,
  .ashmore-lockup:hover,
  .ashmore-lockup:hover .ashmore-lockup__brand{
    animation: none !important;
    transition: none !important;
  }
}

/* =========================================================
   ORDER PANEL — polish pass (scoped to order sidebar/panel)
   ========================================================= */

.order-panel-container{
  border-radius: 22px;
  background:
    radial-gradient(720px 300px at 20% 0%, rgba(190,242,100,0.10), transparent 60%),
    radial-gradient(520px 260px at 85% 0%, rgba(190,242,100,0.06), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.10));
}

[data-theme="light"] .order-panel-container{
  background:
    radial-gradient(720px 300px at 20% 0%, rgba(22,163,74,0.10), transparent 60%),
    linear-gradient(180deg, rgba(15,23,42,0.02), rgba(15,23,42,0.06));
}

/* Title: tighter + more “product” */
.order-panel-container .panel-title{
  margin: 0 0 0.9rem;
  font-size: 1.35rem;
  letter-spacing: 0.08em;
}

/* Pickup/Delivery segmented control */
.order-panel-container .pp-orderTypeSwitch{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.55rem;
  padding: 0.45rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.20);
  background: rgba(0,0,0,0.14);
  box-shadow: var(--shadow-card);
  margin-bottom: 0.9rem;
}

[data-theme="light"] .order-panel-container .pp-orderTypeSwitch{
  background: rgba(15,23,42,0.03);
}

/* Pickup time (ASAP / Schedule) */
.order-panel-container .pp-pickupWhenSwitch{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.55rem;
  padding: 0.45rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.20);
  background: rgba(0,0,0,0.12);
  box-shadow: var(--shadow-card);
  margin-top: 0.65rem;
}

[data-theme="light"] .order-panel-container .pp-pickupWhenSwitch{
  background: rgba(15,23,42,0.03);
}

.order-panel-container .pp-pickupWhenBtn{
  min-height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.04);
  color: var(--text-primary);
  font-weight: 950;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease, background 160ms ease;
}

.order-panel-container .pp-pickupWhenBtn.is-active{
  border-color: rgba(190,242,100,0.55);
  background: linear-gradient(180deg, rgba(190,242,100,0.95), rgba(190,242,100,0.70));
  color: #0b1220;
  box-shadow: 0 18px 46px rgba(190,242,100,0.18);
}

[data-theme="light"] .order-panel-container .pp-pickupWhenBtn.is-active{
  border-color: rgba(22,163,74,0.28);
  background: linear-gradient(180deg, #bbf7d0, #86efac);
  color: #0b1220;
}

.order-panel-container .pp-pickupWhenBtn:disabled{
  opacity: 0.45;
  cursor: not-allowed;
  box-shadow: none;
  transform: none;
}

.info-box .pp-changeBtn{
  height: 30px;
  padding: 0 12px;
  border-radius: 999px;
  background: rgba(34, 197, 94, 0.12);
  border: 1px solid rgba(34, 197, 94, 0.30);
  color: rgba(241,245,249,0.92);
  font-weight: 900;
  font-size: 12px;
  letter-spacing: 0.35px;
  text-transform: uppercase;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.06),
    0 6px 14px rgba(0,0,0,0.25);
}

.info-box .pp-changeBtn:active{
  transform: translateY(1px);
}

/* Mobile cart order panel: less cramped + better rhythm */
@media (max-width: 900px){
  .order-panel-container--mobileCart .panel-title{
    font-size: 1.15rem;
    margin-bottom: 0.65rem;
    letter-spacing: 0.10em;
  }

  .order-panel-container--mobileCart .pp-orderTypeSwitch{
    margin-bottom: 0.75rem;
    padding: 0.35rem;
    gap: 0.45rem;
  }

  .order-panel-container--mobileCart .pp-orderTypeBtn{
    min-height: 40px;
    font-size: 0.78rem;
    letter-spacing: 0.10em;
  }

  /* Mobile cart: delivery address input (shorter + smaller placeholder) */
  .order-panel-container--mobileCart .pp-deliveryAddressInput{
    height: 28px;
    min-height: 28px;
    padding: 0 10px;
    line-height: 28px;
    font-size: 12.5px;
    font-weight: 800;
    border-radius: 12px;
  }

  .order-panel-container--mobileCart .pp-deliveryAddressInput::placeholder{
    font-size: 11px;
    font-weight: 700;
    color: rgba(226,232,240,0.45);
  }

}

/* Schedule grid */
.order-panel-container .pp-pickupScheduleGrid{
  margin-top: 0.55rem;
  display: grid;
  gap: 0.55rem;
}

.order-panel-container .pp-pickupScheduleRow{
  display: grid;
  grid-template-columns: 70px 1fr;
  gap: 0.65rem;
  align-items: center;
}

.order-panel-container .pp-pickupScheduleRow label{
  font-size: 0.72rem;
  font-weight: 900;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--text-medium);
}

/* --- Scheduler selects: FIX native dropdown visibility (dark/light) --- */
.order-panel-container .pp-pickupScheduleSelect{
  color: var(--text-primary);
  appearance: menulist;
  -webkit-appearance: menulist;
  -moz-appearance: menulist;
}

/* Dark mode: force native dropdown to dark + readable options */
[data-theme="dark"] .order-panel-container .pp-pickupScheduleSelect{
  color-scheme: dark;
  background:
    radial-gradient(520px 180px at 30% 0%, rgba(190,242,100,0.10), transparent 58%),
    linear-gradient(180deg, rgba(15,23,42,0.88), rgba(2,6,23,0.48));
  border-color: rgba(148,163,184,0.22);
}

[data-theme="dark"] .order-panel-container .pp-pickupScheduleSelect option{
  background-color: #0f172a;
  color: #eaf2ff;
}

/* Light mode: crisp, readable options */
[data-theme="light"] .order-panel-container .pp-pickupScheduleSelect{
  color-scheme: light;
  background:
    radial-gradient(520px 180px at 30% 0%, rgba(34,197,94,0.10), transparent 58%),
    linear-gradient(180deg, rgba(255,255,255,0.96), rgba(241,245,251,0.90));
  border-color: rgba(15,23,42,0.14);
  color: #0b1220;
}

[data-theme="light"] .order-panel-container .pp-pickupScheduleSelect option{
  background-color: #ffffff;
  color: #0b1220;
}

.order-panel-container .pp-pickupScheduleSelect:focus{
  outline: none;
  border-color: rgba(190,242,100,0.55);
  box-shadow:
    0 16px 44px rgba(190,242,100,0.14),
    inset 0 1px 0 rgba(255,255,255,0.10);
  transform: translateY(-1px);
}

.order-panel-container .pp-orderTypeBtn{
  min-height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.04);
  color: var(--text-primary);
  font-weight: 950;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease, background 160ms ease;
}

.order-panel-container .pp-orderTypeBtn:hover{
  transform: translateY(-1px);
  box-shadow: var(--shadow-float);
  border-color: rgba(190,242,100,0.30);
}

.order-panel-container .pp-orderTypeBtn.is-active{
  border-color: rgba(190,242,100,0.55);
  background: linear-gradient(180deg, rgba(190,242,100,0.95), rgba(190,242,100,0.70));
  color: #0b1220;
  box-shadow: 0 18px 46px rgba(190,242,100,0.18);
}

[data-theme="light"] .order-panel-container .pp-orderTypeBtn.is-active{
  border-color: rgba(22,163,74,0.28);
  background: linear-gradient(180deg, #bbf7d0, #86efac);
  color: #0b1220;
}

/* Cart list: nicer rhythm */
.order-panel-container .cart-items-list{
  display: flex;
  flex-direction: column;
  gap: 0.55rem;
  padding-right: 0.25rem;
}

/* Empty state */
.order-panel-container .pp-emptyCart{
  flex: 1 1 auto;
  margin: auto 0;
  padding: 1.2rem 1rem;
  border-radius: 18px;
  border: 1px dashed rgba(148,163,184,0.28);
  background: rgba(255,255,255,0.03);
  text-align: center;
}

.order-panel-container .pp-emptyCartTitle{
  font-weight: 950;
  letter-spacing: 0.08em;
}

.order-panel-container .pp-emptyCartSub{
  margin-top: 0.35rem;
  color: var(--text-medium);
  font-weight: 650;
}

/* Cart items */
.order-panel-container .cart-item{
  border-radius: 16px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(0,0,0,0.14);
  padding: 0.85rem 0.85rem;
  box-shadow: 0 12px 28px rgba(0,0,0,0.12);
}
[data-theme="light"] .order-panel-container .cart-item{
  background: rgba(15,23,42,0.03);
  box-shadow: 0 10px 22px rgba(2,6,23,0.08);
}
.order-panel-container .cart-item:hover{
  border-color: rgba(190,242,100,0.30);
  transform: translateY(-1px);
}

/* Footer (total + CTA) */
.order-panel-container .cart-total-section{
  border-top: 1px solid rgba(148,163,184,0.18);
  padding-top: 0.85rem;
}

.order-panel-container .total-price-display span:last-child{
  color: var(--brand-neon-green);
  text-shadow: 0 0 14px rgba(190,242,100,0.22);
}

/* =========================================================
   ORDER PANEL v2 (FINAL OVERRIDE)
   Scoped so it DOES NOT affect:
   - order-panel-container--detail
   - order-panel-container--mealdeal
   - order-panel-container--halfhalf
   ========================================================= */

.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf){
  border-radius: 22px !important;
  background:
    radial-gradient(720px 320px at 18% 0%, rgba(190,242,100,0.12), transparent 60%),
    radial-gradient(520px 260px at 82% 0%, rgba(190,242,100,0.08), transparent 58%),
    linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.12)) !important;
  border: 1px solid rgba(148,163,184,0.18) !important;
  box-shadow: var(--shadow-float) !important;
}

[data-theme="light"] .order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf){
  background:
    radial-gradient(720px 320px at 18% 0%, rgba(22,163,74,0.10), transparent 60%),
    linear-gradient(180deg, rgba(15,23,42,0.02), rgba(15,23,42,0.06)) !important;
  border-color: rgba(15,23,42,0.12) !important;
}

/* Title */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .panel-title{
  margin: 0 0 0.85rem !important;
  font-size: 1.45rem !important;
  letter-spacing: 0.10em !important;
}

/* Pickup/Delivery switch (keep what you have, but make it feel more "segmented") */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .pp-orderTypeSwitch{
  padding: 0.5rem !important;
  border-radius: 999px !important;
  background: rgba(0,0,0,0.12) !important;
  border: 1px solid rgba(148,163,184,0.18) !important;
  box-shadow: var(--shadow-card) !important;
}

[data-theme="light"] .order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .pp-orderTypeSwitch{
  background: rgba(15,23,42,0.03) !important;
}

/* Cart list becomes a proper "well" */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-items-list{
  border-radius: 18px !important;
  border: 1px dashed rgba(148,163,184,0.24) !important;
  background: rgba(0,0,0,0.08) !important;
  padding: 0.85rem !important;

  flex: 1 1 auto !important;
  min-height: 0 !important;
  overflow: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* Empty state: stop the massive dead space feeling */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .pp-emptyCart{
  margin: 0 !important;
  min-height: 220px !important;
  height: 100%;
  display: grid !important;
  place-items: center !important;

  border-radius: 16px !important;
  background:
    radial-gradient(520px 240px at 50% 0%, rgba(190,242,100,0.10), transparent 65%),
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.035) 0px,
      rgba(255,255,255,0.035) 2px,
      rgba(0,0,0,0) 8px
    ) !important;
}

/* Cart row: make it card-like (your later .cart-item rule was overwriting) */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-item{
  border: 1px solid rgba(148,163,184,0.18) !important;
  border-radius: 16px !important;
  background: rgba(255,255,255,0.04) !important;
  padding: 0.85rem 0.9rem !important;
  box-shadow: 0 12px 28px rgba(0,0,0,0.12) !important;
  border-bottom: 1px solid rgba(148,163,184,0.18) !important; /* keeps your divider feel but nicer */
}
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-item:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.30) !important;
}

/* Footer: cleaner, less "flat grey slab" */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-total-section{
  border-top: 1px solid rgba(148,163,184,0.18) !important;
  background:
    linear-gradient(180deg, rgba(0,0,0,0), rgba(15,23,42,0.10) 30%, rgba(15,23,42,0.16)) !important;
  padding-top: 0.9rem !important;
  padding-bottom: 0.85rem !important;
}
[data-theme="light"] .order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-total-section{
  background:
    linear-gradient(180deg, rgba(0,0,0,0), rgba(15,23,42,0.03) 30%, rgba(15,23,42,0.05)) !important;
}

/* Total line pop */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .total-price-display span:last-child{
  color: var(--brand-neon-green) !important;
  text-shadow: 0 0 14px rgba(190,242,100,0.22) !important;
}

/* =========================================================
   ORDER PANEL -- Bottom checkout bar upgrade (Voucher + Total + Continue)
   Final override (normal order panel only)
   ========================================================= */

.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-total-section{
  position: relative;
  margin-top: auto;

  border-top: 1px solid rgba(148,163,184,0.18) !important;
  border-radius: 18px !important;

  padding: 0.95rem 1rem 1rem !important;

  background:
    radial-gradient(700px 240px at 50% 0%, rgba(190,242,100,0.10), transparent 62%),
    radial-gradient(520px 220px at 85% 10%, rgba(190,242,100,0.08), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.14)) !important;

  box-shadow: 0 18px 56px rgba(0,0,0,0.18) !important;
}

/* Replace the old thick "line" look with a cleaner neon hairline */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-total-section::before{
  height: 2px !important;
  margin-bottom: 0.8rem !important;
  opacity: 0.7 !important;
  border-radius: 999px !important;
}

/* Voucher dropdown header (enterprise tidy) */
.pp-voucherBtn{
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid var(--border-color);
  background: var(--panel);
  color: var(--text-light);
  cursor: pointer;
  box-shadow: var(--shadow-card);
  transition: background 180ms ease, border-color 180ms ease, transform 180ms ease;
}

.pp-voucherBtn.is-open{
  background: rgba(190,242,100,0.10);
}

.pp-voucherBtn.is-compact{
  padding: 8px 10px;
  border-radius: 13px;
}

.pp-voucherText{
  min-width: 0;
  display: grid;
  gap: 2px;
  text-align: left;
}

.pp-voucherTitle{
  font-size: 13px;
  font-weight: 900;
  line-height: 1.05;
  letter-spacing: 0.2px;
}

.pp-voucherSub{
  font-size: 12.5px;
  font-weight: 700;
  line-height: 1.1;
  color: var(--text-medium);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.pp-voucherCaret{
  flex: none;
  width: 24px;
  height: 24px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  border: 1px solid var(--border-color);
  background: rgba(0,0,0,0.18);
  font-size: 12px;
  font-weight: 900;
  transform: rotate(0deg);
  transition: transform 220ms cubic-bezier(0.2, 0.8, 0.2, 1);
}

.pp-voucherBtn.is-open .pp-voucherCaret{
  transform: rotate(180deg);
}

/* Voucher entry row: 50/50 split */
.pp-voucherRow{
  display: grid !important;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  align-items: center;
}

.pp-voucherRow input,
.pp-voucherRow button{
  width: 100%;
}

.pp-voucherRow button{
  min-width: 0;
}

/* Voucher input placeholder tone */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf)
.cart-total-section input[placeholder="Enter voucher code"]::placeholder{
  color: rgba(226,232,240,0.55);
  font-weight: 700;
}

/* Total row: more premium + readable */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .total-price-display{
  margin: 0.8rem 0 0.85rem !important;
  padding: 0.85rem 0.9rem !important;

  border-radius: 16px !important;
  border: 1px solid rgba(148,163,184,0.18) !important;
  background: rgba(0,0,0,0.12) !important;
}

[data-theme="light"] .order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .total-price-display{
  background: rgba(15,23,42,0.03) !important;
}

.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf)
.total-price-display span:first-child{
  font-size: 0.72rem !important;
  letter-spacing: 0.18em !important;
  text-transform: uppercase !important;
  color: rgba(190,242,100,0.95) !important;
}

.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf)
.total-price-display span:last-child{
  font-size: 1.65rem !important;
  font-weight: 950 !important;
  letter-spacing: 0.02em !important;
  color: var(--brand-neon-green) !important;
  text-shadow: 0 0 18px rgba(190,242,100,0.22) !important;
}

/* Continue button: make disabled state look intentional (not "grey and dead") */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf)
.cart-total-section .place-order-button{
  margin-top: 0.25rem !important;
  border-radius: 16px !important;
  font-weight: 950 !important;
  letter-spacing: 0.14em !important;
  text-transform: uppercase !important;
}

.place-order-button .pp-ctaText{
  display: inline-flex;
  align-items: baseline;
  gap: 8px;
}

.place-order-button .pp-ctaPrice{
  font-weight: 900;
}

.place-order-button .pp-ctaSep{
  opacity: 0.6;
}

.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf)
.cart-total-section .place-order-button:disabled{
  opacity: 1 !important;
  cursor: not-allowed !important;
  color: rgba(148,163,184,0.95) !important;

  background:
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.16)) !important;
  border: 1px dashed rgba(148,163,184,0.28) !important;
  box-shadow: none !important;
  filter: none !important;
}

/* =========================================================
   Meal Deal (DESKTOP) -- center Half & Half editor correctly
   (PC only, mobile unchanged)
   ========================================================= */
@media (min-width: 1024px){
  .pp-md-hhOverlay--inpanel{
    /* Center the editor shell, not stretch it */
    align-items: center !important;
    justify-content: center !important;

    /* Slightly tighter padding so the card sits visually centered */
    padding: 1rem !important;
  }

  .pp-md-hhShell--inpanel{
    /* Sensible width inside the right panel */
    width: min(860px, 100%) !important;
    max-width: min(860px, 100%) !important;

    /* True centering inside overlay */
    margin: 0 auto !important;

    /* Make sure the panel content fills the shell */
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important;
  }

  .pp-md-hhShell--inpanel .pp-halfhalf-panel{
    width: 100% !important;
  }
}


/* =========================================================
   ItemDetailPanel close button -- make it obvious on photos
   ========================================================= */
.detail-panel > button.quantity-btn[title="Close"]{
  width: 46px !important;
  height: 46px !important;

  /* strong contrast bubble */
  background: rgba(2, 6, 23, 0.78) !important;
  border: 1px solid rgba(255,255,255,0.22) !important;

  box-shadow:
    0 14px 34px rgba(0,0,0,0.42),
    0 0 0 3px rgba(0,0,0,0.18) !important;

  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Light mode still needs a dark bubble over bright images */
html[data-theme="light"] .detail-panel > button.quantity-btn[title="Close"]{
  background: rgba(15, 23, 42, 0.86) !important;
  border-color: rgba(255,255,255,0.28) !important;
}

/* Make the X itself brighter/thicker */
.detail-panel > button.quantity-btn[title="Close"]::before,
.detail-panel > button.quantity-btn[title="Close"]::after{
  height: 2.5px !important;
  width: 18px !important;
  background: rgba(255,255,255,0.96) !important;
}

/* Hover / focus feel */
.detail-panel > button.quantity-btn[title="Close"]:hover{
  transform: translateY(-1px) scale(1.06) !important;
  border-color: rgba(190,242,100,0.55) !important;
  box-shadow:
    0 16px 40px rgba(0,0,0,0.46),
    0 0 0 3px rgba(190,242,100,0.18) !important;
}

.detail-panel > button.quantity-btn[title="Close"]:focus-visible{
  outline: none !important;
  box-shadow:
    0 0 0 3px rgba(190,242,100,0.22),
    0 0 0 1px rgba(190,242,100,0.40),
    0 16px 40px rgba(0,0,0,0.46) !important;
}


/* =========================================================
   MODERN PASS (no carbon) -- left menu only
   - Keep order panel unchanged
   - Image-overlay menu cards + subtle grain texture
   ========================================================= */

/* ---------- (A) Menu cards: overlay + hint ---------- */
.menu-item-card .card-image-container{
  position: relative;
}

.menu-item-card .pp-cardOverlay{
  position: absolute;
  inset: 0;
  padding: 0.7rem;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  gap: 0.45rem;
  pointer-events: none;

  /* darker fade for readability */
  background: linear-gradient(
    180deg,
    rgba(0,0,0,0.00) 42%,
    rgba(0,0,0,0.68) 100%
  );
}

.menu-item-card .pp-cardOverlay__row{
  width: 100%;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 0.6rem;
}

.menu-item-card .pp-cardOverlay__title{
  color: #fff;
  font-weight: 950;
  font-size: 0.98rem;
  line-height: 1.12;
  text-shadow: 0 10px 24px rgba(0,0,0,0.45);

  display: -webkit-box;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.menu-item-card .pp-cardOverlay__price{
  flex: 0 0 auto;
  color: #0b1220;
  font-weight: 950;
  font-size: 0.88rem;
  padding: 0.28rem 0.55rem;
  border-radius: 999px;

  background: rgba(190,242,100,0.92);
  border: 1px solid rgba(0,0,0,0.14);
  box-shadow: 0 12px 26px rgba(0,0,0,0.28);
}

.menu-item-card .pp-cardOverlay__hint{
  color: rgba(255,255,255,0.86);
  font-weight: 800;
  font-size: 0.78rem;
  letter-spacing: 0.02em;
  opacity: 0;
  transform: translateY(6px);
  transition: opacity 220ms ease, transform 220ms ease;
}

/* Show hint on hover (desktop) */
.menu-item-card:hover .pp-cardOverlay__hint{
  opacity: 1;
  transform: translateY(0px);
}

/* Touch devices: show hint during tap only (no sticky hover) */
@media (hover: none) and (pointer: coarse){
  .menu-item-card:hover .pp-cardOverlay__hint{
    opacity: 0;
    transform: translateY(6px);
  }
  .menu-item-card:active .pp-cardOverlay__hint{
    opacity: 1;
    transform: translateY(0px);
  }
}

/* Keep description compact */
.menu-item-card .card-text-container{
  padding: 0.65rem 0.85rem !important;
}
.menu-item-card .card-item-description{
  margin: 0 !important;
  line-height: 1.25;
}

/* ---------- (B) Modern typography on LEFT ONLY ---------- */
.left-pane .category-title,
.left-pane .card-item-name{
  text-transform: none !important;
  letter-spacing: 0.02em !important;
}

/* ---------- (C) Subtle "premium texture" on LEFT surfaces (NOT order panel) ---------- */
:root{
  --pp-grain-opacity: 0.12;   /* tune 0.08-0.16 */
  --pp-grain-opacity2: 0.08;
}

/* Only left-side containers (menu/header/nav). DO NOT touch right sidebar/order panel. */
.left-pane .menu-category{
  position: relative;
  isolation: isolate;
  overflow: hidden;
}

.left-pane .main-content-area{
  position: relative;
  isolation: isolate;
  /* Main scroll container (desktop + storefront) */
  overflow-x: hidden;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  touch-action: pan-y;
}

/* fine micro-diagonal film (very subtle) */
.left-pane .main-content-area::before,
.left-pane .menu-category::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:0;

  background:
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.10) 0px,
      rgba(255,255,255,0.10) 1px,
      rgba(0,0,0,0.00) 1px,
      rgba(0,0,0,0.00) 5px
    );
  opacity: var(--pp-grain-opacity);
  mix-blend-mode: overlay;
}

/* soft highlight vignette (adds depth without "busy" patterns) */
.left-pane .main-content-area::after,
.left-pane .menu-category::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:0;

  background:
    radial-gradient(900px 420px at 50% 0%, rgba(190,242,100,0.10), transparent 60%),
    radial-gradient(900px 520px at 90% 20%, rgba(190,242,100,0.08), transparent 62%),
    radial-gradient(120% 90% at 50% 20%, rgba(255,255,255,0.08), rgba(0,0,0,0.16) 70%, rgba(0,0,0,0.22) 100%);
  opacity: var(--pp-grain-opacity2);
}

/* keep real content above texture */
.left-pane .main-content-area > *,
.left-pane .menu-category > *{
  position: relative;
  z-index: 1;
}

/* ---------- (D) Don't change order panel at all ---------- */
/* (Intentionally no .order-panel-container overrides here) */

@media (max-width: 1023.98px){
  .pp-topnav__searchDrawer{
    position: absolute !important;
  }
}

/* When we suppress the card title, tighten spacing a touch */
.menu-item-card[data-pp-noheader="1"] .card-text-container{
  padding-top: 0.45rem;
}

/* =========================================================
   Meal deal overlay — hard anchor to bottom-left
   (Wins even if something else sets right: or flex-end)
   ========================================================= */

.menu-item-card--mealdeal .pp-cardOverlay{
  position: absolute; /* keep overlay covering the image */
  inset: 0;
  display: block !important;
}

/* The stack container */
.menu-item-card--mealdeal .pp-mealdealOverlayMeta{
  position: absolute !important;
  left: 14px !important;
  bottom: 14px !important;
  right: auto !important;
  top: auto !important;

  align-items: flex-start !important;
  text-align: left !important;
}

/* If either element was individually pinned right, kill it */
.menu-item-card--mealdeal .pp-mealdealPrice,
.menu-item-card--mealdeal .pp-mealdealName{
  right: auto !important;
  left: auto;
}

/* =========================================================
   Profile Modal — Enterprise Overhaul (SCOPED)
   Only affects: .pp-profileOverlay + .pp-profileModal
   (Prevents conflicts with add-ons modal / other overlays)
   ========================================================= */

.pp-profileOverlay{
  background: rgba(2,6,23,0.62);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  padding: clamp(12px, 2.2vw, 20px);
}

[data-theme="light"] .pp-profileOverlay{
  background: rgba(15,23,42,0.28);
}

/* Modal shell */
.pp-profileModal{
  width: min(980px, calc(100vw - 24px));
  max-height: min(86vh, 860px);
  padding: 0;               /* header/body handle padding */
  border-radius: 22px;
  overflow: hidden;

  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-modal);

  background:
    radial-gradient(900px 420px at 20% 0%, rgba(190,242,100,0.10), transparent 60%),
    radial-gradient(900px 420px at 80% 0%, rgba(190,242,100,0.07), transparent 60%),
    linear-gradient(180deg, var(--pp-surface, var(--panel)) 0%, var(--pp-surface-2, var(--panel)) 130%);
}

[data-theme="light"] .pp-profileModal{
  background:
    radial-gradient(900px 420px at 20% 0%, rgba(22,163,74,0.10), transparent 60%),
    radial-gradient(900px 420px at 80% 0%, rgba(190,242,100,0.06), transparent 60%),
    linear-gradient(180deg, #ffffff 0%, #f6f8fc 140%);
}

/* Header: clean enterprise bar */
.pp-profileModal .pp-modal-header{
  position: sticky;
  top: 0;
  z-index: 5;

  padding: 16px 18px;
  border-bottom: 1px solid var(--border-color);

  background:
    linear-gradient(180deg, rgba(255,255,255,0.08), rgba(0,0,0,0.06));
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

[data-theme="light"] .pp-profileModal .pp-modal-header{
  background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(241,245,251,0.75));
}

.pp-profileModal .pp-modal-title{
  font-size: 0.98rem;
  font-weight: 950;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--text-primary);
}

/* Body */
.pp-profileModal .pp-modal-body{
  padding: 16px 18px 18px;
  overflow: auto;
  max-height: calc(min(86vh, 860px) - 70px);
}

/* Form layout */
.pp-profileModal form.profile-modal{
  display: grid;
  gap: 14px;
}

/* Card groups */
.pp-profileModal .profile-card{
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
  padding: 16px;
}

[data-theme="light"] .pp-profileModal .profile-card{
  background: rgba(15,23,42,0.02);
  border-color: rgba(15,23,42,0.10);
}

/* Section titles inside cards */
.pp-profileModal .profile-card h3{
  margin: 0 0 10px;
  font-size: 0.82rem;
  font-weight: 950;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: var(--text-primary);
  opacity: 0.92;
}

/* Avatar row: less “big grey slab” */
.pp-profileModal .avatar-row{
  display: grid;
  grid-template-columns: 108px 1fr;
  gap: 16px;
  align-items: center;
}

@media (max-width: 560px){
  .pp-profileModal .avatar-row{
    grid-template-columns: 1fr;
    justify-items: center;
    text-align: center;
  }
}

.pp-profileModal .avatar-shell{
  width: 108px;
  height: 108px;
  border-radius: 999px;
  border: 2px solid rgba(190,242,100,0.55);
  background: radial-gradient(120px 120px at 50% 40%, rgba(255,255,255,0.08), rgba(0,0,0,0.10));
  box-shadow: 0 18px 40px rgba(0,0,0,0.18);
}

[data-theme="light"] .pp-profileModal .avatar-shell{
  border-color: rgba(22,163,74,0.35);
  box-shadow: 0 16px 36px rgba(2,6,23,0.08);
}

.pp-profileModal .avatar-actions{
  display: grid;
  gap: 8px;
}

/* Upload “button” currently uses .pp-input – make it look like a real CTA */
.pp-profileModal button.pp-input{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(255,255,255,0.05);
  box-shadow: 0 12px 26px rgba(0,0,0,0.16);
  font-weight: 900;
  letter-spacing: 0.10em;
  text-transform: uppercase;
}

[data-theme="light"] .pp-profileModal button.pp-input{
  background: rgba(15,23,42,0.03);
  box-shadow: 0 10px 22px rgba(2,6,23,0.08);
}

.pp-profileModal button.pp-input:hover:enabled{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.35);
}

/* Inputs inside profile modal: consistent + enterprise */
.pp-profileModal input[type="text"],
.pp-profileModal input[type="tel"],
.pp-profileModal input[type="url"],
.pp-profileModal input[type="password"],
.pp-profileModal textarea,
.pp-profileModal select{
  min-height: 46px;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.14);
}

[data-theme="light"] .pp-profileModal input[type="text"],
[data-theme="light"] .pp-profileModal input[type="tel"],
[data-theme="light"] .pp-profileModal input[type="url"],
[data-theme="light"] .pp-profileModal input[type="password"],
[data-theme="light"] .pp-profileModal textarea,
[data-theme="light"] .pp-profileModal select{
  background: rgba(255,255,255,0.85);
}

/* Address widget mount (Google Places) */
.pp-profileModal .pp-autocomplete-mount,
.pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete{
  width: 100%;
}

.pp-profileModal .pp-autocomplete-mount{
  min-height: 46px;
}

.pp-profileModal .pp-label{
  font-size: 0.72rem;
  font-weight: 950;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--text-medium);
}

/* Footer actions: stick them to the bottom like a product modal */
.pp-profileModal .profile-footer{
  position: sticky;
  bottom: 0;
  z-index: 5;

  display: flex;
  gap: 10px;
  justify-content: flex-end;
  flex-wrap: wrap;

  padding: 14px 0 2px;
  margin-top: 6px;

  background: linear-gradient(180deg, rgba(0,0,0,0), rgba(2,6,23,0.35) 30%, rgba(2,6,23,0.55));
  border-top: 1px solid rgba(148,163,184,0.16);
}

[data-theme="light"] .pp-profileModal .profile-footer{
  background: linear-gradient(180deg, rgba(255,255,255,0), rgba(241,245,251,0.82) 30%, rgba(241,245,251,0.96));
  border-top-color: rgba(15,23,42,0.10);
}

/* =========================================================
   Profile Modal — Liveliness Pass (SCOPED)
   Adds depth + accent, no layout changes.
   ========================================================= */

.pp-profileModal{
  position: relative;
}

/* Soft accent “edge glow” */
.pp-profileModal::before{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 22px;
  pointer-events: none;
  background:
    radial-gradient(1200px 420px at 20% -10%, rgba(190,242,100,0.16), transparent 60%),
    radial-gradient(1200px 420px at 80% -10%, rgba(34,197,94,0.12), transparent 60%),
    radial-gradient(900px 520px at 50% 110%, rgba(56,189,248,0.06), transparent 55%);
  opacity: 0.85;
}

[data-theme="light"] .pp-profileModal::before{
  background:
    radial-gradient(1200px 420px at 20% -10%, rgba(34,197,94,0.14), transparent 60%),
    radial-gradient(1200px 420px at 80% -10%, rgba(190,242,100,0.10), transparent 60%),
    radial-gradient(900px 520px at 50% 110%, rgba(59,130,246,0.06), transparent 55%);
  opacity: 0.70;
}

/* Subtle texture layer to break up flat surfaces */
.pp-profileModal::after{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 22px;
  pointer-events: none;
  background:
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.035) 0px,
      rgba(255,255,255,0.035) 2px,
      rgba(0,0,0,0) 8px,
      rgba(0,0,0,0) 14px
    );
  mix-blend-mode: overlay;
  opacity: 0.28;
}

[data-theme="light"] .pp-profileModal::after{
  background:
    repeating-linear-gradient(
      135deg,
      rgba(15,23,42,0.035) 0px,
      rgba(15,23,42,0.035) 2px,
      rgba(0,0,0,0) 8px,
      rgba(0,0,0,0) 14px
    );
  mix-blend-mode: multiply;
  opacity: 0.18;
}

/* Header gets a “premium bar” */
.pp-profileModal .pp-modal-header{
  position: relative;
}

.pp-profileModal .pp-modal-header::before{
  content: "";
  position: absolute;
  left: 16px;
  right: 16px;
  top: 10px;
  height: 2px;
  border-radius: 999px;
  background: linear-gradient(90deg,
    rgba(190,242,100,0.0),
    rgba(190,242,100,0.85),
    rgba(34,197,94,0.55),
    rgba(190,242,100,0.0)
  );
  opacity: 0.55;
}

[data-theme="light"] .pp-profileModal .pp-modal-header::before{
  opacity: 0.40;
}

/* Cards: add a gentle accent border + hover lift */
.pp-profileModal .profile-card{
  position: relative;
  transition: transform 160ms ease, border-color 160ms ease, background 160ms ease;
}

.pp-profileModal .profile-card::before{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 18px;
  pointer-events: none;
  background:
    radial-gradient(700px 220px at 15% 0%, rgba(190,242,100,0.10), transparent 60%),
    radial-gradient(700px 220px at 85% 0%, rgba(56,189,248,0.05), transparent 55%);
  opacity: 0.75;
}

[data-theme="light"] .pp-profileModal .profile-card::before{
  opacity: 0.55;
}

.pp-profileModal .profile-card:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.30);
  background: rgba(255,255,255,0.045);
}

[data-theme="light"] .pp-profileModal .profile-card:hover{
  border-color: rgba(34,197,94,0.22);
  background: rgba(15,23,42,0.02);
}

/* Inputs: better focus glow */
.pp-profileModal input[type="text"]:focus,
.pp-profileModal input[type="tel"]:focus,
.pp-profileModal input[type="url"]:focus,
.pp-profileModal input[type="password"]:focus,
.pp-profileModal textarea:focus,
.pp-profileModal select:focus{
  outline: none;
  border-color: rgba(190,242,100,0.38);
  box-shadow:
    0 0 0 3px rgba(190,242,100,0.14),
    0 14px 34px rgba(0,0,0,0.18);
}

[data-theme="light"] .pp-profileModal input[type="text"]:focus,
[data-theme="light"] .pp-profileModal input[type="tel"]:focus,
[data-theme="light"] .pp-profileModal input[type="url"]:focus,
[data-theme="light"] .pp-profileModal input[type="password"]:focus,
[data-theme="light"] .pp-profileModal textarea:focus,
[data-theme="light"] .pp-profileModal select:focus{
  border-color: rgba(34,197,94,0.28);
  box-shadow:
    0 0 0 3px rgba(34,197,94,0.10),
    0 10px 22px rgba(2,6,23,0.10);
}

/* Upload button: more “enterprise CTA” */
.pp-profileModal button.pp-input{
  position: relative;
  overflow: hidden;
  transition: transform 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
}

.pp-profileModal button.pp-input::after{
  content: "";
  position: absolute;
  inset: -60% -30%;
  background: radial-gradient(circle at 30% 40%, rgba(190,242,100,0.18), transparent 60%);
  transform: rotate(12deg);
  opacity: 0;
  transition: opacity 180ms ease;
}

.pp-profileModal button.pp-input:hover:enabled{
  border-color: rgba(190,242,100,0.38);
  box-shadow: 0 18px 42px rgba(0,0,0,0.22);
}

.pp-profileModal button.pp-input:hover:enabled::after{
  opacity: 1;
}

/* =========================================================
   Profile Modal — Pop + Address Contrast (SCOPED)
   Fixes: "plain" look + address bar white-on-white
   Only affects: .pp-profileModal
   ========================================================= */

/* 1) Light mode cards: add subtle depth so it’s not flat white */
[data-theme="light"] .pp-profileModal .profile-card{
  background:
    radial-gradient(820px 260px at 18% 0%, rgba(34,197,94,0.06), transparent 62%),
    radial-gradient(820px 260px at 82% 0%, rgba(59,130,246,0.04), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,0.92), rgba(241,245,251,0.82));
  border-color: rgba(15,23,42,0.10);
  box-shadow:
    0 16px 40px rgba(2,6,23,0.10),
    inset 0 1px 0 rgba(255,255,255,0.70);
}

/* 2) Section titles: tiny accent notch so it feels “designed” */
.pp-profileModal .profile-card h3{
  position: relative;
  padding-left: 14px;
}
.pp-profileModal .profile-card h3::before{
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 6px;
  height: 14px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(190,242,100,0.95), rgba(34,197,94,0.60));
  opacity: 0.85;
}
[data-theme="light"] .pp-profileModal .profile-card h3::before{
  background: linear-gradient(180deg, rgba(34,197,94,0.80), rgba(59,130,246,0.35));
  opacity: 0.75;
}

/* 3) Address widget contrast — container */
.pp-profileModal .pp-autocomplete-mount{
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.26);
  background: rgba(0,0,0,0.14);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.10);
  padding: 0; /* let the control fill cleanly */
}

/* Light mode: NOT white-on-white */
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount{
  border-color: rgba(15,23,42,0.16);
  background: rgba(15,23,42,0.03);
  box-shadow:
    0 10px 22px rgba(2,6,23,0.06),
    inset 0 1px 0 rgba(255,255,255,0.75);
}

/* 4) If the Places component exposes CSS vars, set them */
.pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete{
  width: 100%;
  display: block;

  /* harmless if unsupported */
  --gmp-place-autocomplete-input-border-color: rgba(148,163,184,0.26);
  --gmp-place-autocomplete-input-background-color: rgba(0,0,0,0.14);
  --gmp-place-autocomplete-input-text-color: rgba(234,242,255,0.92);
  --gmp-place-autocomplete-input-placeholder-color: rgba(159,177,199,0.85);
}

[data-theme="light"] .pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete{
  --gmp-place-autocomplete-input-border-color: rgba(15,23,42,0.16);
  --gmp-place-autocomplete-input-background-color: rgba(255,255,255,0.78);
  --gmp-place-autocomplete-input-text-color: rgba(15,23,42,0.92);
  --gmp-place-autocomplete-input-placeholder-color: rgba(15,23,42,0.55);
}

/* 5) If the component exposes parts, force a readable input */
.pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete::part(input),
.pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete::part(text-field),
.pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete::part(container){
  border-radius: 14px !important;
}

/* Dark mode part styling */
[data-theme="dark"] .pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete::part(input),
[data-theme="dark"] .pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete::part(text-field),
[data-theme="dark"] .pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete::part(container){
  background: rgba(0,0,0,0.14) !important;
  color: rgba(234,242,255,0.92) !important;
  border-color: rgba(148,163,184,0.26) !important;
}

/* Light mode part styling (fixes white-on-white) */
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete::part(input),
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete::part(text-field),
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete::part(container){
  background: rgba(255,255,255,0.78) !important;
  color: rgba(15,23,42,0.92) !important;
  border-color: rgba(15,23,42,0.16) !important;
}

/* 6) If the control renders an actual input (fallback), style it too */
.pp-profileModal .pp-autocomplete-mount input{
  background: transparent !important; /* let mount bg show */
  border: 0 !important;
  color: inherit !important;
}
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount input::placeholder{
  color: rgba(15,23,42,0.55) !important;
}
[data-theme="dark"] .pp-profileModal .pp-autocomplete-mount input::placeholder{
  color: rgba(159,177,199,0.85) !important;
}

/* 7) Focus state so it feels responsive */
.pp-profileModal .pp-autocomplete-mount:focus-within{
  border-color: rgba(190,242,100,0.40);
  box-shadow: 0 0 0 3px rgba(190,242,100,0.14);
}
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount:focus-within{
  border-color: rgba(34,197,94,0.26);
  box-shadow: 0 0 0 3px rgba(34,197,94,0.10);
}

/* =========================================================
   Profile Modal — Address bar (LIGHT) contrast fix (SCOPED)
   Fixes: white-on-white input inside the profile modal only
   ========================================================= */

[data-theme="light"] .pp-profileModal .pp-autocomplete-mount{
  background: rgba(15,23,42,0.04) !important;
  border-color: rgba(15,23,42,0.14) !important;
  box-shadow:
    0 10px 22px rgba(2,6,23,0.06),
    inset 0 1px 0 rgba(255,255,255,0.70) !important;
}

/* If the widget renders a real input, don't force pure white */
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount input,
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount .pp-input{
  background: transparent !important;
  color: rgba(15,23,42,0.92) !important;
}

/* If it’s the Google web component, push it off pure white */
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete{
  /* harmless if unsupported */
  --gmp-place-autocomplete-input-background-color: rgba(248,250,252,0.88);
  --gmp-place-autocomplete-input-text-color: rgba(15,23,42,0.92);
  --gmp-place-autocomplete-input-placeholder-color: rgba(15,23,42,0.55);
  --gmp-place-autocomplete-input-border-color: rgba(15,23,42,0.14);
}

/* If styling is exposed via ::part, enforce it */
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete::part(input),
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete::part(text-field),
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount gmp-place-autocomplete::part(container){
  background: rgba(248,250,252,0.88) !important;
  color: rgba(15,23,42,0.92) !important;
  border-color: rgba(15,23,42,0.14) !important;
}

/* Make placeholder + icon readable */
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount input::placeholder{
  color: rgba(15,23,42,0.55) !important;
}
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount svg,
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount [class*="icon"]{
  color: rgba(15,23,42,0.78) !important;
  fill: currentColor !important;
}

/* =========================================================
   Profile Modal — LIGHT mode address input fix (part="input")
   Target: <input part="input"> inside .pp-autocomplete-mount
   ========================================================= */

[data-theme="light"] .pp-profileModal .pp-autocomplete-mount input[part="input"]{
  background: rgba(248,250,252,0.92) !important; /* not pure white */
  border: 1px solid rgba(15,23,42,0.14) !important;
  color: rgba(15,23,42,0.92) !important;
  border-radius: 14px !important;

  /* add depth so it reads on a light card */
  box-shadow:
    0 10px 22px rgba(2,6,23,0.06),
    inset 0 1px 0 rgba(255,255,255,0.75) !important;
}

[data-theme="light"] .pp-profileModal .pp-autocomplete-mount input[part="input"]::placeholder{
  color: rgba(15,23,42,0.55) !important;
}

/* nice focus cue */
[data-theme="light"] .pp-profileModal .pp-autocomplete-mount input[part="input"]:focus{
  outline: none !important;
  border-color: rgba(34,197,94,0.26) !important;
  box-shadow:
    0 0 0 3px rgba(34,197,94,0.10),
    0 10px 22px rgba(2,6,23,0.10) !important;
}

/* =========================================================
   Profile Modal — Places input TEXT color fix (LIGHT)
   We set text + placeholder + icon via ::part and vars.
   (No container/background changes)
   ========================================================= */

[data-theme="light"] .pp-profileModal gmp-place-autocomplete{
  /* Works on builds that read these vars */
  --gmp-place-autocomplete-input-text-color: rgba(15,23,42,0.92);
  --gmp-place-autocomplete-input-placeholder-color: rgba(15,23,42,0.55);
}

/* Force the actual visible text field inside the web component */
[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(input),
[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(text-field){
  color: rgba(15,23,42,0.92) !important;
}

/* Placeholder + icon (some builds expose these parts) */
[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(input)::placeholder{
  color: rgba(15,23,42,0.55) !important;
}

[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(leading-icon),
[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(trailing-icon){
  color: rgba(15,23,42,0.78) !important;
  fill: currentColor !important;
}

/* =========================================================
   Profile Modal — Places prediction dropdown (LIGHT)
   Make suggestion list white/soft-grey with dark text.
   Targets exposed parts: prediction-list, prediction-item, etc.
   ========================================================= */

[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(prediction-list){
  background: rgba(255,255,255,0.98) !important;
  border: 1px solid rgba(15,23,42,0.14) !important;
  border-radius: 14px !important;
  box-shadow: 0 22px 46px rgba(2,6,23,0.16) !important;
  overflow: hidden !important;
}

/* Each row */
[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(prediction-item){
  background: transparent !important;
  color: rgba(15,23,42,0.92) !important;
}

/* Hover/active */
[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(prediction-item):hover{
  background: rgba(15,23,42,0.04) !important;
}
[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(prediction-item)[aria-selected="true"]{
  background: rgba(34,197,94,0.10) !important;
}

/* Main text + details */
[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(prediction-item-main-text){
  color: rgba(15,23,42,0.92) !important;
}
[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(prediction-item-secondary-text){
  color: rgba(15,23,42,0.60) !important;
}

/* Matched segments */
[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(prediction-item-match){
  color: rgba(15,23,42,0.92) !important;
  font-weight: 800 !important;
}

/* Icons */
[data-theme="light"] .pp-profileModal gmp-place-autocomplete::part(prediction-item-icon){
  color: rgba(15,23,42,0.70) !important;
  fill: currentColor !important;
}

/* Attribution area (keeps it neat) */
[data-theme="light"] .pp-profileModal gmp-place-autocomplete .attributions{
  background: rgba(255,255,255,0.98) !important;
  border-top: 1px solid rgba(15,23,42,0.08) !important;
}

.pp-admin-standalone{
  position: fixed;
  inset: 0;
  z-index: 9999;
  overflow: auto;
  /* keep your existing background visuals visible */
  background: transparent;
}

/* =========================================================
   FIX: random tone shift while scrolling
   Cause: .main-content-area uses a top radial gradient that fades out.
   Solution: override with a uniform slab background (still on-theme).
   ========================================================= */

[data-theme="dark"] .main-content-area{
  background: var(--background-light) !important; /* dark surface slab */
  border-color: rgba(255,255,255,0.14) !important;
  box-shadow: 0 22px 60px rgba(0,0,0,0.78) !important;
}

[data-theme="light"] .main-content-area{
  background: var(--background-dark) !important; /* soft tint, still “light” */
  border-color: rgba(15,23,42,0.10) !important;
  box-shadow: 0 18px 46px rgba(2,6,23,0.10) !important;
}

/* =========================================================
   MENU RUNWAY (makes first/last categories reachable for sticky tracking)
   ========================================================= */

/* Real padding is more reliable than ::after when you have multiple menus */
.menu-content{
  padding-top: 0.35rem;
  padding-bottom: calc(55vh + 220px);
}

/* Desktop: prevent nested scrolling so footer stays at the bottom of the real scroll */
@media (min-width: 1024px){
  .menu-content{
    overflow: visible;
  }
}

/* Desktop: let the last category panel extend to the bottom of the visible page */
@media (min-width: 1024px){
  /* On desktop we don't need the huge mobile runway padding */
  .menu-content{
    display: flex;
    flex-direction: column;
    min-height: 100%;
    padding-bottom: 1.75rem;
  }

  .menu-category{
    display: flex;
    flex-direction: column;
  }

  /* If there’s only one category, or we’re at the last one,
     make it fill the remaining height so the border doesn’t “cut off” mid-screen */
  .menu-category:last-child{
    flex: 1 1 auto;
    margin-bottom: 0; /* kills the big gap under the last category */
  }
}


/* =========================================================
   LOGIN CARD — Premium Glass v1 (FINAL)
   ========================================================= */

@media (min-width: 901px){
  /* Stronger blur behind login only */
  .modal-overlay.pp-login-overlay{
    background: rgba(0,0,0,0.52) !important;
    backdrop-filter: blur(14px) saturate(135%) !important;
    -webkit-backdrop-filter: blur(14px) saturate(135%) !important;
  }
  [data-theme="light"] .modal-overlay.pp-login-overlay{
    background: rgba(15,23,42,0.20) !important;
    backdrop-filter: blur(16px) saturate(125%) !important;
    -webkit-backdrop-filter: blur(16px) saturate(125%) !important;
  }

  /* Card shell */
  .modal-content.pp-login-card{
    position: relative;
    border-radius: 26px !important;
    padding: 1.35rem 1.35rem 1.2rem !important;
    border: 1px solid rgba(148,163,184,0.22) !important;
    box-shadow: 0 34px 110px rgba(0,0,0,0.60) !important;
    overflow: hidden;
    isolation: isolate;
  }

  [data-theme="dark"] .modal-content.pp-login-card{
    background:
      radial-gradient(900px 360px at 18% 0%, rgba(190,242,100,0.10), transparent 62%),
      radial-gradient(900px 360px at 82% 0%, rgba(190,242,100,0.08), transparent 62%),
      linear-gradient(180deg, rgba(15,23,42,0.92), rgba(2,6,23,0.88)) !important;
  }

  [data-theme="light"] .modal-content.pp-login-card{
    background:
      radial-gradient(900px 360px at 18% 0%, rgba(22,163,74,0.08), transparent 62%),
      radial-gradient(900px 360px at 82% 0%, rgba(190,242,100,0.06), transparent 62%),
      linear-gradient(180deg, rgba(255,255,255,0.96), rgba(241,245,251,0.92)) !important;
    box-shadow: 0 34px 110px rgba(2,6,23,0.22) !important;
    border-color: rgba(15,23,42,0.12) !important;
  }

  /* Specular + micro-grain (kills "plastic") */
  .modal-content.pp-login-card::before{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    background:
      linear-gradient(120deg, rgba(255,255,255,0.60), transparent 45%),
      linear-gradient(180deg, rgba(255,255,255,0.10), transparent 55%),
      repeating-linear-gradient(
        135deg,
        rgba(255,255,255,0.04) 0px,
        rgba(255,255,255,0.04) 1px,
        rgba(0,0,0,0.04) 1px,
        rgba(0,0,0,0.04) 3px
      );
    opacity: 0.12;
    mix-blend-mode: overlay;
  }

  /* Inner rim (makes it feel like "real glass") */
  .modal-content.pp-login-card::after{
    content:"";
    position:absolute;
    inset: 10px;
    border-radius: 20px;
    pointer-events:none;
    border: 1px solid rgba(255,255,255,0.10);
    opacity: 0.9;
  }
  [data-theme="light"] .modal-content.pp-login-card::after{
    border-color: rgba(15,23,42,0.08);
    opacity: 0.75;
  }
}

/* --------- Layout --------- */
.pp-login-head{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 1rem;
  margin-bottom: 1.05rem;
}

.pp-login-brand{
  display:flex;
  align-items:center;
  gap: 0.9rem;
  min-width: 0;
}

.pp-login-brand__logo{
  width: 46px;
  height: 46px;
  border-radius: 16px;
  object-fit: cover;
  flex: 0 0 46px;
  box-shadow: 0 16px 34px rgba(0,0,0,0.22);
  border: 1px solid rgba(148,163,184,0.18);
}

.pp-login-title{
  font-weight: 950;
  font-size: 1.05rem;
  letter-spacing: 0.02em;
  color: var(--text-primary);
}

.pp-login-sub{
  margin-top: 0.12rem;
  font-weight: 650;
  font-size: 0.92rem;
  color: var(--text-medium);
}

.pp-login-close{
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(255,255,255,0.06);
  box-shadow: 0 14px 34px rgba(0,0,0,0.18);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size: 1.5rem;
  line-height: 1;
  transition: transform 160ms cubic-bezier(.22,1,.36,1), border-color 160ms ease, filter 160ms ease;
}
.pp-login-close:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.45);
  filter: brightness(1.04);
}
.pp-login-close:active{ transform: translateY(0) scale(0.99); }

/* --------- Provider buttons: tactile, non-plastic --------- */
.pp-login-body{
  display:grid;
  gap: 0.85rem;
}

.pp-login-provider{
  position: relative;
  overflow: hidden;

  width: 100%;
  min-height: 58px;
  border-radius: 18px;

  display:flex;
  align-items:center;
  gap: 0.9rem;
  padding: 0.95rem 1rem;

  border: 1px solid rgba(148,163,184,0.22);
  background:
    linear-gradient(180deg, rgba(255,255,255,0.08), rgba(0,0,0,0.12));
  box-shadow:
    0 18px 44px rgba(0,0,0,0.22),
    inset 0 1px 0 rgba(255,255,255,0.16),
    inset 0 -1px 0 rgba(0,0,0,0.18);

  transition:
    transform 180ms cubic-bezier(.22,1,.36,1),
    box-shadow 180ms cubic-bezier(.22,1,.36,1),
    border-color 180ms ease,
    filter 180ms ease;
  transform: translate3d(0,0,0);
  backface-visibility: hidden;
}

[data-theme="light"] .pp-login-provider{
  background:
    linear-gradient(180deg, rgba(255,255,255,0.86), rgba(241,245,251,0.62));
  box-shadow:
    0 18px 44px rgba(2,6,23,0.14),
    inset 0 1px 0 rgba(255,255,255,0.60),
    inset 0 -1px 0 rgba(15,23,42,0.06);
  border-color: rgba(15,23,42,0.12);
}

/* Icon bubble */
.pp-login-provider__icon{
  width: 40px;
  height: 40px;
  border-radius: 14px;
  display:grid;
  place-items:center;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(148,163,184,0.18);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.14);
  flex: 0 0 40px;
}
[data-theme="light"] .pp-login-provider__icon{
  background: rgba(15,23,42,0.03);
  border-color: rgba(15,23,42,0.12);
}

/* Label + chevron */
.pp-login-provider__label{
  font-weight: 900;
  letter-spacing: 0.02em;
  color: var(--text-primary);
  flex: 1 1 auto;
  text-align: left;
}
.pp-login-provider__chev{
  opacity: 0.70;
  font-size: 1.35rem;
  line-height: 1;
  transform: translate3d(0,0,0);
}

/* Smooth sheen (background-position, not transform -> no jitter) */
@keyframes ppLoginSheen{
  0%   { background-position: -140% 0; opacity: 0; }
  15%  { opacity: 0.18; }
  60%  { opacity: 0.12; }
  100% { background-position: 140% 0; opacity: 0; }
}
.pp-login-provider::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  border-radius: inherit;
  background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.70) 50%, transparent 100%);
  background-size: 220% 100%;
  background-position: -140% 0;
  opacity: 0;
}

.pp-login-provider:hover{
  transform: translate3d(0,-1px,0);
  border-color: rgba(190,242,100,0.35);
  box-shadow:
    0 24px 60px rgba(0,0,0,0.26),
    inset 0 1px 0 rgba(255,255,255,0.18),
    inset 0 -1px 0 rgba(0,0,0,0.22);
  filter: brightness(1.03) saturate(1.06);
}
.pp-login-provider:hover::before{
  animation: ppLoginSheen 950ms cubic-bezier(.22,1,.36,1) 1;
}
.pp-login-provider:active{
  transform: translate3d(0,0,0) scale(0.99);
}

/* Subtle provider accents */
.pp-login-provider--google{ border-color: rgba(129,140,248,0.22); }
.pp-login-provider--google:hover{ border-color: rgba(129,140,248,0.38); }

.pp-login-provider--phone{ border-color: rgba(190,242,100,0.22); }
.pp-login-provider--phone:hover{ border-color: rgba(190,242,100,0.38); }

/* Terms */
.pp-login-terms{
  margin-top: 0.35rem;
  font-size: 0.86rem;
  color: var(--text-medium);
  text-align: center;
}
.pp-login-link{
  color: var(--text-primary);
  text-decoration: none;
  border-bottom: 1px solid rgba(148,163,184,0.24);
}
.pp-login-link:hover{
  border-bottom-color: rgba(190,242,100,0.55);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .pp-login-provider,
  .pp-login-provider::before,
  .pp-login-close{
    transition: none !important;
    animation: none !important;
  }
}

/* =========================================================
   GLOBAL PAGE BACKGROUND (never stops after scrolling)
   - Put the texture on html (global), not on panels/containers
   ========================================================= */

/* Ensure the document can carry a full background */
html, body{
  min-height: 100%;
}

/* Put the real background on html so it persists forever */
html[data-theme="dark"]{
  background-color: var(--background);
  background-image:
    radial-gradient(900px 420px at 15% 6%, rgba(190,242,100,0.09), transparent 62%),
    radial-gradient(720px 420px at 88% 0%, rgba(190,242,100,0.07), transparent 58%),
    radial-gradient(760px 520px at 50% 110%, rgba(190,242,100,0.06), transparent 60%),
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.06) 0px,
      rgba(255,255,255,0.06) 1px,
      rgba(0,0,0,0.05) 1px,
      rgba(0,0,0,0.05) 3px
    );
  background-attachment: fixed;
}

html[data-theme="light"]{
  background-color: var(--background);
  background-image:
    radial-gradient(900px 420px at 15% 6%, rgba(22,163,74,0.07), transparent 62%),
    radial-gradient(720px 420px at 88% 0%, rgba(190,242,100,0.06), transparent 58%),
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.26) 0px,
      rgba(255,255,255,0.26) 1px,
      rgba(15,23,42,0.05) 1px,
      rgba(15,23,42,0.05) 3px
    );
  background-attachment: fixed;
}

/* Body becomes transparent so it doesn't "cut off" the html background */
body{
  background: transparent !important;
}

/* Mobile perf: fixed backgrounds can be janky, so disable there */
@media (max-width: 900px){
  html[data-theme="dark"],
  html[data-theme="light"]{
    background-attachment: scroll;
  }
}

/* =========================================================
   DELIVERY ADDRESS autocomplete — light mode fix
   (keeps it from staying dark)
   ========================================================= */

[data-theme="light"] .pp-autocomplete-mount{
  color-scheme: light; /* helps native/embedded controls choose light styling */
}

/* If the widget renders a real input inside the mount */
[data-theme="light"] .pp-autocomplete-mount input,
[data-theme="light"] .pp-autocomplete-mount .pp-input{
  background: #ffffff !important;
  color: #0b1220 !important;
  border-color: rgba(15,23,42,0.12) !important;
}

/* If the widget is the Google <gmp-place-autocomplete> web component */
[data-theme="light"] .pp-autocomplete-mount gmp-place-autocomplete{
  /* these variables are harmless if unsupported */
  --gmp-place-autocomplete-input-background-color: #ffffff;
  --gmp-place-autocomplete-input-text-color: #0b1220;
  --gmp-place-autocomplete-input-placeholder-color: rgba(15,23,42,0.55);
  --gmp-place-autocomplete-input-border-color: rgba(15,23,42,0.12);
}

/* Some builds expose styling via ::part */
[data-theme="light"] .pp-autocomplete-mount gmp-place-autocomplete::part(input),
[data-theme="light"] .pp-autocomplete-mount gmp-place-autocomplete::part(text-field),
[data-theme="light"] .pp-autocomplete-mount gmp-place-autocomplete::part(container){
  background: #ffffff !important;
  color: #0b1220 !important;
  border-color: rgba(15,23,42,0.12) !important;
}

/* Make the search icon readable in light mode if it’s inside the control */
[data-theme="light"] .pp-autocomplete-mount svg,
[data-theme="light"] .pp-autocomplete-mount [class*="icon"]{
  color: rgba(15,23,42,0.78) !important;
  fill: currentColor !important;
}

/* =========================================================
   Menu scroll runway (fixes last categories never becoming "active")
   ========================================================= */

.menu-content::after{
  content: "";
  display: block;
  height: 260px; /* enough to push last categories under sticky header+nav */
}

/* Delivery Address: ensure the Places element behaves like our inputs */
.pp-delivery-autocomplete gmp-place-autocomplete{
  width: 100%;
  display: block;
}

/* Delivery address row + delivery fee pill */
.pp-deliveryAddressRow{
  display: flex;
  align-items: stretch;
  gap: 10px;
  width: 100%;
}

.pp-deliveryAddressField{
  flex: 1 1 auto;
  min-width: 0;
  position: relative;
}

/* keep places widget full height/width inside the field */
.pp-deliveryAddressField .pp-delivery-autocomplete{
  width: 100%;
}

.pp-addrPredList{
  position: absolute;
  left: 0;
  right: 0;
  top: calc(100% + 6px);
  z-index: 50;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.16);
  background: rgba(2, 6, 23, 0.92);
  box-shadow: 0 18px 40px rgba(0,0,0,0.45);
  overflow: hidden;
}

.pp-addrPredItem{
  width: 100%;
  text-align: left;
  padding: 10px 12px;
  background: transparent;
  border: 0;
  color: rgba(241,245,249,0.92);
  cursor: pointer;
}

.pp-addrPredItem + .pp-addrPredItem{
  border-top: 1px solid rgba(148,163,184,0.10);
}

.pp-addrPredMain{
  font-weight: 900;
  font-size: 12.5px;
  line-height: 1.15;
}

.pp-addrPredSub{
  margin-top: 2px;
  font-weight: 700;
  font-size: 11.5px;
  color: rgba(226,232,240,0.60);
  line-height: 1.15;
}

.pp-addrPredItem:active{
  transform: translateY(1px);
}

/* Green fee box on the right (15–20% max) */
.pp-deliveryFeePill{
  flex: 0 0 clamp(76px, 18%, 140px);
  max-width: 20%;

  display: flex;
  align-items: center;
  justify-content: center;

  border-radius: 14px;
  border: 1px solid rgba(190,242,100,0.55);
  background: linear-gradient(180deg, rgba(190,242,100,0.95), rgba(190,242,100,0.72));
  color: #0b1220;

  font-weight: 950;
  letter-spacing: 0.02em;
  white-space: nowrap;
  user-select: none;

  /* animation */
  transition:
    opacity 220ms ease,
    transform 220ms ease,
    max-width 260ms ease,
    flex-basis 260ms ease,
    filter 220ms ease;
  transform: translateX(10px) scale(0.98);
  opacity: 0;
  max-width: 0;
  flex-basis: 0;
  padding-left: 0;
  padding-right: 0;
  overflow: hidden;
  filter: blur(2px);
}

[data-theme="light"] .pp-deliveryFeePill{
  border-color: rgba(22,163,74,0.22);
  background: linear-gradient(180deg, #bbf7d0, #86efac);
  color: #0b1220;
}

.pp-deliveryFeePill.is-visible{
  opacity: 1;
  transform: translateX(0) scale(1);
  max-width: 20%;
  flex-basis: clamp(76px, 18%, 140px);
  padding-left: 0.85rem;
  padding-right: 0.85rem;
  filter: blur(0);
}

.pp-deliveryFeePill.is-hidden{
  pointer-events: none;
}

@media (prefers-reduced-motion: reduce){
  .pp-deliveryFeePill{
    transition: none !important;
    transform: none !important;
    filter: none !important;
  }
}

/* =========================================================
   LOGIN (DESKTOP): solid modal + blurred background
   ========================================================= */

/* Desktop only: mobile already uses the full-screen sheet styles */
@media (min-width: 901px){

  /* Strong blur behind the login (only when login overlay class is present) */
  .modal-overlay.pp-login-overlay{
    background: rgba(0,0,0,0.55) !important; /* a bit lighter so blur reads */
    backdrop-filter: blur(10px) saturate(125%) !important;
    -webkit-backdrop-filter: blur(10px) saturate(125%) !important;
  }

  [data-theme="light"] .modal-overlay.pp-login-overlay{
    background: rgba(15,23,42,0.22) !important;
    backdrop-filter: blur(12px) saturate(120%) !important;
    -webkit-backdrop-filter: blur(12px) saturate(120%) !important;
  }

  /* Solid "premium" login card (kills see-through / hard-to-read glass) */
  .modal-content.pp-login-solid{
    background: var(--pp-surface) !important;
    border: 1px solid rgba(148,163,184,0.22) !important;
    box-shadow: 0 28px 80px rgba(0,0,0,0.55) !important;
    border-radius: 22px !important;
  }

  [data-theme="light"] .modal-content.pp-login-solid{
    background: #ffffff !important;
    border-color: rgba(15,23,42,0.12) !important;
    box-shadow: 0 28px 80px rgba(2,6,23,0.18) !important;
  }

  /* If any of your glass packs added pseudo-texture, kill it for login */
  .modal-content.pp-login-solid::before,
  .modal-content.pp-login-solid::after{
    content: none !important;
    display: none !important;
  }

  /* Tidy spacing so it reads like a proper auth sheet */
  .modal-content.pp-login-solid .modal-header{
    padding-bottom: 0.85rem !important;
    margin-bottom: 0.85rem !important;
  }

  /* Make buttons inside login feel crisp + readable */
  .modal-content.pp-login-solid button{
    border-radius: 16px !important;
  }
}

/* =========================================================
   LOGIN MODAL — DESKTOP FALLBACK (prevents giant logo)
   Applies even when backdrop-filter is unsupported/disabled
   ========================================================= */

.modal-content.pp-login-modal{
  /* keep the modal usable even if the logo/image misbehaves */
  max-height: min(86vh, 720px);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.pp-login-modal .modal-header{
  flex: 0 0 auto;
}

.pp-login-modal .modal-body{
  flex: 1 1 auto;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* Critical: clamp the logo always (not only inside @supports blocks) */
.pp-login-brand__logo{
  width: 44px;
  height: 44px;
  max-width: 44px;
  max-height: 44px;
  flex: 0 0 44px;
  border-radius: 14px;
  object-fit: cover;
  display: block;
}

/* If the logo file is huge, never let it expand the row */
.pp-login-brand{
  min-width: 0;
  align-items: center;
}

/* =========================================================
   Login Modal (mobile) - modern friendly sheet
   ========================================================= */
@media (max-width: 640px){
  .modal-overlay.pp-login-overlay{
    align-items: stretch;
    justify-content: stretch;
    padding: 0;
    background: rgba(2,6,23,0.72);
    backdrop-filter: blur(3px);
    -webkit-backdrop-filter: blur(3px);
  }

  .modal-content.pp-login-modal{
    width: 100vw !important;
    max-width: none !important;
    height: 100vh !important;
    height: 100dvh !important;
    max-height: none !important;

    border-radius: 0 !important;
    padding: 0.95rem 0.95rem calc(0.95rem + env(safe-area-inset-bottom)) !important;

    background:
      radial-gradient(900px 380px at 50% 0%, rgba(190,242,100,0.12), transparent 60%),
      radial-gradient(700px 320px at 85% 15%, rgba(190,242,100,0.10), transparent 55%),
      linear-gradient(180deg, var(--pp-surface, var(--panel)) 0%, rgba(0,0,0,0) 85%);
    border: 1px solid rgba(148,163,184,0.18) !important;
    box-shadow: var(--shadow-modal);
  }

  .pp-login-modal .modal-header{
    position: sticky;
    top: 0;
    z-index: 2;

    padding: calc(0.35rem + env(safe-area-inset-top)) 0 0.75rem;
    margin: 0 0 0.65rem;
    border-bottom: 1px solid rgba(148,163,184,0.16);

    background:
      linear-gradient(180deg, var(--pp-surface, var(--panel)) 0%, rgba(0,0,0,0) 90%);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .pp-login-title{
    margin: 0 !important;
    font-size: 1.15rem !important;
    font-weight: 950 !important;
    letter-spacing: 0.14em !important;
    text-transform: uppercase !important;
    color: var(--brand-neon-green);
  }

  .pp-login-modal .modal-body{
    flex: 1 1 auto;
    min-height: 0;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    padding: 0.2rem 0.15rem 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  /* Segmented control tabs */
  .pp-login-tabs{
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 6px;
    padding: 6px;
    border-radius: 16px;
    border: 1px solid rgba(148,163,184,0.18);
    background: rgba(0,0,0,0.16);
    box-shadow: 0 12px 28px rgba(0,0,0,0.18);
  }

  [data-theme="light"] .pp-login-tabs{
    background: rgba(15,23,42,0.03);
    box-shadow: 0 12px 26px rgba(2,6,23,0.10);
  }

  .pp-login-tab{
    height: 40px;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.18);
    background: rgba(255,255,255,0.04);
    color: var(--text-primary);

    font-weight: 900;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    font-size: 0.72rem;

    transition: transform 160ms ease, border-color 160ms ease, background-color 160ms ease, box-shadow 160ms ease;
  }

  .pp-login-tab.is-active{
    background: linear-gradient(180deg, var(--brand-neon-green), rgba(190,242,100,0.78));
    color: #0b1220;
    border-color: rgba(190,242,100,0.55);
    box-shadow: 0 0 0 3px rgba(190,242,100,0.14), 0 14px 32px rgba(0,0,0,0.18);
    transform: translateY(-1px);
  }

  /* Provider buttons */
  .pp-login-providerBtn{
    width: 100%;
    min-height: 54px;

    border-radius: 18px;
    border: 1px solid rgba(148,163,184,0.22) !important;
    background: rgba(0,0,0,0.14) !important;
    color: var(--text-primary) !important;

    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.65rem;

    font-weight: 900;
    letter-spacing: 0.06em;
    box-shadow: 0 16px 36px rgba(0,0,0,0.22);

    transition: transform 160ms ease, box-shadow 160ms ease, filter 160ms ease, border-color 160ms ease;
  }

  [data-theme="light"] .pp-login-providerBtn{
    background: rgba(255,255,255,0.92) !important;
    box-shadow: 0 16px 34px rgba(2,6,23,0.12);
  }

  .pp-login-providerBtn:active{
    transform: translateY(1px) scale(0.99);
  }

  .pp-login-legal{
    margin-top: auto;
    padding-top: 0.65rem;
    text-align: center;
    font-size: 0.82rem;
    color: var(--text-medium);
    opacity: 0.92;
  }
}

/* =========================================================
   LOGIN MODAL (MOBILE) - modern friendly card (FINAL override)
   ========================================================= */
@media (max-width: 640px){
  /* Stop the full-screen sheet behaviour for login only */
  .modal-overlay.pp-login-overlay{
    align-items: center !important;
    justify-content: center !important;
    padding: 0.9rem !important;
    background: rgba(2,6,23,0.78) !important;
    backdrop-filter: blur(6px) !important;
    -webkit-backdrop-filter: blur(6px) !important;
  }

  .modal-content.pp-login-modal{
    width: min(520px, 100%) !important;
    max-width: 520px !important;

    height: auto !important;
    max-height: min(78vh, 620px) !important;

    border-radius: 22px !important;
    padding: 0.95rem !important;

    border: 1px solid rgba(148,163,184,0.22) !important;
    box-shadow: 0 28px 70px rgba(0,0,0,0.55) !important;

    background:
      radial-gradient(900px 360px at 50% 0%, rgba(190,242,100,0.14), transparent 60%),
      radial-gradient(700px 320px at 82% 10%, rgba(190,242,100,0.10), transparent 55%),
      linear-gradient(180deg, rgba(15,23,42,0.96), rgba(2,6,23,0.92)) !important;
  }

  [data-theme="light"] .modal-content.pp-login-modal{
    background:
      radial-gradient(900px 360px at 50% 0%, rgba(22,163,74,0.10), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,0.98), rgba(241,245,251,0.98)) !important;
    box-shadow: 0 20px 55px rgba(2,6,23,0.16) !important;
    border-color: rgba(15,23,42,0.12) !important;
  }

  .pp-login-modal .modal-header{
    border-bottom: 1px solid rgba(148,163,184,0.16) !important;
    padding-bottom: 0.8rem !important;
    margin-bottom: 0.85rem !important;
  }

  /* Brand row */
  .pp-login-brand{
    display: flex;
    align-items: center;
    gap: 0.8rem;
    min-width: 0;
  }
  .pp-login-brand__logo{
    width: 44px;
    height: 44px;
    border-radius: 14px;
    object-fit: cover;
    border: 1px solid rgba(148,163,184,0.22);
    box-shadow: 0 12px 26px rgba(0,0,0,0.20);
  }
  .pp-login-brand__text{ min-width: 0; }

  .pp-login-title{
    margin: 0 !important;
    font-size: 1.05rem !important;
    font-weight: 950 !important;
    letter-spacing: 0.06em !important;
    text-transform: uppercase !important;
    color: var(--brand-neon-green) !important;
  }
  [data-theme="light"] .pp-login-title{
    color: rgba(15,23,42,0.92) !important;
  }
  .pp-login-subtitle{
    margin-top: 0.25rem;
    font-size: 0.88rem;
    font-weight: 650;
    color: var(--text-medium);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Body scroll (so no giant empty space) */
  .pp-login-modal .modal-body{
    max-height: calc(min(78vh, 620px) - 140px);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    padding: 0.15rem 0.1rem 0.25rem !important;
    display: grid;
    gap: 0.75rem;
  }

  /* Tabs - less chunky, more "segmented control" */
  .pp-login-tabs{
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 6px;
    padding: 6px;
    border-radius: 16px;
    border: 1px solid rgba(148,163,184,0.18);
    background: rgba(0,0,0,0.16);
  }
  [data-theme="light"] .pp-login-tabs{
    background: rgba(15,23,42,0.03);
    border-color: rgba(15,23,42,0.10);
  }

  .pp-login-tab{
    height: 36px;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.16);
    background: rgba(255,255,255,0.04);
    color: var(--text-primary);
    font-weight: 900;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    font-size: 0.70rem;
  }
  .pp-login-tab.is-active{
    background: linear-gradient(180deg, rgba(190,242,100,0.95), rgba(190,242,100,0.72));
    color: #0b1220;
    border-color: rgba(190,242,100,0.55);
    box-shadow: 0 0 0 3px rgba(190,242,100,0.14);
  }

  /* Provider buttons - modern cards with subtle "go" affordance */
  .pp-login-providerBtn{
    width: 100% !important;
    min-height: 54px;
    border-radius: 18px !important;
    border: 1px solid rgba(148,163,184,0.22) !important;
    background: rgba(0,0,0,0.14) !important;
    color: var(--text-primary) !important;

    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.75rem;

    font-weight: 900;
    letter-spacing: 0.04em;
    box-shadow: 0 16px 34px rgba(0,0,0,0.22);
  }
  [data-theme="light"] .pp-login-providerBtn{
    background: rgba(255,255,255,0.92) !important;
    box-shadow: 0 14px 28px rgba(2,6,23,0.10);
  }
  .pp-login-providerBtn:active{
    transform: translateY(1px) scale(0.99);
  }

  .pp-login-legal{
    margin-top: 0.35rem;
    text-align: center;
    font-size: 0.80rem;
    color: var(--text-medium);
  }
}

.pp-login-back{
  width: fit-content;
  margin: 0 0 0.75rem 0;
  padding: 0.4rem 0.7rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.14);
  color: var(--text-primary);
  font-weight: 800;
  letter-spacing: 0.04em;
}
[data-theme="light"] .pp-login-back{
  background: rgba(255,255,255,0.92);
}

/* ======================================================================
   PP TEXTURE + GLASS PACK (v1)
   Paste at the VERY BOTTOM of App.css so it overrides earlier blocks.
   Goal: kill "plastic" feel with subtle grain + glassy buttons.
   ====================================================================== */

/* 1) Micro-texture tokens */
:root{
  --pp-grain-a: 0.16;          /* overall grain strength */
  --pp-grain-b: 0.10;          /* secondary grain strength */
  --pp-glass-blur: 14px;
  --pp-glass-sat: 145%;

  --pp-glass-border: rgba(255,255,255,0.16);
  --pp-glass-fill: rgba(255,255,255,0.08);
  --pp-glass-fill-2: rgba(255,255,255,0.05);
  --pp-glass-shadow: 0 14px 34px rgba(0,0,0,0.25);
  --pp-glass-inset: inset 0 1px 0 rgba(255,255,255,0.14);

  /* Specular highlights */
  --pp-spec-1: rgba(255,255,255,0.38);
  --pp-spec-2: rgba(255,255,255,0.10);

  --pp-btn-sheen-opacity: 0.18;
  --pp-panel-sheen-opacity: 0.22;
}

/* Light theme tuning */
html[data-theme="light"], body[data-theme="light"]{
  /* Make "glass" actually translucent in light mode so blur + depth show */
  --pp-glass-border: rgba(15,23,42,0.18);
  --pp-glass-fill: rgba(255,255,255,0.58);
  --pp-glass-fill-2: rgba(255,255,255,0.40);

  /* Stronger shadow so surfaces lift off the page */
  --pp-glass-shadow: 0 18px 46px rgba(2,6,23,0.14);
  --pp-glass-inset: inset 0 1px 0 rgba(255,255,255,0.65);

  /* Slightly "wetter" highlight in light mode */
  --pp-spec-1: rgba(255,255,255,0.78);
  --pp-spec-2: rgba(15,23,42,0.08);

  /* Light mode glass needs a touch more blur/sat to read as frosted */
  --pp-glass-blur: 18px;
  --pp-glass-sat: 160%;

  /* Theme-specific sheen strength */
  --pp-btn-sheen-opacity: 0.24;
  --pp-panel-sheen-opacity: 0.28;
}

/* 2) Background texture (no overlay layer / no z-index games) */
body[data-theme="dark"]{
  background-color: var(--background) !important;
  background-image:
    radial-gradient(900px 420px at 15% 6%, rgba(190,242,100,0.09), transparent 62%),
    radial-gradient(720px 420px at 88% 0%, rgba(190,242,100,0.07), transparent 58%),
    radial-gradient(760px 520px at 50% 110%, rgba(190,242,100,0.06), transparent 60%),
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,calc(var(--pp-grain-a))) 0px,
      rgba(255,255,255,calc(var(--pp-grain-a))) 1px,
      rgba(0,0,0,calc(var(--pp-grain-b))) 1px,
      rgba(0,0,0,calc(var(--pp-grain-b))) 3px
    ) !important;
  background-attachment: fixed;
}

body[data-theme="light"]{
  background-color: var(--background) !important;
  background-image:
    radial-gradient(900px 420px at 15% 6%, rgba(22,163,74,0.07), transparent 62%),
    radial-gradient(720px 420px at 88% 0%, rgba(190,242,100,0.06), transparent 58%),
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.26) 0px,
      rgba(255,255,255,0.26) 1px,
      rgba(15,23,42,0.05) 1px,
      rgba(15,23,42,0.05) 3px
    ) !important;
  background-attachment: fixed;
}

/* 3) "Glassy surface" helper (applied via selectors below) */
@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  .pp-glass-surface{
    background: linear-gradient(180deg, var(--pp-glass-fill), var(--pp-glass-fill-2)) !important;
    border: 1px solid var(--pp-glass-border) !important;
    box-shadow: var(--pp-glass-shadow), var(--pp-glass-inset) !important;
    backdrop-filter: blur(var(--pp-glass-blur)) saturate(var(--pp-glass-sat));
    -webkit-backdrop-filter: blur(var(--pp-glass-blur)) saturate(var(--pp-glass-sat));
  }
}

/* 4) Apply glass to panels that can look "plastic" */
@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  .menu-category,
  .menu-item-card,
  .order-panel-container,
  .about-panel-list-item,
  .pp-md-head,
  .pp-md-active,
  .pp-mdm-head,
  .pp-mdm-next,
  .pp-mdm-list,
  .pp-modal,
  .modal-content{
    background: linear-gradient(180deg, var(--pp-glass-fill), var(--pp-glass-fill-2)) !important;
    border: 1px solid var(--pp-glass-border) !important;
    box-shadow: var(--pp-glass-shadow) !important;
  }

  /* subtle "spec highlight" strip on key surfaces */
  .menu-item-card::before,
  .order-panel-container::before,
  .pp-modal::before,
  .modal-content::before{
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background:
      linear-gradient(120deg, var(--pp-spec-1), transparent 45%),
      linear-gradient(180deg, rgba(255,255,255,0.10), transparent 40%);
    opacity: var(--pp-panel-sheen-opacity);
  }
}

/* 5) Glassy buttons (core request) */
@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  /* Targets: your main buttons + icon buttons + chips that act like buttons */
  .pp-btn,
  .simple-button,
  .pp-mdp-toolBtn,
  .pp-theme-toggle,
  .quantity-btn:not([title="Close"]){
    position: relative;
    overflow: hidden;

    border: 1px solid var(--pp-glass-border) !important;
    background: linear-gradient(180deg, var(--pp-glass-fill), var(--pp-glass-fill-2)) !important;
    box-shadow: 0 12px 30px rgba(0,0,0,0.20), var(--pp-glass-inset) !important;

    backdrop-filter: blur(var(--pp-glass-blur)) saturate(var(--pp-glass-sat));
    -webkit-backdrop-filter: blur(var(--pp-glass-blur)) saturate(var(--pp-glass-sat));
  }

  /* Specular + micro-grain inside buttons */
  .pp-btn::before,
  .simple-button::before,
  .pp-mdp-toolBtn::before,
  .pp-theme-toggle::before,
  .quantity-btn:not([title="Close"])::before{
    content:"";
    position:absolute;
    inset:-2px;
    pointer-events:none;
    background:
      linear-gradient(120deg, rgba(255,255,255,0.55), transparent 42%),
      repeating-linear-gradient(
        135deg,
        rgba(255,255,255,0.05) 0px,
        rgba(255,255,255,0.05) 1px,
        rgba(0,0,0,0.05) 1px,
        rgba(0,0,0,0.05) 3px
      );
    opacity: var(--pp-btn-sheen-opacity);
    transform: translateY(-12%);
  }

  /* Hover feels like "glass catching light" */
  .pp-btn:hover:enabled,
  .simple-button:hover:enabled,
  .pp-mdp-toolBtn:hover,
  .pp-theme-toggle:hover,
  .quantity-btn:not([title="Close"]):hover{
    filter: brightness(1.04) saturate(1.06);
    box-shadow: 0 16px 44px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.18) !important;
    transform: translateY(-1px);
  }

  /* 6) Keep your CTA colourway, but add glass highlight on top */
  .place-order-button{
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(0,0,0,0.10) !important;
  }
  .place-order-button::before{
    content:"";
    position:absolute;
    inset:-2px;
    pointer-events:none;
    background:
      linear-gradient(120deg, rgba(255,255,255,0.62), transparent 45%),
      linear-gradient(180deg, rgba(255,255,255,0.22), transparent 55%),
      repeating-linear-gradient(
        135deg,
        rgba(255,255,255,0.06) 0px,
        rgba(255,255,255,0.06) 1px,
        rgba(0,0,0,0.05) 1px,
        rgba(0,0,0,0.05) 3px
      );
    opacity: 0.22;
  }
}

/* 7) Reduce texture for users who prefer less motion/visual noise */
@media (prefers-reduced-motion: reduce){
  body[data-theme="dark"],
  body[data-theme="light"]{
    background-attachment: scroll !important;
  }
}

/* ======================================================================
   MENU GLASS PARITY (light + dark)
   - Makes .menu-content + cards feel equally glassy in BOTH themes
   - Paste at VERY BOTTOM so it wins
   ====================================================================== */

.menu-content{
  position: relative;
  border-radius: 18px;
  padding: 0.75rem;
  /* Runway so the slab doesn't look "cut off" on short categories (PC) */
  padding-bottom: calc(32vh + 160px);
  isolation: isolate; /* keep pseudo layers sane */
}

/* Desktop spacing a touch bigger */
@media (min-width: 1024px){
  .menu-content{
    padding: 0.95rem;
    padding-bottom: calc(32vh + 160px);
  }
}

/* Light: give the menu area its own "slab" like dark mode */
[data-theme="light"] .menu-content{
  background:
    radial-gradient(900px 420px at 18% 8%, rgba(34,197,94,0.10), transparent 62%),
    radial-gradient(760px 420px at 88% 0%, rgba(190,242,100,0.08), transparent 58%),
    linear-gradient(180deg, rgba(255,255,255,0.78), rgba(241,245,251,0.72)) !important;
  border: 1px solid rgba(15,23,42,0.10) !important;
  box-shadow: 0 18px 46px rgba(2,6,23,0.10) !important;
}

/* Dark: keep it consistent (doesn't fight your existing styling) */
[data-theme="dark"] .menu-content{
  background:
    radial-gradient(900px 420px at 18% 8%, rgba(190,242,100,0.10), transparent 62%),
    radial-gradient(760px 420px at 88% 0%, rgba(190,242,100,0.08), transparent 58%),
    linear-gradient(180deg, rgba(2,6,23,0.18), rgba(2,6,23,0.04)) !important;
  border: 1px solid rgba(255,255,255,0.10) !important;
}

/* Subtle grain over the menu slab (both themes) */
.menu-content::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius: inherit;
  pointer-events:none;
  background:
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.06) 0px,
      rgba(255,255,255,0.06) 1px,
      rgba(0,0,0,0.05) 1px,
      rgba(0,0,0,0.05) 3px
    );
  opacity: 0.10;
  mix-blend-mode: overlay;
}

/* Make the CATEGORY wrapper glassy in LIGHT mode (this is what you're missing) */
@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  [data-theme="light"] .menu-category{
    background:
      radial-gradient(760px 240px at 18% 0%, rgba(34,197,94,0.08), transparent 60%),
      radial-gradient(720px 240px at 82% 0%, rgba(190,242,100,0.06), transparent 58%),
      linear-gradient(180deg, rgba(255,255,255,0.70), rgba(241,245,251,0.62)) !important;
    border: 1px solid rgba(15,23,42,0.10) !important;
    box-shadow: 0 18px 42px rgba(2,6,23,0.10) !important;
    backdrop-filter: blur(18px) saturate(160%);
    -webkit-backdrop-filter: blur(18px) saturate(160%);
    position: relative;
    overflow: hidden;
  }

  /* Light: give MENU CARDS the same "soft gradient surface" vibe as dark */
  [data-theme="light"] .menu-item-card{
    background:
      linear-gradient(180deg, rgba(255,255,255,0.82), rgba(241,245,251,0.74)) !important;
    border: 1px solid rgba(15,23,42,0.10) !important;
    box-shadow: 0 14px 32px rgba(2,6,23,0.10) !important;
    backdrop-filter: blur(14px) saturate(155%);
    -webkit-backdrop-filter: blur(14px) saturate(155%);
  }

  /* Specular highlight on light cards so they don't look like flat plastic */
  [data-theme="light"] .menu-item-card::after{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    background:
      linear-gradient(120deg, rgba(255,255,255,0.70), transparent 45%),
      linear-gradient(180deg, rgba(255,255,255,0.18), transparent 50%);
    opacity: 0.22;
  }
}

/* =========================================================
   MENU GLASS - LIGHT MODE FINAL OVERRIDE (MUST BE LAST)
   ========================================================= */

/* Menu slab (the whole menu area) */
html[data-theme="light"] body .menu-content,
body[data-theme="light"] .menu-content{
  position: relative !important;
  border-radius: 18px !important;
  padding: 0.95rem !important;
  padding-bottom: calc(32vh + 160px) !important;

  background:
    radial-gradient(900px 420px at 18% 8%, rgba(34,197,94,0.11), transparent 62%),
    radial-gradient(760px 420px at 88% 0%, rgba(190,242,100,0.09), transparent 58%),
    linear-gradient(180deg, rgba(255,255,255,0.82), rgba(241,245,251,0.74)) !important;

  border: 1px solid rgba(15,23,42,0.10) !important;
  box-shadow: 0 18px 46px rgba(2,6,23,0.10) !important;
  overflow: visible !important;
  isolation: isolate !important;
}

/* subtle grain over the slab */
html[data-theme="light"] body .menu-content::before,
body[data-theme="light"] .menu-content::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius: inherit;
  pointer-events:none;
  background:
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.06) 0px,
      rgba(255,255,255,0.06) 1px,
      rgba(15,23,42,0.05) 1px,
      rgba(15,23,42,0.05) 3px
    );
  opacity: 0.12;
  mix-blend-mode: overlay;
}

/* Category container (the big white box that was staying flat) */
@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  html[data-theme="light"] body .menu-category,
  body[data-theme="light"] .menu-category{
    position: relative !important;
    overflow: hidden !important;

    background:
      radial-gradient(760px 240px at 18% 0%, rgba(34,197,94,0.09), transparent 60%),
      radial-gradient(720px 240px at 82% 0%, rgba(190,242,100,0.07), transparent 58%),
      linear-gradient(180deg, rgba(255,255,255,0.74), rgba(241,245,251,0.64)) !important;

    border: 1px solid rgba(15,23,42,0.10) !important;
    box-shadow: 0 18px 42px rgba(2,6,23,0.10) !important;

    backdrop-filter: blur(18px) saturate(160%);
    -webkit-backdrop-filter: blur(18px) saturate(160%);
  }
}

/* Cards: give them the same "soft gradient" feel you have in dark mode */
@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  html[data-theme="light"] body .menu-item-card,
  body[data-theme="light"] .menu-item-card{
    background:
      linear-gradient(180deg, rgba(255,255,255,0.84), rgba(241,245,251,0.76)) !important;

    border: 1px solid rgba(15,23,42,0.10) !important;
    box-shadow: 0 14px 32px rgba(2,6,23,0.10) !important;

    backdrop-filter: blur(14px) saturate(155%);
    -webkit-backdrop-filter: blur(14px) saturate(155%);
  }

  /* specular sheen so it doesn't read "flat plastic" */
  html[data-theme="light"] body .menu-item-card::after,
  body[data-theme="light"] .menu-item-card::after{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    background:
      linear-gradient(120deg, rgba(255,255,255,0.72), transparent 45%),
      linear-gradient(180deg, rgba(255,255,255,0.16), transparent 55%);
    opacity: 0.22;
  }
}

/* =========================================================
   MENU TEXTURE PARITY - LIGHT MODE (kill hue, add texture)
   Paste LAST in App.css so it wins.
   ========================================================= */

html[data-theme="light"] body .menu-content,
body[data-theme="light"] .menu-content{
  position: relative !important;
  border-radius: 18px !important;

  /* Neutral glass slab (NO green/pink hue) */
  background:
    linear-gradient(180deg, rgba(255,255,255,0.82), rgba(241,245,251,0.74)) !important;

  border: 1px solid rgba(15,23,42,0.10) !important;
  box-shadow: 0 18px 46px rgba(2,6,23,0.10) !important;
  isolation: isolate !important;
  overflow: hidden !important; /* needed for texture layers */
}

/* Carbon-ish micro texture (neutral) */
html[data-theme="light"] body .menu-content::before,
body[data-theme="light"] .menu-content::before{
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;

  /* Two-direction weave + tiny speckle */
  background:
    repeating-linear-gradient(
      135deg,
      rgba(15,23,42,0.055) 0px,
      rgba(15,23,42,0.055) 1px,
      rgba(255,255,255,0.00) 1px,
      rgba(255,255,255,0.00) 4px
    ),
    repeating-linear-gradient(
      45deg,
      rgba(15,23,42,0.030) 0px,
      rgba(15,23,42,0.030) 1px,
      rgba(255,255,255,0.00) 1px,
      rgba(255,255,255,0.00) 6px
    );
  opacity: 0.55;

  /* Makes it feel like texture, not "printed lines" */
  mix-blend-mode: multiply;
}

/* Soft depth vignette (still neutral) */
html[data-theme="light"] body .menu-content::after,
body[data-theme="light"] .menu-content::after{
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;

  background:
    radial-gradient(900px 420px at 15% 0%, rgba(255,255,255,0.55), transparent 62%),
    radial-gradient(900px 520px at 50% 120%, rgba(15,23,42,0.06), transparent 60%);
  opacity: 0.70;
}

/* ALSO: make the category wrapper use the same neutral texture feel */
@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  html[data-theme="light"] body .menu-category,
  body[data-theme="light"] .menu-category{
    position: relative !important;
    overflow: hidden !important;

    background: linear-gradient(180deg, rgba(255,255,255,0.74), rgba(241,245,251,0.64)) !important;
    border: 1px solid rgba(15,23,42,0.10) !important;
    box-shadow: 0 18px 42px rgba(2,6,23,0.10) !important;

    backdrop-filter: blur(16px) saturate(150%);
    -webkit-backdrop-filter: blur(16px) saturate(150%);
  }

html[data-theme="light"] body .menu-category::before,
body[data-theme="light"] .menu-category::before{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    background:
      repeating-linear-gradient(
        135deg,
        rgba(15,23,42,0.040) 0px,
        rgba(15,23,42,0.040) 1px,
        rgba(255,255,255,0.00) 1px,
        rgba(255,255,255,0.00) 5px
      );
    opacity: 0.55;
    mix-blend-mode: multiply;
  }
}

/* ======================================================================
   PP GLASS v2 — less plastic, more premium (FINAL OVERRIDE)
   - Adds rim light + micro grain + spec bloom to surfaces + buttons
   - Safe: does NOT rely on menu-content. Targets existing components.
   ====================================================================== */

:root{
  /* surface edge + depth */
  --pp-glass-rim-1: rgba(255,255,255,0.18);
  --pp-glass-rim-2: rgba(0,0,0,0.22);
  --pp-glass-hi: rgba(255,255,255,0.22);
  --pp-glass-lo: rgba(0,0,0,0.18);

  /* overlays */
  --pp-glass-grain-a: 0.10;
  --pp-glass-grain-b: 0.06;
  --pp-glass-bloom: 0.22;

  /* extra shadow stack */
  --pp-glass-ambient: 0 16px 44px rgba(0,0,0,0.22);
  --pp-glass-contact: 0 1px 0 rgba(0,0,0,0.10);
}

/* Theme tuning so both modes feel equally "glassy" */
html[data-theme="light"], body[data-theme="light"]{
  --pp-glass-rim-1: rgba(15,23,42,0.14);
  --pp-glass-rim-2: rgba(15,23,42,0.10);
  --pp-glass-hi: rgba(255,255,255,0.42);
  --pp-glass-lo: rgba(15,23,42,0.06);
  --pp-glass-bloom: 0.18;

  --pp-glass-ambient: 0 18px 46px rgba(2,6,23,0.10);
  --pp-glass-contact: 0 1px 0 rgba(255,255,255,0.55);
}

html[data-theme="dark"], body[data-theme="dark"]{
  --pp-glass-rim-1: rgba(255,255,255,0.16);
  --pp-glass-rim-2: rgba(0,0,0,0.35);
  --pp-glass-hi: rgba(255,255,255,0.16);
  --pp-glass-lo: rgba(0,0,0,0.22);
  --pp-glass-bloom: 0.24;

  --pp-glass-ambient: 0 22px 60px rgba(0,0,0,0.42);
  --pp-glass-contact: 0 1px 0 rgba(0,0,0,0.22);
}

/* -----------------------------
   1) PREMIUM GLASS SURFACES
   ----------------------------- */
:where(
  .menu-category,
  .menu-item-card,
  .order-panel-container,
  .about-panel-list-item,
  .pp-modal,
  .modal-content,
  .detail-panel,
  .pp-md-head,
  .pp-md-active,
  .pp-mdm-head,
  .pp-mdm-next,
  .pp-mdm-list
){
  position: relative;
  isolation: isolate;
  /* crisp "rim" + depth (doesn't fight your base background) */
  border-color: var(--pp-glass-rim-1) !important;
  box-shadow:
    var(--pp-glass-ambient),
    var(--pp-glass-contact),
    inset 0 1px 0 var(--pp-glass-hi),
    inset 0 -1px 0 var(--pp-glass-lo) !important;
}

/* spec bloom + micro grain overlay */
:where(
  .menu-category,
  .menu-item-card,
  .order-panel-container,
  .about-panel-list-item,
  .pp-modal,
  .modal-content,
  .detail-panel,
  .pp-md-head,
  .pp-md-active,
  .pp-mdm-head,
  .pp-mdm-next,
  .pp-mdm-list
)::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius: inherit;
  pointer-events:none;

  background:
    /* spec bloom */
    radial-gradient(120% 70% at 18% 0%, rgba(255,255,255,0.40), transparent 55%),
    radial-gradient(90% 70% at 85% 0%, rgba(255,255,255,0.16), transparent 60%),
    /* subtle vignette depth */
    radial-gradient(120% 110% at 50% 120%, rgba(0,0,0,0.16), transparent 58%),
    /* micro grain */
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,var(--pp-glass-grain-a)) 0px,
      rgba(255,255,255,var(--pp-glass-grain-a)) 1px,
      rgba(0,0,0,var(--pp-glass-grain-b)) 1px,
      rgba(0,0,0,var(--pp-glass-grain-b)) 3px
    );

  opacity: var(--pp-glass-bloom);
}

/* Blend differs per theme so it doesn't look "dirty" in light mode */
[data-theme="dark"] :where(
  .menu-category,
  .menu-item-card,
  .order-panel-container,
  .about-panel-list-item,
  .pp-modal,
  .modal-content,
  .detail-panel,
  .pp-md-head,
  .pp-md-active,
  .pp-mdm-head,
  .pp-mdm-next,
  .pp-mdm-list
)::after{
  mix-blend-mode: overlay;
}

[data-theme="light"] :where(
  .menu-category,
  .menu-item-card,
  .order-panel-container,
  .about-panel-list-item,
  .pp-modal,
  .modal-content,
  .detail-panel,
  .pp-md-head,
  .pp-md-active,
  .pp-mdm-head,
  .pp-mdm-next,
  .pp-mdm-list
)::after{
  mix-blend-mode: multiply;
  opacity: calc(var(--pp-glass-bloom) * 0.85);
}

/* -----------------------------
   2) BUTTONS: "THICK GLASS"
   ----------------------------- */
@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  :where(.pp-btn, .simple-button, .pp-mdp-toolBtn, .pp-theme-toggle){
    border-color: color-mix(in srgb, var(--pp-glass-rim-1) 70%, transparent) !important;
    box-shadow:
      0 14px 34px rgba(0,0,0,0.18),
      inset 0 1px 0 rgba(255,255,255,0.22),
      inset 0 -1px 0 rgba(0,0,0,0.16) !important;
  }

  /* tighten hover so it feels "weighty" not floaty */
  :where(.pp-btn, .simple-button, .pp-mdp-toolBtn, .pp-theme-toggle):hover{
    transform: translateY(-1px);
    filter: brightness(1.03) saturate(1.06);
    box-shadow:
      0 18px 48px rgba(0,0,0,0.22),
      inset 0 1px 0 rgba(255,255,255,0.26),
      inset 0 -1px 0 rgba(0,0,0,0.18) !important;
  }
}

/* Keep close buttons clean (they draw their own X bars) */
:where(button.pp-modal-close, button.quantity-btn[title="Close"], button.pp-btn.pp-btn-subtle[aria-label="Close"]){
  box-shadow: none !important;
}

/* =========================================================
   LIGHT MODE: REMOVE menu-content SLAB (match dark mode)
   Keep texture/glass on menu-category only
   ========================================================= */

html[data-theme="light"] body .menu-content,
body[data-theme="light"] .menu-content{
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;        /* optional: match your original spacing */
  overflow: visible !important; /* stops "slab" behavior */
}

/* Kill any texture layers previously attached to menu-content */
html[data-theme="light"] body .menu-content::before,
html[data-theme="light"] body .menu-content::after,
body[data-theme="light"] .menu-content::before,
body[data-theme="light"] .menu-content::after{
  content: none !important;
  display: none !important;
}


/* =========================================================
   SOLID HEADER (MOBILE ONLY) - keep scroll smooth on phones
   ========================================================= */

/* Mobile header row */
.pp-topnav__mobileRow{
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* Theme-opaque backgrounds */
[data-theme='dark'] .pp-topnav,
[data-theme='dark'] .pp-topnav__mobileRow{
  background: #0f172a !important; /* solid dark */
}

[data-theme='light'] .pp-topnav,
[data-theme='light'] .pp-topnav__mobileRow{
  background: #ffffff !important; /* solid light */
}

/* Optional: also make the order panel header solid on mobile */
.order-panel-header{
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}
[data-theme='dark'] .order-panel-header{ background: #0f172a !important; }
[data-theme='light'] .order-panel-header{ background: #ffffff !important; }

/* Ensure emoji glyphs render even if the main font doesn't support them */
.pp-cart-fab__icon,
.pp-bottomnav__icon,
.pp-theme-toggle__emoji{
  font-family: "Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji",system-ui,sans-serif;
}

/* =========================================================
   Item Detail Panel — Ingredients readability (light + dark)
   Scoped to the ingredients summary inside the detail panel
   ========================================================= */

.detail-panel .pp-ingredients-summary{
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.22);
  background:
    radial-gradient(700px 220px at 50% 0%, rgba(190,242,100,0.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.10));
  box-shadow: 0 14px 34px rgba(0,0,0,0.18);
}

[data-theme="light"] .detail-panel .pp-ingredients-summary{
  border-color: rgba(15,23,42,0.14);
  background:
    radial-gradient(700px 220px at 50% 0%, rgba(22,163,74,0.10), transparent 60%),
    linear-gradient(180deg, rgba(2,6,23,0.02), rgba(2,6,23,0.00));
  box-shadow: 0 12px 26px rgba(2,6,23,0.10);
}

.detail-panel .pp-ingredients-summary__title{
  font-size: 0.72rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-weight: 950;
  margin-bottom: 0.45rem;
  color: rgba(190,242,100,0.92);
}

[data-theme="light"] .detail-panel .pp-ingredients-summary__title{
  color: rgba(15,23,42,0.82);
}

.detail-panel .pp-ingredients-summary .pp-chip{
  /* make chips readable (don’t rely on global pp-chip colours) */
  background: rgba(190,242,100,0.14);
  border: 1px solid rgba(190,242,100,0.30);
  color: var(--text-primary);
  box-shadow: 0 8px 18px rgba(0,0,0,0.12);
}

[data-theme="light"] .detail-panel .pp-ingredients-summary .pp-chip{
  background: rgba(22,163,74,0.10);
  border-color: rgba(22,163,74,0.22);
  color: rgba(15,23,42,0.92);
  box-shadow: 0 8px 18px rgba(2,6,23,0.08);
}

@media (max-width: 520px){
  .detail-panel .pp-ingredients-summary .pp-chip{
    font-size: 0.72rem;
    padding: 0.18rem 0.50rem;
    line-height: 1.1;
  }
  .detail-panel .pp-ingredients-summary__title{
    font-size: 0.68rem;
    margin-bottom: 0.35rem;
  }
}

/* =========================================================
   MOBILE: hide the bottom "order summary" panel,
   but KEEP the right-sidebar mounted so modals still work.
   ========================================================= */
@media (max-width: 1023.98px){
  /* Ensure the sidebar exists (it contains the fixed modals) */
  .right-sidebar{
    display: block !important;
    position: relative !important;
    height: auto !important;
  }

  /* Hide ONLY the normal order panel (when no modal is open) */
  .right-sidebar .order-panel-container
    :not(.order-panel-container--detail)
    :not(.order-panel-container--halfhalf)
    :not(.order-panel-container--mealdeal)
    :not(.order-panel-container--mobileCart){
    display: none !important;
  }
}

/* =========================================================
   Image SHIFT (Y axis) — ONLY tagged list, exclude specials
   Purpose: push bottom logo out of view + lift image text above price pill
   ========================================================= */

.menu-item-card[data-pp-imglift="1"]:not(.menu-item-card--mealdeal) .card-image-container{
  overflow: hidden; /* safety */
}

.menu-item-card[data-pp-imglift="1"]:not(.menu-item-card--mealdeal) .card-image{
  /* MOVE UP (no zoom). Increase magnitude to move further up */
  transform: translate3d(0, -33%, 0) scale(1.30) !important;
  transform-origin: center top;
  will-change: transform;
}

/* Mobile tuning */
@media (max-width: 640px){
  .menu-item-card[data-pp-imglift="1"]:not(.menu-item-card--mealdeal) .card-image{
    transform: translate3d(0, -31%, 0) scale(1.27) !important;
    transform-origin: center top;
  }
}
@media (max-width: 420px){
  .menu-item-card[data-pp-imglift="1"]:not(.menu-item-card--mealdeal) .card-image{
    transform: translate3d(0, -29%, 0) scale(1.25) !important;
    transform-origin: center top;
  }
}

/* Mobile: let card titles show in full (titles only, not ingredients) */
@media (max-width: 640px){
  .menu-item-card .pp-cardOverlay__title{
    -webkit-line-clamp: 4 !important; /* was 2; increase until it fits */
    line-clamp: 4 !important;
    overflow: visible !important;
  }
}



/* =========================================
   Light Mode ? Order Panel / Mobile Cart
   ========================================= */

[data-theme="light"] .order-panel-container,
[data-theme="light"] .order-panel-container--mobileCart{
  color: rgba(15,23,42,0.92);
}

/* Panel background (modal sheet area) */
[data-theme="light"] .pp-cart-modal__panel{
  background: rgba(255,255,255,0.94);
}

/* The main cards */
[data-theme="light"] .order-panel-container .info-box,
[data-theme="light"] .order-panel-container--mobileCart .info-box{
  background: rgba(255,255,255,0.88);
  border: 1px solid rgba(15,23,42,0.10);
  box-shadow: 0 14px 34px rgba(2,6,23,0.10);
}

/* Remove dark texture overlays if they exist */
[data-theme="light"] .order-panel-container .info-box::before,
[data-theme="light"] .order-panel-container .info-box::after,
[data-theme="light"] .order-panel-container--mobileCart .info-box::before,
[data-theme="light"] .order-panel-container--mobileCart .info-box::after{
  opacity: 0.08 !important;
  filter: saturate(0.5);
}

/* Labels vs values */
[data-theme="light"] .order-panel-container .pp-defLabel,
[data-theme="light"] .order-panel-container--mobileCart .pp-defLabel,
[data-theme="light"] .order-panel-container .pp-infoTopLabel,
[data-theme="light"] .order-panel-container .pp-infoBottomLabel,
[data-theme="light"] .order-panel-container--mobileCart .pp-infoTopLabel,
[data-theme="light"] .order-panel-container--mobileCart .pp-infoBottomLabel{
  color: rgba(15,23,42,0.62);
}

[data-theme="light"] .order-panel-container .pp-defValue,
[data-theme="light"] .order-panel-container--mobileCart .pp-defValue,
[data-theme="light"] .order-panel-container .pp-infoTopValue,
[data-theme="light"] .order-panel-container .pp-infoBottomValue,
[data-theme="light"] .order-panel-container--mobileCart .pp-infoTopValue,
[data-theme="light"] .order-panel-container--mobileCart .pp-infoBottomValue,
[data-theme="light"] .order-panel-container .pp-stack2Title,
[data-theme="light"] .order-panel-container--mobileCart .pp-stack2Title{
  color: rgba(15,23,42,0.92);
}

[data-theme="light"] .order-panel-container .pp-stack2Sub,
[data-theme="light"] .order-panel-container--mobileCart .pp-stack2Sub{
  color: rgba(15,23,42,0.70);
}

/* Pickup/Delivery switch */
[data-theme="light"] .order-panel-container .pp-orderTypeSwitch,
[data-theme="light"] .order-panel-container--mobileCart .pp-orderTypeSwitch{
  background: rgba(15,23,42,0.05);
  border: 1px solid rgba(15,23,42,0.08);
}

[data-theme="light"] .order-panel-container .pp-orderTypeBtn,
[data-theme="light"] .order-panel-container--mobileCart .pp-orderTypeBtn{
  color: rgba(15,23,42,0.85);
}

[data-theme="light"] .order-panel-container .pp-orderTypeBtn.is-active,
[data-theme="light"] .order-panel-container--mobileCart .pp-orderTypeBtn.is-active{
  background: rgba(190,242,100,0.55);
  border: 1px solid rgba(132,204,22,0.35);
  color: rgba(15,23,42,0.92);
}

/* Voucher dropdown header */
[data-theme="light"] .order-panel-container .pp-voucherBtn,
[data-theme="light"] .order-panel-container--mobileCart .pp-voucherBtn{
  background: rgba(255,255,255,0.90);
  border: 1px solid rgba(15,23,42,0.10);
  box-shadow: 0 10px 22px rgba(2,6,23,0.08);
  color: rgba(15,23,42,0.92);
}

[data-theme="light"] .order-panel-container .pp-voucherSub,
[data-theme="light"] .order-panel-container--mobileCart .pp-voucherSub{
  color: rgba(15,23,42,0.62);
}

[data-theme="light"] .order-panel-container .pp-voucherCaret,
[data-theme="light"] .order-panel-container--mobileCart .pp-voucherCaret{
  background: rgba(15,23,42,0.06);
  border-color: rgba(15,23,42,0.10);
  color: rgba(15,23,42,0.75);
}

/* Change button (fix white-on-white) */
[data-theme="light"] .order-panel-container .pp-changeBtn,
[data-theme="light"] .order-panel-container--mobileCart .pp-changeBtn{
  background: rgba(15,23,42,0.07);
  border: 1px solid rgba(15,23,42,0.18);
  color: rgba(15,23,42,0.88);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.65);
}

/* Empty cart block */
[data-theme="light"] .order-panel-container--mobileCart .pp-emptyCart,
[data-theme="light"] .order-panel-container .pp-emptyCart{
  background: rgba(255,255,255,0.82);
  border: 1px solid rgba(15,23,42,0.08);
}

[data-theme="light"] .order-panel-container--mobileCart .pp-emptyCartTitle,
[data-theme="light"] .order-panel-container .pp-emptyCartTitle{
  color: rgba(15,23,42,0.88);
}

[data-theme="light"] .order-panel-container--mobileCart .pp-emptyCartSub,
[data-theme="light"] .order-panel-container .pp-emptyCartSub{
  color: rgba(15,23,42,0.65);
}

/* Sticky CTA bar on mobile cart */
[data-theme="light"] .pp-mobileCartStickyCta{
  background: rgba(255,255,255,0.92);
  border-top: 1px solid rgba(15,23,42,0.10);
}

[data-theme="light"] .pp-mobileCartStickyCta .place-order-button{
  background: rgba(15,23,42,0.08);
  border: 1px solid rgba(15,23,42,0.14);
  color: rgba(15,23,42,0.88);
  box-shadow: 0 10px 24px rgba(2,6,23,0.10);
}

/* Spacing between order info card and voucher dropdown */
.order-panel-container .info-box + .pp-voucherBtn{
  margin-top: 10px;
}

@media (max-width: 520px){
  .order-panel-container--mobileCart .info-box + .pp-voucherBtn{
    margin-top: 8px;
  }
}

/* Gap between the order info card and the voucher block */
.order-panel-container .pp-voucherSlot,
.order-panel-container--mobileCart .pp-voucherSlot{
  margin-top: 10px;
}

@media (max-width: 520px){
  .order-panel-container--mobileCart .pp-voucherSlot{
    margin-top: 8px;
  }
}


/* =========================================
   Light mode cart: replace lime with brand green
   ========================================= */

:root{
  /* Brand green  adjust if you already have a canonical token */
  --pp-brand-green: #2fb44a;
  --pp-brand-green-soft: rgba(47,180,74,0.18);
  --pp-brand-green-border: rgba(47,180,74,0.30);
}

/* Cart title + headings that were lime */
[data-theme="light"] .order-panel-container--mobileCart .panel-title,
[data-theme="light"] .order-panel-container .panel-title,
[data-theme="light"] .order-panel-container--mobileCart h1,
[data-theme="light"] .order-panel-container h1{
  color: var(--pp-brand-green) !important;
  text-shadow: none !important;
}

/* Active pickup/delivery button */
[data-theme="light"] .order-panel-container--mobileCart .pp-orderTypeBtn.is-active,
[data-theme="light"] .order-panel-container .pp-orderTypeBtn.is-active{
  background: var(--pp-brand-green-soft) !important;
  border-color: var(--pp-brand-green-border) !important;
  color: rgba(15,23,42,0.92) !important;
}

/* Any remaining lime accents inside the order panel */
[data-theme="light"] .order-panel-container--mobileCart .accent-green,
[data-theme="light"] .order-panel-container .accent-green{
  color: var(--pp-brand-green) !important;
}

/* If TOTAL label/price uses the lime */
[data-theme="light"] .order-panel-container--mobileCart .total-price-display,
[data-theme="light"] .order-panel-container .total-price-display{
  --pp-accent: var(--pp-brand-green);
}

/* If you have CSS variables for accent in light mode, force them here */
[data-theme="light"] .order-panel-container--mobileCart,
[data-theme="light"] .order-panel-container{
  --accent: var(--pp-brand-green);
  --pp-accent: var(--pp-brand-green);
}

/* Remove button: no bubble, just a bigger red X (conflict-proof) */
.order-panel-container .pp-removeItemBtn,
.order-panel-container--mobileCart .pp-removeItemBtn{
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  width: 32px !important;
  height: 32px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: rgb(220, 38, 38) !important;
}

/* Size the X itself (this is what actually changes visually) */
.order-panel-container .pp-removeItemX,
.order-panel-container--mobileCart .pp-removeItemX{
  font-size: 24px !important;
  line-height: 1 !important;
  font-weight: 900 !important;
}

/* Smooth remove hover (no jitter) */
.order-panel-container .pp-removeItemBtn,
.order-panel-container--mobileCart .pp-removeItemBtn{
  transition: transform 220ms cubic-bezier(0.2, 0.8, 0.2, 1);
  will-change: transform;
}

.order-panel-container .pp-removeItemX,
.order-panel-container--mobileCart .pp-removeItemX{
  transition: color 220ms cubic-bezier(0.2, 0.8, 0.2, 1),
              text-shadow 220ms cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* Desktop hover only */
@media (hover: hover) and (pointer: fine){
  .order-panel-container .pp-removeItemBtn:hover,
  .order-panel-container--mobileCart .pp-removeItemBtn:hover{
    transform: scale(1.08);
  }

  .order-panel-container .pp-removeItemBtn:hover .pp-removeItemX,
  .order-panel-container--mobileCart .pp-removeItemBtn:hover .pp-removeItemX{
    color: rgb(185, 28, 28);
    text-shadow: 0 0 14px rgba(220,38,38,0.35);
  }
}

/* Click feedback */
.order-panel-container .pp-removeItemBtn:active,
.order-panel-container--mobileCart .pp-removeItemBtn:active{
  transform: scale(0.96);
}

/* =========================================================
   RESPONSIVE MODE: COMPACT DESKTOP (Nest Hub Max etc)
   - Keeps desktop components (navbar etc)
   - But makes layout behave like a "wide tablet":
     sidebar stacks under content, sticky/100vh disabled,
     grid becomes auto-fit to avoid awkward squeezes.
   ========================================================= */

/* JS-driven mode */
html[data-pp-layout="compact"] .app-grid-layout {
  grid-template-columns: 1fr !important;
}

html[data-pp-layout="compact"] .right-sidebar {
  display: block !important;
  position: relative !important;
  top: auto !important;
  height: auto !important;
  border-left: none !important;
  box-shadow: none !important;
  background: transparent !important;
}

html[data-pp-layout="compact"] .order-panel-container {
  position: relative !important;
  top: auto !important;
  height: auto !important;
  max-height: none !important;
  margin-top: 0.9rem !important;
}

/* Reduce "wasted" space so it looks intentional on odd screens */
html[data-pp-layout="compact"] .app-grid-layout {
  gap: 1rem !important;
  padding-inline: 0.9rem !important;
}

html[data-pp-layout="compact"] .main-content-area {
  padding: 0.75rem 1.1rem 1.2rem !important;
}

/* Menu grid adapts to available width instead of forcing 3/4 columns */
html[data-pp-layout="compact"] .menu-grid {
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)) !important;
}

/* ---------- CSS-only fallback (no JS needed) ---------- */
/* If desktop breakpoint is hit, but the screen is short or squarish */
@media (min-width: 1024px) and (min-height: 701px) and (max-height: 780px),
       (min-width: 1024px) and (min-height: 701px) and (max-aspect-ratio: 27/20) {
  .app-grid-layout {
    grid-template-columns: 1fr !important;
  }

  .right-sidebar {
    display: block !important;
    position: relative !important;
    top: auto !important;
    height: auto !important;
    border-left: none !important;
    box-shadow: none !important;
    background: transparent !important;
  }

  .order-panel-container {
    position: relative !important;
    top: auto !important;
    height: auto !important;
    max-height: none !important;
    margin-top: 0.9rem !important;
  }

  .menu-grid {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)) !important;
  }
}

/* =========================================================
   COMPACT HEADER MODE (odd aspect ratios: Nest Hub Max etc)
   Forces 1-row header layout (Left | Banner | Right),
   overrides the 901–1400 "two-row" desktop header rules.
   ========================================================= */

html[data-pp-layout="compact"] .pp-topnav {
  padding: 0.72rem 1.1rem !important;
}

/* Use more stable sizing (based on height constraints, not vw) */
html[data-pp-layout="compact"] {
  --pp-hdr-h: 92px;
  --pp-gap: 14px;
  --pp-left-w: 360px;
  --pp-right-w: 380px;
  --pp-brand-w: 620px;
}

/* Force the header grid back to the symmetric single-row layout */
html[data-pp-layout="compact"] .pp-topnav__row {
  display: grid !important;
  grid-template-columns: 1fr minmax(0, var(--pp-brand-w)) 1fr !important;
  grid-template-rows: var(--pp-hdr-h) !important;
  grid-auto-rows: unset !important;
  align-items: center !important;
  gap: var(--pp-gap) !important;
}

/* Ensure the three zones sit correctly */
html[data-pp-layout="compact"] .pp-topnav__left {
  grid-column: 1 !important;
  grid-row: 1 !important;
  align-self: center !important;
  height: var(--pp-hdr-h) !important;
  max-width: var(--pp-left-w) !important;
}

html[data-pp-layout="compact"] .pp-topnav__right {
  grid-column: 3 !important;
  grid-row: 1 !important;
  align-self: center !important;
  height: var(--pp-hdr-h) !important;
  max-width: var(--pp-right-w) !important;
}

/* Banner: always centered, same row */
html[data-pp-layout="compact"] .pp-topnav__logo.pp-topnav__brandCard {
  grid-column: 2 !important;
  grid-row: 1 !important;
  justify-self: center !important;
  align-self: center !important;
  height: var(--pp-hdr-h) !important;
  width: min(100%, var(--pp-brand-w)) !important;
  max-width: var(--pp-brand-w) !important;
}

/* Optional: slightly tighten the rightStack so it doesn't feel "tall" */
html[data-pp-layout="compact"] .pp-topnav__rightStack {
  gap: 4px !important;
  padding: 6px !important;
}

/* If your banner image inside the brand card is cropping oddly */
html[data-pp-layout="compact"] .pp-topnav__logo.pp-topnav__brandCard img {
  width: 100% !important;
  height: 100% !important;
  object-fit: contain !important;
}

/* Extra tightening for very short displays (Nest Hub ~600px tall) */
@media (min-width: 901px) and (max-height: 700px){
  html[data-pp-layout="compact"]{
    --pp-hdr-h: 74px;
    --pp-gap: 10px;

    /* Slightly smaller zones so it doesn’t feel “zoomed” */
    --pp-left-w: 320px;
    --pp-right-w: 340px;
    --pp-brand-w: 520px;
  }

  html[data-pp-layout="compact"] .pp-topnav{
    padding: 0.50rem 0.85rem !important;
  }

  /* Keep banner from looking scaled-up */
  html[data-pp-layout="compact"] .pp-topnav__logoImg--banner{
    transform: none !important;
    object-fit: contain !important;
    object-position: center !important;
  }
}

/* =========================================================
   SHORT DESKTOP HEADER PROFILE (Nest Hub Max / weird ratios)
   - Give left card more width so search inputs don't crop
   - Lock left internals: theme spans 2 rows, inputs stretch
   ========================================================= */

@media (min-width: 901px) and (max-height: 860px){

  /* Tune the desktop header sizing for short displays */
  :root{
    --pp-hdr-h: 96px;
    --pp-gap: 14px;

    /* give left/right more space on these screens */
    --pp-left-w: min(460px, 38vw);
    --pp-right-w: min(420px, 34vw);

    /* keep banner sane */
    --pp-brand-w: min(640px, 52vw);
  }

  /* Left card: hard grid layout (theme spans both rows) */
  .pp-topnav__row .pp-topnav__left{
    display: grid !important;
    grid-template-columns: 46px minmax(0, 1fr) !important;
    grid-template-rows: 1fr 1fr !important;
    column-gap: 10px !important;
    row-gap: 0.40rem !important;

    align-items: stretch !important;
    overflow: hidden !important; /* prevents the inputs bleeding into the banner */
  }

  .pp-topnav__row .pp-topnav__left > .pp-theme-toggle{
    grid-column: 1 !important;
    grid-row: 1 / span 2 !important;
    height: 100% !important;
    width: 46px !important;
    min-width: 46px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .pp-topnav__row .pp-topnav__left .pp-topnav__searchWrap{
    grid-column: 2 !important;
    grid-row: 1 / span 2 !important;
    height: 100% !important;

    /* ensure the wrap itself is two equal rows */
    display: grid !important;
    grid-template-rows: 1fr 1fr !important;
    gap: 0.40rem !important;
    min-width: 0 !important;
  }

  /* Your inputs are inside inline wrapper <div style=...> — make them stretch */
  .pp-topnav__row .pp-topnav__left .pp-topnav__searchWrap > div{
    height: 100% !important;
    min-height: 0 !important;
    min-width: 0 !important;
  }

  .pp-topnav__row .pp-topnav__left .pp-topnav__searchInput{
    height: 100% !important;
    width: 100% !important;
    min-width: 0 !important;
  }

  /* Divider line: align to new theme column width */
  .pp-topnav__row .pp-topnav__left::after{
    left: calc(6px + 46px + 10px) !important;
    top: 6px !important;
    bottom: 6px !important;
  }

  .app-grid-layout .main-content-area{
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-height: 0;
    height: auto;
    overflow-y: auto;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
    padding-top: 0 !important;
    margin-top: 0 !important;
  }
}

/* =========================================================
   APP VIEWPORT MODE (Wide + short screens)
   - Header + QuickNav stay visible
   - Main grid consumes remaining height
   - Left and right columns scroll internally
   ========================================================= */
@media (hover: none) and (pointer: coarse) and (min-width: 980px) and (min-height: 701px) and (max-height: 900px){

  /* Treat the whole page as an app viewport */
  html, body{
    height: 100%;
    overflow: hidden;            /* no document scroll */
  }

  #root{
    height: 100%;
    overflow: hidden;
  }

  /* ===========================
     Nest Hub Max header tuning
     - the banner image uses a global transform: scale(3.06)
     - on 1280x800 that prevents "auto fit"
     - so we override banner scaling ONLY in this viewport mode
     =========================== */

  :root{
    /* slightly shorter header feels better on 800px tall screens */
    --pp-hdr-h: 82px;
    /* keep banner centered and not too wide */
    --pp-brand-w: min(560px, 48vw);
  }

  .pp-topnav{
    /* tighten vertical padding so header doesn't eat height */
    padding: 0.45rem 0.95rem !important;
  }

  /* Ensure the brand card follows the tuned header height */
  .pp-topnav__logo.pp-topnav__brandCard{
    height: var(--pp-hdr-h) !important;
    width: min(100%, var(--pp-brand-w)) !important;
    max-width: var(--pp-brand-w) !important;
  }

  /* The real fix: override the global "zoomed banner" transform */
  .pp-topnav__logoImg--banner{
    transform: scale(2) !important;   /* stop forced zoom */
    transform-origin: center !important;
    object-fit: contain !important;
    object-position: center !important;
  }

  /* Optional: make it look crisp and not "floaty" on Hub Max */
  .pp-topnav__brandCard{
    border-radius: 18px;
  }

  /* Wide-short screens should never use boxed wrappers */
  #root,
  .app,
  .app-shell,
  .app-container,
  .app-grid-layout{
    width: 100% !important;
    max-width: none !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  html,
  body,
  #root{
    transform: none !important;
    zoom: 1 !important;
  }

  /* The header + quicknav must not add extra outside spacing */
  .pp-topnav,
  header{
    margin: 0 !important;
  }

  .quick-nav-container{
    margin: 0 !important;
  }

  /* Make your main grid the viewport content area */
  .app-grid-layout{
    /* Fill the screen on wide+short devices (Nest Hub Max etc) */
    max-width: none;
    width: 100%;
    margin: 0;

    /* Use CSS var you already set on <html> */
    --pp-head-stack: calc(var(--pp-topnav-h, 180px) + var(--pp-quicknav-h, 56px));

    /* Fill the viewport, then let inner panes allocate internally */
    height: 100dvh;
    min-height: 100dvh;
    overflow: hidden;
    grid-template-rows: minmax(0, 1fr);

    /* 2-col app layout (keep right panel usable, but responsive) */
    display: grid;
    grid-template-columns: minmax(0, 1fr) minmax(340px, 35vw);
    gap: 16px;
    align-items: start;

    /* kill any sneaky spacing */
    padding: 0 14px;
  }

  /* LEFT PANE: ensure it fills the grid height and allows the <main> to become the scroller */
  .app-grid-layout .left-pane{
    height: 100%;
    min-height: 0;
    display: flex;
    flex-direction: column;
  }

  /* Left column scroll area (REAL container in App.jsx is <main class="main-content-area">) */
  .app-grid-layout .main-content-area{
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-height: 0;
    height: auto;
    overflow-y: auto;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
    padding-top: 0 !important;
    margin-top: 0 !important;
  }

  /* Keep Ashmore footer exactly like PC, just make it sit at the bottom when content is short */
  .app-grid-layout .main-content-area .site-footer{
    margin-top: auto;
  }

  /* Right column scroll area (order) */
  .app-grid-layout .right-sidebar{
    height: 100%;
    overflow: hidden !important;
    margin-top: 0 !important;
    padding-top: 0 !important;
    align-self: start;
  }

  .app-grid-layout .right-sidebar .order-panel-container{
    height: 100% !important;
    overflow-y: auto !important;
    top: 0 !important;
    margin-top: 0 !important;
  }

  /* If ItemDetailPanel is open, don't make the whole right column scroll;
     keep a fixed shell and let the inner detail body scroll. */
  .app-grid-layout .right-sidebar .order-panel-container.order-panel-container--detail{
    overflow: hidden !important;
    position: relative;
  }

  /* Compact UI slightly so it looks intentional on 800–900px tall screens */
  .info-box{
    padding: 10px !important;
    border-radius: 16px !important;
  }

  .pp-emptyCart{
    padding: 12px !important;
    min-height: 160px !important;
  }

  .place-order-button{
    min-height: 44px !important;
    border-radius: 14px !important;
  }

  /* QuickNav chips slightly smaller so more content fits */
  .quick-nav-list a{
    padding: 0.42rem 0.85rem !important;
    font-size: 0.76rem !important;
  }

  .pp-main,
  .pp-left,
  .pp-right,
  .main-content,
  .content,
  .menu-column,
  .cart-column{
    min-height: 0;
  }

  /* Hub Max: force Ashmore/footer lockup back into normal flow (kills fixed/absolute floating) */
  .site-footer{
    position: static !important;
    top: auto !important;
    right: auto !important;
    bottom: auto !important;
    left: auto !important;
    transform: none !important;
  }

  /* Any element inside the footer that tries to float */
  .site-footer *{
    position: static !important;
    top: auto !important;
    right: auto !important;
    bottom: auto !important;
    left: auto !important;
    transform: none !important;
  }

  /* Keep the footer sitting at the end of the scroll column like PC */
  .app-grid-layout .main-content-area{
    display: flex !important;
    flex-direction: column !important;
  }
  .app-grid-layout .main-content-area .site-footer{
    margin-top: auto !important;
  }

}

/* === Nest Hub Max (1280x800-ish) consolidated override === */
/* Same PC template. Only fixes wide+short aspect sizing/scroll/footer placement. */
@media (hover: none) and (pointer: coarse) and (min-width: 1100px) and (max-width: 1400px) and (min-height: 700px) and (max-height: 900px) {

  html, body {
    height: 100%;
    overflow: hidden !important; /* internal scrollers */
  }

  /* Viewport-locked 2-col shell */
  .app-grid-layout{
    height: 100dvh !important;
    min-height: 100dvh !important;
    overflow: hidden !important;
    grid-template-rows: minmax(0, 1fr) !important;
  }

  /* Allow overflow containers to actually scroll */
  .left-pane,
  .main-content-area,
  .right-sidebar,
  .right-sidebar .order-panel-container{
    min-height: 0 !important;
  }

  /* LEFT column: the <main> is the scroller and a flex column */
  .app-grid-layout .left-pane{
    height: 100% !important;
    min-height: 0 !important;
    display: flex !important;
    flex-direction: column !important;
  }

  .app-grid-layout .main-content-area{
    flex: 1 1 auto !important;
    height: auto !important;
    min-height: 0 !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
    display: flex !important;
    flex-direction: column !important;
  }

  /* FORCE the footer to the bottom when content is short */
  .app-grid-layout .main-content-area .site-footer{
    margin-top: 16px !important;
    flex: 0 0 auto !important;
    position: static !important;
    inset: auto !important;
    transform: none !important;
  }

  /* Hub Max: footer is inside <main> again — restore normal document flow */
  .app-grid-layout .main-content-area__body{
    flex: 0 0 auto !important;
    min-height: auto !important;
  }

  /* RIGHT column: fixed shell + internal scroll */
  .app-grid-layout .right-sidebar{
    height: 100% !important;
    overflow: hidden !important;
  }

  .app-grid-layout .right-sidebar .order-panel-container{
    height: 100% !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }

}

/* === Nest Hub (1024x600-ish): make menu grid behave like Hub Max === */
@media (hover: none) and (pointer: coarse) and (min-width: 1000px) and (max-width: 1050px) and (max-height: 650px) {

  /* A) Layout height lock (no page grow, inner right-panel scroll) */
  .app-grid-layout {
    height: 100dvh !important;
    max-height: 100dvh !important;
    overflow: hidden !important;
  }

  .right-sidebar {
    height: 100% !important;
    max-height: 100% !important;
    min-height: 0 !important;
    overflow: hidden !important;
    display: flex !important;
    flex-direction: column !important;
  }

  .order-panel__scroll,
  .right-sidebar .order-panel-container {
    flex: 1 1 auto !important;
    min-height: 0 !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
  }

  /* Force the same “desktop grid density” as Hub Max */
  .menu-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 1.5rem !important;
  }

  .menu-item-card {
    grid-column: auto !important;
  }

  /* Your compact mode currently overrides menu-grid to auto-fit; override that too */
  html[data-pp-layout="compact"] .menu-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }

  /* Keep meal deals looking like Hub Max (2 across) */
  .menu-item-card--mealdeal{
    grid-column: span 2 !important;
  }

  /* Hub: footer is inside <main> again — restore normal document flow */
  .app-grid-layout .main-content-area__body{
    flex: 0 0 auto !important;
    min-height: auto !important;
  }

  .app-grid-layout .main-content-area .site-footer{
    margin-top: 16px !important;
  }

}

/* =========================================================
   RATIO AUTO-ADJUST (wide + short displays, e.g. Nest Hub)
   - DOES NOT affect real mobile (phones)
   - DOES NOT affect normal desktop/laptops (taller screens)
   ========================================================= */
@media (hover: none) and (pointer: coarse) and (min-width: 900px) and (max-width: 1200px) and (max-height: 720px) {

  /* --- Header compacting --- */
  html[data-pp-layout="compact"]{
    --pp-hdr-h: 72px;
    --pp-gap: 10px;

    /* If you use width vars for header columns */
    --pp-left-w: 320px;
    --pp-right-w: 340px;
    --pp-brand-w: 520px;
  }

  html[data-pp-layout="compact"] .pp-topnav{
    min-height: var(--pp-hdr-h) !important;
    padding: 0.45rem 0.75rem !important;
  }

  html[data-pp-layout="compact"] .pp-topnav__logo.pp-topnav__brandCard{
    height: var(--pp-hdr-h) !important;
    max-height: var(--pp-hdr-h) !important;
  }

  html[data-pp-layout="compact"] .pp-topnav__logoImg--banner{
    transform: none !important;
    object-fit: contain !important;
    object-position: center !important;
  }

  /* Reduce pill/button sizes in header without changing desktop elsewhere */
  html[data-pp-layout="compact"] .pp-topnav button,
  html[data-pp-layout="compact"] .pp-topnav .chip,
  html[data-pp-layout="compact"] .pp-topnav input{
    font-size: 0.92rem !important;
    height: 38px !important;
  }

  html[data-pp-layout="compact"] .pp-topnav input{
    padding-block: 0.35rem !important;
  }

  /* --- Category nav / QuickNav compacting --- */
  html[data-pp-nav="compact"] .quick-nav,
  html[data-pp-nav="compact"] .pp-quicknav,
  html[data-pp-nav="compact"] .quick-nav-wrap{
    padding: 6px 8px !important;
  }

  html[data-pp-nav="compact"] .quick-nav .chip,
  html[data-pp-nav="compact"] .pp-quicknav .chip,
  html[data-pp-nav="compact"] .quick-nav button,
  html[data-pp-nav="compact"] .pp-quicknav button{
    height: 34px !important;
    font-size: 0.90rem !important;
    padding: 0 10px !important;
  }

  /* Prevent nav row looking “zoomed” by limiting max width */
  html[data-pp-nav="compact"] .quick-nav__inner,
  html[data-pp-nav="compact"] .pp-quicknav__inner{
    max-width: 980px !important;
    margin-inline: auto !important;
  }
}

/* =========================================================
   Nest Hub (1024×600): force full-height desktop shell
   Fixes bottom dead-space caused by calc(100vh - headerStack)
   ========================================================= */
@media (min-width: 1024px) and (max-width: 1100px) and (max-height: 650px){

  /* Use the "dynamic" viewport height so Chrome device emulation matches */
  html, body{
    height: 100% !important;
  }

  #root{
    height: 100dvh !important;
    min-height: 100dvh !important;
  }

  /* If your app uses a viewport-locked shell, force it to fill */
  .app-grid-layout{
    height: 100dvh !important;
    min-height: 100dvh !important;

    /* Ensure the grid actually stretches */
    align-content: stretch !important;
    align-items: stretch !important;
  }

  /* Make both columns stretch to fill height */
  .left-pane,
  .right-sidebar{
    height: auto !important;
    min-height: 0 !important;
    align-self: stretch !important;
  }

  /* Ensure the scroll happens inside the content areas (like PC) */
  .main-content-area{
    min-height: 0 !important;
    overflow-y: auto !important;
    overscroll-behavior: contain;
  }

  .right-sidebar .order-panel-container{
    min-height: 0 !important;
    overflow-y: auto !important;
    overscroll-behavior: contain;
  }
}

/* =========================================================
   Nest Hub (1024×600): make the app actually fill the viewport
   Fixes the bottom dead-space by forcing a flex-height chain.
   ========================================================= */
@media (min-width: 1024px) and (max-width: 1100px) and (max-height: 650px){

  /* If you previously set html font-size too low, bump slightly */
  html{
    font-size: 14px !important; /* was 13px -> this helps "too small" feeling */
  }

  html, body{
    height: 100% !important;
  }

  /* Root must be the height owner */
  #root{
    height: 100dvh !important;
    min-height: 100dvh !important;

    /* Critical: allow children to stretch */
    display: flex !important;
    flex-direction: column !important;
    min-height: 0 !important;
  }

  /* Treat header + quicknav as fixed-height rows */
  .pp-topnav,
  .quick-nav-container{
    flex: 0 0 auto !important;
  }

  /* Make the main layout consume remaining height */
  .app-grid-layout{
    flex: 1 1 auto !important;
    min-height: 0 !important;

    /* Don’t let old calc() heights cap it */
    height: auto !important;

    /* Better desktop proportions on 1024x600 */
    /* narrower menu, slightly slimmer sidebar */
    grid-template-columns: minmax(0, 1fr) clamp(300px, 33vw, 360px) !important;
  }

  /* Stop the menu area from getting too wide */
  .left-pane{
    max-width: 660px !important;
  }

  /* Center the left pane so it looks intentional */
  .left-pane{
    margin-left: auto !important;
    margin-right: auto !important;
  }

  /* Both columns must be allowed to shrink + stretch */
  .left-pane,
  .right-sidebar{
    min-height: 0 !important;
    align-self: stretch !important;

    /* Common fix: make each column a flex column */
    display: flex !important;
    flex-direction: column !important;
  }

  /* Scroll should happen inside the content areas, not the page */
  .main-content-area{
    flex: 1 1 auto !important;
    min-height: 0 !important;
    overflow-y: auto !important;
  }

  /* Menu grid: 2 columns on Nest Hub so cards aren't massive */
  .menu-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 10px !important;
  }

  /* If you have category “sections” with inner grids, cover that too */
  .menu-category .menu-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }

  .right-sidebar .order-panel-container{
    flex: 1 1 auto !important;
    min-height: 0 !important;
    overflow-y: auto !important;
  }
}

/* =========================================================
   Nest Hub (1024×600): force 2-up card grids (deals + regular)
   ========================================================= */
@media (min-width: 1024px) and (max-width: 1100px) and (max-height: 650px){

  /* 1) The main card grids (try all common containers) */
  .menu-grid,
  .menu-items-grid,
  .menu-list,
  .menu-items,
  .menu-cards,
  .pp-menu-grid{
    display: grid !important;
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 12px !important;
  }

  /* 2) Deals/Specials grids (often nested) */
  .specials-grid,
  .deals-grid,
  .combo-grid,
  .menu-category--specials .menu-grid,
  .menu-category--specials .menu-items-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }

  /* 3) Make sure each card can shrink within a grid cell */
  .menu-card,
  .product-card,
  .deal-card,
  .pp-card{
    width: 100% !important;
    max-width: 100% !important;
  }

  /* 4) Reduce “giant card” feel by tightening image height a touch */
  .menu-card img,
  .product-card img,
  .deal-card img{
    max-height: 170px !important;
    object-fit: cover !important;
  }

  /* ===============================
     Nest Hub: kill conflicting sticky
     =============================== */

  /* The header is sticky, so the right column MUST NOT be sticky on Hub */
  .right-sidebar{
    position: relative !important;
    top: auto !important;
  }

  /* This is the main conflict: global sticky + calc(100vh - 3rem) */
  .order-panel-container{
    position: relative !important;
    top: auto !important;
    height: auto !important;
    max-height: none !important;
  }

  /* Keep the order panel filling the right column and scrolling internally */
  .right-sidebar .order-panel-container{
    flex: 1 1 auto !important;
    min-height: 0 !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;
  }
}

/* =========================================================
   Nest Hub (1024×600): FINAL override (last-wins)
   - Force full-height 2-col shell (no page dead space)
   - Scroll inside columns, not the document
   - Force 2-up menu cards like Hub Max
   ========================================================= */
@media (min-width: 1000px) and (max-width: 1100px) and (max-height: 650px){

  /* Nest Hub: header must NOT go full-bleed. Keep it the same width as the menu/left column */
  .pp-topnav{
    width: 100% !important;
    max-width: 100% !important;
    margin-left: 0 !important;
    left: auto !important;
    right: auto !important;
  }

  /* Safety: if any full-bleed rule exists anywhere, neutralize it on Hub */
  .pp-topnav{
    transform: none !important;
  }

  /* Ensure the right column is not covered even if something spills */
  .right-sidebar{
    position: relative !important;
    z-index: 5 !important;
  }
  .left-pane{
    position: relative !important;
    z-index: 1 !important;
  }

  /* Nest Hub: kill sticky stacking (both wrappers) */
  .right-sidebar,
  .order-panel-container{
    position: relative !important;
    top: auto !important;
  }

  .pp-topnav{
    position: relative !important;
    top: auto !important;
    left: auto !important;
    right: auto !important;
  }

  /* Nest Hub: right panel must NOT sticky to viewport top (it will sit under header) */
  .right-sidebar{
    position: relative !important;
    top: auto !important;
  }

  /* Header overlays across the right column on Hub — push order panel down */
  .right-sidebar{
    box-sizing: border-box !important;

    /* Clear the sticky header height */
    padding-top: calc(var(--pp-topnav-h, var(--pp-hdr-h, 90px)) + 10px) !important;

    /* Keep the panel inside the viewport after adding padding-top */
    height: calc(100dvh - var(--pp-topnav-h, var(--pp-hdr-h, 90px)) ) !important;
  }

  .right-sidebar .order-panel-container{
    height: 100% !important;
  }

  html, body{
    height: 100% !important;
    overflow: hidden !important; /* kill document scroll */
  }

  #root{
    height: 100dvh !important;
    min-height: 100dvh !important;
  }

  .app-grid-layout{
    height: 100dvh !important;
    min-height: 100dvh !important;
    overflow: hidden !important;
    grid-template-rows: minmax(0, 1fr) !important;
    align-content: stretch !important;
    align-items: stretch !important;
  }

  .left-pane,
  .main-content-area,
  .right-sidebar,
  .right-sidebar .order-panel-container{
    min-height: 0 !important;
  }

  .main-content-area{
    height: 100% !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }

  .right-sidebar{
    height: 100% !important;
    overflow: hidden !important;
  }

  .right-sidebar .order-panel-container{
    height: 100% !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }

  /* Menu density: 2-up like Hub Max */
  .menu-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 12px !important;
  }

  /* Prevent any “special” card from spanning full width on Hub */
  .menu-item-card,
  .menu-item-card--mealdeal{
    grid-column: auto !important;
  }

  /* ---------- Density + readability tuning ---------- */

  /* Slightly reduce global type + padding, but keep it readable */
  .app-grid-layout{
    gap: 12px !important;
  }

  /* Give the order panel more real estate (less cramped) */
  .app-grid-layout{
    grid-template-columns: minmax(0, 1fr) 380px !important; /* was too tight */
  }

  /* Reduce “chrome” padding a bit so content fits */
  .topbar, .header, .topnav, .app-header{
    padding: 10px 12px !important;
  }

  /* Category chips: prevent truncation */
  .quicknav, .category-rail, .category-pills{
    gap: 8px !important;
  }
  .quicknav button, .category-rail button, .category-pills button,
  .quicknav .chip, .category-rail .chip, .category-pills .chip{
    padding: 8px 12px !important;
    font-size: 12px !important;
    line-height: 1.1 !important;
    white-space: nowrap !important; /* keep single-line */
  }

  /* Order panel: stop text clipping + allow wrap where needed */
  .right-sidebar{
    padding: 12px !important;
  }
  .right-sidebar .order-panel-container{
    padding: 12px !important;
  }
  .right-sidebar *{
    min-width: 0; /* critical for text + flex children */
  }

  /* Make the cart area actually usable: grow and scroll internally */
  .right-sidebar .order-panel-container{
    display: flex !important;
    flex-direction: column !important;
    gap: 12px !important;
  }

  /* This targets the big cart box (empty state / items list).
     If your class differs, apply these styles to that cart box wrapper. */
  .cart-empty-box,
  .cart-items,
  .cart-panel,
  .order-cart{
    flex: 1 1 auto !important;
    min-height: 220px !important;   /* ensures it’s not “one item tall” */
    overflow: auto !important;
  }

  /* Make the checkout button area not steal too much space */
  .checkout-bar,
  .checkout-footer,
  .place-order-bar{
    padding: 10px 12px !important;
  }

  /* Pickup/delivery rows: avoid ellipsis cutting info */
  .order-info-row,
  .pickup-row,
  .delivery-row{
    white-space: normal !important;
  }
  .order-info-row .value,
  .pickup-row .value,
  .delivery-row .value{
    white-space: normal !important;
    overflow: visible !important;
    text-overflow: clip !important;
  }

  /* FIX: order panel container has a global sticky + vh height — disable on Nest Hub */
  .order-panel-container{
    position: relative !important;
    top: auto !important;

    /* stop the global calc(100vh - 3rem) from fighting our layout */
    height: auto !important;
    max-height: none !important;
  }

  /* Let it become the scroll container inside the right column */
  .right-sidebar{
    position: relative !important; /* prevents sticky stacking weirdness */
    top: auto !important;
  }

  .right-sidebar .order-panel-container{
    flex: 1 1 auto !important;
    min-height: 0 !important;
    overflow-y: auto !important;
  }
}

/* =========================================================
   Nest Hub (1024×600): FINAL layout lock (last-wins)
   - Left column must NOT be max-width centered
   - Right column must start below the sticky header
   ========================================================= */
@media (min-width: 1024px) and (max-width: 1100px) and (max-height: 650px){

  /* 1) Undo the “centered left-pane” conflict */
  .left-pane{
    max-width: none !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  /* 2) Ensure header width matches the menu column (no full-bleed tricks) */
  .pp-topnav{
    width: 100% !important;
    max-width: 100% !important;
    margin-left: 0 !important;
  }

  /* 3) The real overlap fix: right sidebar must clear the sticky header */
  .right-sidebar{
    position: relative !important;
    top: auto !important;

    height: 100% !important;      /* fill the grid row */
    min-height: 0 !important;
    overflow: hidden !important;
    display: flex !important;
    flex-direction: column !important;
  }

  /* 4) Kill the inner sticky/vh sizing that fights our column height */
  .order-panel-container{
    position: relative !important;
    top: auto !important;
    height: auto !important;
    max-height: none !important;
  }

  .right-sidebar .order-panel-container{
    height: 100% !important;
    overflow-y: auto !important;
    min-height: 0 !important;
    -webkit-overflow-scrolling: touch;
  }

  /* --- Nest Hub: reduce “cut off” text + allow wrapping where needed --- */
  .quicknav button,
  .category-rail button,
  .category-pills button,
  .quicknav .chip,
  .category-rail .chip,
  .category-pills .chip{
    font-size: 12px !important;
    line-height: 1.05 !important;
    padding: 8px 12px !important;
  }

  .order-panel-container .row,
  .order-panel-container .order-row,
  .order-panel-container .pickup-row,
  .order-panel-container .delivery-row{
    font-size: 12px !important;
    line-height: 1.15 !important;
  }

  .order-panel-container .value,
  .order-panel-container .row .value,
  .order-panel-container .pickup-row .value,
  .order-panel-container .delivery-row .value{
    font-size: 12px !important;
    line-height: 1.15 !important;

    white-space: normal !important;
    overflow: visible !important;
    text-overflow: clip !important;
  }

  .order-panel-container .cart-empty,
  .order-panel-container .cart-empty * ,
  .order-panel-container .continue-btn,
  .order-panel-container .checkout-btn{
    font-size: 12px !important;
    line-height: 1.1 !important;
  }

  .order-panel-container .voucher,
  .order-panel-container .voucher *{
    font-size: 12px !important;
    line-height: 1.1 !important;
  }

  /* --- Nest Hub: force square logo in header --- */
  .pp-logo img,
  .brand-logo img,
  .logo img{
    content: url("/pwa-512.png") !important;
    height: 44px !important;
    width: 44px !important;
    object-fit: contain !important;
  }

  /* =========================================================
     Nest Hub: Order header row (YOUR ORDER + pills inline)
     ========================================================= */
  .order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .pp-orderHeaderRow{
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    gap: 10px !important;
    margin: 0 0 10px !important;
  }

  .order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .pp-orderHeaderRow .panel-title{
    margin: 0 !important;
    font-size: 1.05rem !important;
    letter-spacing: 0.10em !important;
    white-space: nowrap !important;
    line-height: 1 !important;
  }

  .order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .pp-orderTypeSwitch{
    padding: 0.25rem !important;
    border-radius: 999px !important;
    margin: 0 !important;
  }

  .order-panel-container .pp-orderTypeBtn{
    min-height: 34px !important;
    padding: 0.35rem 0.75rem !important;
    font-size: 0.78rem !important;
    letter-spacing: 0.08em !important;
    border-radius: 999px !important;
  }

  /* =========================================================
     Nest Hub: make pickup/delivery + voucher “modules” slimmer
     ========================================================= */
  .order-panel-container .info-box{
    padding: 10px 10px 8px !important;
    border-radius: 16px !important;
  }

  .info-box .pp-infoTop{
    padding-bottom: 8px !important;
  }
  .info-box .pp-infoBottom{
    gap: 6px !important;
  }
  .info-box .pp-infoTopLabel,
  .info-box .pp-infoBottomLabel{
    font-size: 12px !important;
  }

  .order-panel-container .voucher,
  .order-panel-container .voucher-row,
  .order-panel-container .pp-voucherRow,
  .order-panel-container .pp-voucher{
    padding: 10px !important;
    border-radius: 16px !important;
  }

  .order-panel-container input,
  .order-panel-container .pp-voucher input{
    min-height: 34px !important;
    font-size: 13px !important;
  }
}

/* =========================================================
   Nest Hub (1024x600): ultra-compact order panel (last-wins)
   ========================================================= */
@media (width: 1024px) and (height: 600px),
       (min-width: 1000px) and (max-width: 1100px) and (max-height: 650px){

  /* Right column overall padding tighter */
  .right-sidebar{
    padding: 10px !important;
  }

  /* The main order panel wrapper */
  .right-sidebar .order-panel-container{
    padding: 12px !important;
    border-radius: 18px !important;
    gap: 10px !important;
  }

  /* ===== Header row: title + segmented control inline ===== */
  .right-sidebar .pp-orderHeaderRow{
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    gap: 10px !important;
    margin: 0 0 8px !important;
  }

  .right-sidebar .pp-orderHeaderRow .panel-title{
    margin: 0 !important;
    font-size: 1.02rem !important;
    line-height: 1 !important;
    letter-spacing: 0.10em !important;
    white-space: nowrap !important;
  }

  /* segmented control container (tight like your reference image) */
  .right-sidebar .pp-orderTypeSwitch{
    margin: 0 !important;
    padding: 3px !important;
    border-radius: 999px !important;
  }

  /* buttons inside */
  .right-sidebar .pp-orderTypeBtn{
    min-height: 30px !important;
    padding: 6px 10px !important;
    font-size: 0.76rem !important;
    line-height: 1 !important;
    letter-spacing: 0.08em !important;
    border-radius: 999px !important;
  }

  /* ===== Compact the “Pickup from / Pickup time” module ===== */
  .right-sidebar .info-box{
    padding: 10px !important;
    border-radius: 16px !important;
  }
  .right-sidebar .info-box .pp-infoTop{
    padding-bottom: 8px !important;
  }
  .right-sidebar .info-box .pp-infoBottom{
    gap: 6px !important;
  }
  .right-sidebar .info-box .pp-infoTopLabel,
  .right-sidebar .info-box .pp-infoBottomLabel{
    font-size: 11.5px !important;
    line-height: 1.1 !important;
  }
  .right-sidebar .info-box .pp-infoTopValue,
  .right-sidebar .info-box .pp-infoBottomValue{
    font-size: 12.5px !important;
    line-height: 1.15 !important;
  }

  /* Change button slimmer */
  .right-sidebar .info-box button,
  .right-sidebar .info-box .pp-changeBtn{
    min-height: 30px !important;
    padding: 6px 10px !important;
    font-size: 12px !important;
    border-radius: 999px !important;
  }

  /* ===== Voucher module slimmer ===== */
  .right-sidebar .voucher,
  .right-sidebar .pp-voucher,
  .right-sidebar .voucher-row,
  .right-sidebar .pp-voucherRow{
    padding: 10px !important;
    border-radius: 16px !important;
  }

  .right-sidebar input,
  .right-sidebar .voucher input{
    min-height: 32px !important;
    font-size: 13px !important;
    padding: 6px 10px !important;
    border-radius: 12px !important;
  }

  /* ===== Cart area: reclaim space (less padding, more usable height) ===== */
  .right-sidebar .cart-empty,
  .right-sidebar .cart-panel,
  .right-sidebar .order-cart,
  .right-sidebar .cart-items{
    padding: 10px !important;
    border-radius: 16px !important;
  }

  .right-sidebar .cart-empty,
  .right-sidebar .cart-panel{
    min-height: 220px !important; /* so it doesn't become “one item tall” */
  }

  /* Checkout/footer bar slimmer */
  .right-sidebar .checkout-bar,
  .right-sidebar .checkout-footer,
  .right-sidebar .place-order-bar{
    padding: 10px !important;
    border-radius: 16px !important;
  }

  /* =========================================================
     Nest Hub: voucher dropdown like reference (compact + “Add Voucher” pill)
     ========================================================= */
  .right-sidebar .pp-voucherCard{
    padding: 10px !important;
    border-radius: 16px !important;
  }

  .right-sidebar .pp-voucherHeader{
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    gap: 10px !important;
  }

  .right-sidebar .pp-voucherTitle{
    font-size: 12px !important;
    line-height: 1.1 !important;
    font-weight: 700 !important;
  }

  .right-sidebar .pp-voucherHint{
    font-size: 11.5px !important;
    line-height: 1.1 !important;
    opacity: 0.75 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    max-width: 220px !important;
  }

  .right-sidebar .pp-voucherToggle{
    border-radius: 999px !important;
    padding: 6px 10px !important;
    min-height: 30px !important;
    font-size: 12px !important;
    line-height: 1 !important;
    white-space: nowrap !important;
  }

  .right-sidebar .pp-voucherBody{
    margin-top: 8px !important;
  }

  .right-sidebar .pp-voucherBody input,
  .right-sidebar .pp-voucherBody button{
    min-height: 32px !important;
    font-size: 13px !important;
    padding: 6px 10px !important;
    border-radius: 12px !important;
  }

  .right-sidebar details.pp-voucherCard > summary{
    list-style: none !important;
  }
  .right-sidebar details.pp-voucherCard > summary::-webkit-details-marker{
    display: none !important;
  }

  /* =========================================================
     Nest Hub: favour cart space + slimmer Continue button
     ========================================================= */

  /* Tighten the right column + panel padding (gives cart more room) */
  .right-sidebar{
    padding: 8px !important;
  }

  .right-sidebar .order-panel-container{
    padding: 10px !important;
    gap: 8px !important;
  }

  /* Slim down the top modules so cart gets more height */
  .right-sidebar .pp-orderHeaderRow{
    margin: 0 0 6px !important;
  }

  .right-sidebar .info-box{
    padding: 8px 10px !important;
  }

  .right-sidebar .pp-voucherCard,
  .right-sidebar .voucher,
  .right-sidebar .pp-voucher,
  .right-sidebar .voucher-row,
  .right-sidebar .pp-voucherRow{
    padding: 7px 9px !important;
  }

  /* Make cart area claim remaining space */
  .right-sidebar .cart-panel,
  .right-sidebar .order-cart,
  .right-sidebar .cart-items,
  .right-sidebar .cart-empty{
    flex: 1 1 auto !important;
    min-height: 260px !important;     /* increases visible cart area */
    padding: 8px 10px !important;
  }

  /* If your empty-state box has extra padding, tighten it */
  .right-sidebar .cart-empty *{
    line-height: 1.15 !important;
  }

  /* ===== Continue / checkout bar: slimmer ===== */
  .right-sidebar .checkout-bar,
  .right-sidebar .checkout-footer,
  .right-sidebar .place-order-bar{
    padding: 8px !important;
    border-radius: 14px !important;
  }

  /* The button itself */
  .right-sidebar .continue-btn,
  .right-sidebar .checkout-btn,
  .right-sidebar button.continue,
  .right-sidebar button.checkout{
    min-height: 34px !important;
    padding: 7px 10px !important;
    font-size: 12.5px !important;
    border-radius: 14px !important;
  }

  /* Reduce any extra wrapper padding around the button (common culprit) */
  .right-sidebar .checkout-bar > *,
  .right-sidebar .checkout-footer > *,
  .right-sidebar .place-order-bar > *{
    margin: 0 !important;
  }
}

/* =========================================================
   Nest Hub (1024×600): RIGHT PANEL COMPACT v3 (last-wins)
   - Cart gets the space (cart list becomes the scroller)
   - Less padding everywhere
   - Slim Continue button + container
   ========================================================= */
@media (min-width: 1024px) and (max-width: 1100px) and (max-height: 650px){

  /* Right column outer padding */
  .right-sidebar{
    padding: 8px !important;
  }

  /* This is the REAL desktop right-panel wrapper (see App.jsx orderPanelScrollClassName) */
  .right-sidebar .order-panel__scroll{
    height: 100% !important;
    min-height: 0 !important;

    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;

    padding: 10px !important;     /* tighter overall */
    overflow: hidden !important;  /* IMPORTANT: stop whole panel scrolling */
    border-radius: 18px !important;
  }

  /* Header row tighter */
  .right-sidebar .pp-orderHeaderRow{
    margin: 0 !important;
    gap: 8px !important;
  }
  .right-sidebar .pp-orderHeaderRow .panel-title{
    margin: 0 !important;
    font-size: 0.98rem !important;
    line-height: 1 !important;
  }

  /* Pickup/Delivery segmented control slimmer */
  .right-sidebar .pp-orderTypeSwitch{
    margin: 0 !important;
    padding: 3px !important;
    border-radius: 999px !important;
  }
  .right-sidebar .pp-orderTypeBtn{
    min-height: 30px !important;
    padding: 6px 10px !important;
    font-size: 0.76rem !important;
    line-height: 1 !important;
    border-radius: 999px !important;
  }

  /* Pickup/Delivery info module slimmer */
  .right-sidebar .info-box{
    padding: 8px 10px !important;
    border-radius: 16px !important;
  }

  /* Voucher slot slimmer (this wraps <VoucherDropdown /> in App.jsx) */
  .right-sidebar .pp-voucherSlot{
    margin: 0 !important;
  }

  /* Make the cart list the “main area” */
  .right-sidebar .cart-items-list{
    flex: 1 1 auto !important;
    min-height: 0 !important;
    overflow: auto !important;          /* cart scrolls, not whole panel */
    padding-right: 0.25rem !important;
  }

  /* Tighten items slightly */
  .right-sidebar .cart-item{
    padding: 0.55rem 0.15rem !important;
    font-size: 0.83rem !important;
  }

  /* Tighten totals + voucher + fee area */
  .right-sidebar .cart-total-section{
    flex: 0 0 auto !important;
    padding: 0 !important;
    margin-top: 4px !important;
  }

  /* Continue button container slimmer (covers common wrappers) */
  .right-sidebar .pp-mobileCartStickyCta,
  .right-sidebar .checkout-bar,
  .right-sidebar .checkout-footer,
  .right-sidebar .place-order-bar{
    padding: 6px !important;
    border-radius: 14px !important;
  }

  /* Continue button itself (your button class is place-order-button) */
  .right-sidebar .place-order-button{
    min-height: 34px !important;
    padding: 7px 10px !important;
    font-size: 12.5px !important;
    border-radius: 14px !important;
  }

  .right-sidebar .pp-ctaText{
    font-size: 12.5px !important;
    line-height: 1.1 !important;
  }
}

/* ========================================================
   Desktop menu layout (PC): no forced stretching.
   Footer should appear right after the menu ends.
   ======================================================== */
@media (min-width: 1024px){

  /* Main scroll container */
  .left-pane .main-content-area{
    overflow-y: auto !important;
    overflow-x: hidden !important;
  }

  /* Menu should NOT be a flex column that stretches */
  .left-pane .main-content-area .menu-content{
    display: block !important;
    min-height: auto !important;

    /* prevent nested scroll trapping */
    overflow: visible !important;

    /* small runway only (not a massive zone) */
    padding-bottom: 120px !important;
  }

  /* If you have any old runway pseudo-spacer, kill it on desktop */
  .left-pane .main-content-area .menu-content::after{
    content: none !important;
    display: none !important;
    height: 0 !important;
  }

  /* CRITICAL: do not stretch the last category */
  .left-pane .main-content-area .menu-category:last-child{
    flex: 0 0 auto !important;
  }
}

/* =========================================================
   PC ONLY (mouse): lock shell to viewport and push footer to bottom
   - fixes the "dead strip under footer"
   - does NOT apply to Nest Hub / Hub Max (touch/coarse pointer)
   ========================================================= */
@media (min-width: 1024px) and (hover: hover) and (pointer: fine){

  html, body{
    height: 100%;
    overflow: hidden; /* no document scroll on PC */
  }

  #root{
    height: 100%;
    overflow: hidden;
  }

  .pp-app-shell{
    height: 100dvh;     /* hard lock */
    min-height: 0;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  /* The grid must NOT enforce its own viewport height */
  .pp-app-shell .app-grid-layout{
    flex: 1 1 auto;
    min-height: 0 !important;
    height: auto !important;
    overflow: hidden;
  }

  .app-grid-layout{
    min-height: 0 !important; /* overrides earlier min-height:100dvh */
  }
}

@media (min-width: 1024px) and (hover: hover) and (pointer: fine){
  .site-footer{
    padding: 10px 0 12px !important;
    background: transparent !important;
    box-shadow: none !important;
  }

  .ashmore-lockup{
    padding: 8px 12px !important;
    border-radius: 14px !important;
  }
  .ashmore-lockup__mark{ width: 28px !important; height: 28px !important; }
  .ashmore-lockup__kicker{ font-size: 10px !important; letter-spacing: 0.22em !important; }
  .ashmore-lockup__brand{ font-size: 14px !important; letter-spacing: 0.12em !important; }
}

/* =========================================================
   PC (mouse): footer should be AFTER menu, not “stuck” in view,
   and never end up behind menu slab layers.
   ========================================================= */
@media (min-width: 1024px) and (hover: hover) and (pointer: fine){

  /* Don’t force-fill the column (that drags footer into the viewport) */
  .main-content-area__body{
    flex: 0 0 auto !important;
    min-height: auto !important;
  }

  /* Footer must be normal flow and visible */
  .main-content-area__body .site-footer{
    position: relative !important;  /* creates a clean stacking context */
    z-index: 5 !important;

    margin-top: 14px !important;
    padding: 10px 0 12px !important;

    border-top: 1px solid rgba(148,163,184,0.18) !important;
    background: transparent !important;
    box-shadow: none !important;

    inset: auto !important;
    transform: none !important;
  }

  /* Keep the lockup compact */
  .main-content-area__body .ashmore-lockup{
    padding: 8px 12px !important;
    border-radius: 14px !important;
  }
  .ashmore-lockup__mark{ width: 28px !important; height: 28px !important; }
  .ashmore-lockup__kicker{ font-size: 10px !important; letter-spacing: 0.22em !important; }
  .ashmore-lockup__brand{ font-size: 14px !important; letter-spacing: 0.12em !important; }

  /* Small runway so the footer appears after the menu ends (not a giant dead zone) */
  .menu-content{
    padding-bottom: 120px !important;
  }
}
/* =========================================================
   MOBILE: remove oversized dead space under menu
   - Keep only enough runway for the fixed "View Order" bar
   - Convert old ::after runway into an overlay (no layout height)
   ========================================================= */
@media (max-width: 900px){

  /* Match your existing mobile bottom bar spacing (body already uses ~76px) */
  :root{ --pp-mobile-bottombar-h: 76px; }

  /* Replace the massive runway with a tight one */
  .menu-content{
    padding-bottom: calc(var(--pp-mobile-bottombar-h) + env(safe-area-inset-bottom) + 28px) !important;
  }

  /* IMPORTANT: stop the old runway pseudo-element from adding height */
  .menu-content::after{
    position: absolute !important;
    inset: 0 !important;
    height: auto !important;      /* no 260px spacer */
    display: block !important;
    pointer-events: none;
  }
}
/* =========================================================
   MOBILE: kill the massive bottom void under menu
   Root cause: menu-content has HUGE padding-bottom + ::after height runway
   ========================================================= */
@media (max-width: 900px){

  /* 1) Tight runway: just enough to clear the fixed "VIEW ORDER" bar */
  html body .menu-content{
    padding-bottom: calc(76px + env(safe-area-inset-bottom) + 18px) !important;
  }

  /* 2) Stop the old ::after runway from adding layout height */
  html body .menu-content::after{
    content: "" !important;
    position: absolute !important;
    inset: 0 !important;
    display: block !important;
    height: auto !important;          /* prevents the old 260px spacer */
    pointer-events: none !important;
  }

  /* Optional: give dark mode a subtle vignette since ::after is now overlay */
  html body[data-theme="dark"] .menu-content::after{
    background:
      radial-gradient(900px 520px at 50% 120%, rgba(0,0,0,0.35), transparent 60%);
    opacity: 0.45;
  }
}

/* =========================================================
   PC (mouse): footer appears AFTER menu
   - main-content-area is the scroller
   - menu-content must NOT be a scroller
   ========================================================= */
@media (min-width: 1024px) and (hover: hover) and (pointer: fine){

  /* Main scroll container (you currently have a conflicting overflow: visible) */
  .left-pane .main-content-area{
    overflow-y: auto !important;
    overflow-x: hidden !important;
  }

  /* Kill nested scrolling (this is why you never reach the footer) */
  .menu-content{
    overflow: visible !important;
    height: auto !important;
    max-height: none !important;
  }

  /* Footer must be visible and in normal flow */
  .main-content-area .site-footer{
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;

    position: static !important;
    inset: auto !important;
    transform: none !important;

    margin-top: 14px !important;   /* NOT auto */
    padding: 10px 0 12px !important;
    border-top: 1px solid rgba(148,163,184,0.18) !important;
    background: transparent !important;
    box-shadow: none !important;
    z-index: 2 !important;
  }

  .site-footer .ashmore-lockup{
    position: static !important;
    inset: auto !important;
    transform: none !important;

    padding: 8px 12px !important;
    border-radius: 14px !important;
  }
}

/* =========================================================
   PC (mouse): real footer below menu (in-flow, compact)
   ========================================================= */
@media (hover: hover) and (pointer: fine){

  /* Make sure it can’t be hidden or turned into an overlay */
  .site-footer{
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;

    position: static !important;
    inset: auto !important;
    transform: none !important;

    width: 100% !important;
    margin: 16px 0 0 !important;
    padding: 10px 0 12px !important;

    border-top: 1px solid rgba(148,163,184,0.18) !important;
    background: transparent !important;
    box-shadow: none !important;
    z-index: 2 !important;
  }

  /* Compact the badge */
  .site-footer .ashmore-lockup{
    position: static !important;
    transform: none !important;
    inset: auto !important;

    padding: 8px 12px !important;
    border-radius: 14px !important;
  }
  .ashmore-lockup__mark{ width: 28px !important; height: 28px !important; }
  .ashmore-lockup__kicker{ font-size: 10px !important; letter-spacing: 0.22em !important; }
  .ashmore-lockup__brand{ font-size: 14px !important; letter-spacing: 0.12em !important; }

  /* Small runway so the footer isn't jammed into the last row */
  .menu-content{ padding-bottom: 120px !important; }
}

/* === FINAL: DESKTOP FOOTER AFTER MENU (do not duplicate) === */
@media (min-width: 1024px) and (hover: hover) and (pointer: fine){
  .left-pane .main-content-area .menu-content{
    display: block !important;
    min-height: auto !important;
    height: auto !important;
    overflow: visible !important;
    padding-bottom: 28px !important; /* small runway only */
  }

  /* Never stretch the last category (prevents a huge empty “footer zone”) */
  .left-pane .main-content-area .menu-category:last-child{
    flex: 0 0 auto !important;
  }

  /* Footer is now inside .menu-content */
  .left-pane .main-content-area .menu-content > .site-footer{
    margin-top: 18px !important;
  }

  /* Safety: footer must never become an overlay */
  .left-pane .main-content-area .site-footer{
    position: static !important;
    inset: auto !important;
    transform: none !important;
    background: transparent !important;
    box-shadow: none !important;
  }
}

/* Mobile: footer should appear right after menu (not 55vh below it) */
@media (max-width: 1023.98px){
  /* Remove the old pseudo “runway” spacer on mobile */
  .menu-content::after{
    content: none !important;
    display: none !important;
    height: 0 !important;
  }

  /* Keep just enough space for the fixed bottom nav */
  .menu-content{
    padding-bottom: calc(var(--pp-bottomnav-h) + env(safe-area-inset-bottom) + 24px) !important;
  }

  /* Compact footer so it doesn’t feel massive on mobile */
  .site-footer{
    padding: 12px 12px calc(12px + env(safe-area-inset-bottom)) !important;
    margin-top: 14px !important;
  }

  .ashmore-lockup{
    padding: 10px 14px !important;
    border-radius: 16px !important;
  }
  .ashmore-lockup__mark{ width: 30px !important; height: 30px !important; }
  .ashmore-lockup__kicker{ font-size: 10px !important; letter-spacing: 0.22em !important; }
  .ashmore-lockup__brand{ font-size: 14px !important; letter-spacing: 0.12em !important; }
}

/* =========================================================
   iPad / touch tablet mode: single-column layout + comfy sizing
   ========================================================= */
@media (hover: none) and (pointer: coarse) and (max-width: 1366px){
  /* kill desktop 2-column grid on touch tablets */
  .app-grid-layout{
    grid-template-columns: 1fr !important;
    grid-template-rows: minmax(0, 1fr) !important;
    column-gap: 0 !important;
  }

  /* keep the left pane behaving like tablet-mobile */
  .left-pane{
    min-height: 0 !important;
    height: 100% !important;
  }

  /* make sure main scroll works */
  .main-content-area{
    overflow-y: auto !important;
    overflow-x: hidden !important;
  }
}

/* =========================================================
   Light mode: View Order / cart FAB should be readable
   ========================================================= */
html[data-theme="light"] .pp-cart-fab,
body[data-theme="light"] .pp-cart-fab,
[data-theme="light"] .pp-cart-fab{
  background: rgba(255, 255, 255, 0.92) !important;
  border: 1px solid rgba(15, 23, 42, 0.14) !important;
  color: rgba(15, 23, 42, 0.92) !important;

  box-shadow:
    0 14px 34px rgba(2, 6, 23, 0.14),
    0 0 0 2px rgba(190, 242, 100, 0.18) !important;

  backdrop-filter: blur(10px) saturate(130%) !important;
  -webkit-backdrop-filter: blur(10px) saturate(130%) !important;
}

html[data-theme="light"] .pp-cart-fab:hover,
body[data-theme="light"] .pp-cart-fab:hover,
[data-theme="light"] .pp-cart-fab:hover{
  background: rgba(255, 255, 255, 0.98) !important;
  border-color: rgba(15, 23, 42, 0.20) !important;
  box-shadow:
    0 18px 44px rgba(2, 6, 23, 0.18),
    0 0 0 2px rgba(190, 242, 100, 0.24) !important;
}

html[data-theme="light"] .pp-cart-fab:active,
body[data-theme="light"] .pp-cart-fab:active,
[data-theme="light"] .pp-cart-fab:active{
  transform: translateY(1px) !important;
}

/* =========================================================
   Mobile: Edit Ingredients modal should be a proper full-screen sheet
   Scoped to #ingredients-modal only (safe).
   ========================================================= */
@media (max-width: 900px){

  /* Backdrop becomes full-screen, no padding gaps */
  #ingredients-modal.pp-modal-backdrop{
    padding: 0 !important;
    align-items: stretch !important;
    justify-content: stretch !important;
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
  }

  /* Modal becomes full-screen */
  #ingredients-modal .pp-modal{
    width: 100vw !important;
    max-width: none !important;

    height: 100dvh !important;
    max-height: 100dvh !important;

    border-radius: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;

    display: flex !important;
    flex-direction: column !important;
  }

  /* Sticky header with safe-area padding */
  #ingredients-modal .pp-modal-header{
    position: sticky !important;
    top: 0 !important;
    z-index: 5 !important;

    padding: calc(env(safe-area-inset-top) + 12px) 14px 12px !important;
    border-bottom: 1px solid var(--line, var(--border-color)) !important;
  }

  #ingredients-modal .pp-modal-title{
    font-size: 1.05rem !important;
    font-weight: 950 !important;
    color: var(--text-primary) !important;
  }

  /* Scroll body fills remaining space */
  #ingredients-modal .pp-modal-body{
    flex: 1 1 auto !important;
    min-height: 0 !important;

    max-height: none !important;
    padding: 12px 12px 14px !important;

    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  /* Make ingredient rows easier to tap */
  #ingredients-modal .pp-option-row{
    padding: 0.85rem 0.9rem !important;
    border-radius: 14px !important;
    gap: 0.9rem !important;
  }

  #ingredients-modal input[type="checkbox"]{
    width: 22px !important;
    height: 22px !important;
    accent-color: var(--brand-neon-green);
  }

  /* Ensure the grid stays single-column on mobile */
  #ingredients-modal .pp-options-grid{
    grid-template-columns: 1fr !important;
    gap: 0.65rem !important;
  }

  /* Sticky footer with safe-area */
  #ingredients-modal .pp-modal-footer{
    position: sticky !important;
    bottom: 0 !important;
    z-index: 6 !important;

    padding: 10px 12px calc(10px + env(safe-area-inset-bottom)) !important;
    border-top: 1px solid var(--line, var(--border-color)) !important;

    background: color-mix(in srgb, var(--pp-surface, var(--panel)) 92%, transparent) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);

    gap: 10px !important;
  }

  /* Button row becomes a 2-column grid */
  #ingredients-modal .pp-modal-footer > div{
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 10px !important;
    justify-content: stretch !important;
  }

  #ingredients-modal .pp-modal-footer .pp-btn{
    width: 100% !important;
    min-height: 46px !important;
    padding: 0.85rem 0.9rem !important;
  }

  #ingredients-modal .pp-disclaimer{
    margin-top: 0 !important;
    font-size: 0.78rem !important;
    line-height: 1.25 !important;
    opacity: 0.72 !important;
    text-align: left !important;
  }
}

/* =========================================================
   Mobile: make disclaimer text small + 1 line (all editors)
   Applies to: Edit Ingredients, Meal Deal builder, Half&Half editor
   ========================================================= */
@media (max-width: 900px){

  /* General disclaimer treatment (covers all the modals/editors) */
  .pp-disclaimer{
    font-size: 0.70rem !important;
    line-height: 1.1 !important;

    /* 1-row ideally */
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;

    margin-top: 6px !important;
    opacity: 0.72 !important;
  }

  /* If any footer container centers text, keep it tidy */
  .pp-modal-footer .pp-disclaimer{
    text-align: left !important;
    max-width: 100% !important;
  }
}

/* =========================================================
   Touch devices: disable "sticky hover" in Half & Half editor
   iOS can keep :hover states while/after scrolling.
   ========================================================= */
@media (hover: none) and (pointer: coarse){

  /* Remove tap highlight and prevent hover visuals from sticking */
  .pp-halfhalf-panel .pp-hh-actionBtn,
  .pp-halfhalf-panel .pp-hh-qtyBtn,
  .pp-halfhalf-panel .pp-hh-gfToggle,
  .pp-halfhalf-panel .pp-hh-pickCard,
  .pp-halfhalf-panel .pp-halfhalf-option,
  .pp-halfhalf-panel .pp-halfhalf-continueRow > button,
  .pp-halfhalf-panel .pp-halfhalf-cta .place-order-button{
    -webkit-tap-highlight-color: transparent;
  }

  /* Neutralize hover effects (transform/shadow/filter) */
  .pp-halfhalf-panel .pp-hh-actionBtn:hover,
  .pp-halfhalf-panel .pp-hh-qtyBtn:hover,
  .pp-halfhalf-panel .pp-hh-gfToggle:hover,
  .pp-halfhalf-panel .pp-hh-pickCard:hover,
  .pp-halfhalf-panel .pp-halfhalf-option:hover,
  .pp-halfhalf-panel .pp-halfhalf-continueRow > button:hover,
  .pp-halfhalf-panel .pp-halfhalf-cta .place-order-button:hover{
    transform: none !important;
    box-shadow: none !important;
    filter: none !important;
  }
}

/* =========================================================
   Mobile: Edit Ingredients modal should be a proper full-screen sheet
   Scoped to #ingredients-modal only (safe).
   ========================================================= */
@media (max-width: 900px){

  /* Backdrop becomes full-screen, no padding gaps */
  #ingredients-modal.pp-modal-backdrop{
    padding: 0 !important;
    align-items: stretch !important;
    justify-content: stretch !important;
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
  }

  /* Modal becomes full-screen */
  #ingredients-modal .pp-modal{
    width: 100vw !important;
    max-width: none !important;

    height: 100dvh !important;
    max-height: 100dvh !important;

    border-radius: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;

    display: flex !important;
    flex-direction: column !important;
  }

  /* Sticky header with safe-area padding */
  #ingredients-modal .pp-modal-header{
    position: sticky !important;
    top: 0 !important;
    z-index: 5 !important;

    padding: calc(env(safe-area-inset-top) + 12px) 14px 12px !important;
    border-bottom: 1px solid var(--line, var(--border-color)) !important;
  }

  #ingredients-modal .pp-modal-title{
    font-size: 1.05rem !important;
    font-weight: 950 !important;
    color: var(--text-primary) !important;
  }

  /* Scroll body fills remaining space */
  #ingredients-modal .pp-modal-body{
    flex: 1 1 auto !important;
    min-height: 0 !important;

    max-height: none !important;
    padding: 12px 12px 14px !important;

    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  /* Make ingredient rows easier to tap */
  #ingredients-modal .pp-option-row{
    padding: 0.85rem 0.9rem !important;
    border-radius: 14px !important;
    gap: 0.9rem !important;
  }

  #ingredients-modal input[type="checkbox"]{
    width: 22px !important;
    height: 22px !important;
    accent-color: var(--brand-neon-green);
  }

  /* Ensure the grid stays single-column on mobile */
  #ingredients-modal .pp-options-grid{
    grid-template-columns: 1fr !important;
    gap: 0.65rem !important;
  }

  /* Sticky footer with safe-area */
  #ingredients-modal .pp-modal-footer{
    position: sticky !important;
    bottom: 0 !important;
    z-index: 6 !important;

    padding: 10px 12px calc(10px + env(safe-area-inset-bottom)) !important;
    border-top: 1px solid var(--line, var(--border-color)) !important;

    background: color-mix(in srgb, var(--pp-surface, var(--panel)) 92%, transparent) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);

    gap: 10px !important;
  }

  /* Button row becomes a 2-column grid */
  #ingredients-modal .pp-modal-footer > div{
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 10px !important;
    justify-content: stretch !important;
  }

  #ingredients-modal .pp-modal-footer .pp-btn{
    width: 100% !important;
    min-height: 46px !important;
    padding: 0.85rem 0.9rem !important;
  }

  #ingredients-modal .pp-disclaimer{
    margin-top: 0 !important;
    font-size: 0.78rem !important;
    line-height: 1.25 !important;
    opacity: 0.72 !important;
    text-align: left !important;
  }
}
/*
What you’ll get

Modal fits the phone perfectly (no chopped edges)

Header + footer always visible

Body scroll is smooth

Bigger tap targets and readable layout
*/

/* =========================================================
   Mobile: Edit Ingredients modal should be a proper full-screen sheet
   Scoped to #ingredients-modal only (safe).
   ========================================================= */
@media (max-width: 900px){

  /* Backdrop becomes full-screen, no padding gaps */
  #ingredients-modal.pp-modal-backdrop{
    padding: 0 !important;
    align-items: stretch !important;
    justify-content: stretch !important;
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
  }

  /* Modal becomes full-screen */
  #ingredients-modal .pp-modal{
    width: 100vw !important;
    max-width: none !important;

    height: 100dvh !important;
    max-height: 100dvh !important;

    border-radius: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;

    display: flex !important;
    flex-direction: column !important;
  }

  /* Sticky header with safe-area padding */
  #ingredients-modal .pp-modal-header{
    position: sticky !important;
    top: 0 !important;
    z-index: 5 !important;

    padding: calc(env(safe-area-inset-top) + 12px) 14px 12px !important;
    border-bottom: 1px solid var(--line, var(--border-color)) !important;
  }

  #ingredients-modal .pp-modal-title{
    font-size: 1.05rem !important;
    font-weight: 950 !important;
    color: var(--text-primary) !important;
  }

  /* Scroll body fills remaining space */
  #ingredients-modal .pp-modal-body{
    flex: 1 1 auto !important;
    min-height: 0 !important;

    max-height: none !important;
    padding: 12px 12px 14px !important;

    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  /* Make ingredient rows easier to tap */
  #ingredients-modal .pp-option-row{
    padding: 0.85rem 0.9rem !important;
    border-radius: 14px !important;
    gap: 0.9rem !important;
  }

  #ingredients-modal input[type="checkbox"]{
    width: 22px !important;
    height: 22px !important;
    accent-color: var(--brand-neon-green);
  }

  /* Ensure the grid stays single-column on mobile */
  #ingredients-modal .pp-options-grid{
    grid-template-columns: 1fr !important;
    gap: 0.65rem !important;
  }

  /* Sticky footer with safe-area */
  #ingredients-modal .pp-modal-footer{
    position: sticky !important;
    bottom: 0 !important;
    z-index: 6 !important;

    padding: 10px 12px calc(10px + env(safe-area-inset-bottom)) !important;
    border-top: 1px solid var(--line, var(--border-color)) !important;

    background: color-mix(in srgb, var(--pp-surface, var(--panel)) 92%, transparent) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);

    gap: 10px !important;
  }

  /* Button row becomes a 2-column grid */
  #ingredients-modal .pp-modal-footer > div{
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 10px !important;
    justify-content: stretch !important;
  }

  #ingredients-modal .pp-modal-footer .pp-btn{
    width: 100% !important;
    min-height: 46px !important;
    padding: 0.85rem 0.9rem !important;
  }

  #ingredients-modal .pp-disclaimer{
    margin-top: 0 !important;
    font-size: 0.78rem !important;
    line-height: 1.25 !important;
    opacity: 0.72 !important;
    text-align: left !important;
  }
}

/* Mobile: make the “Removing ingredients…” note take way less space */
@media (max-width: 900px){
  #ingredients-modal .pp-disclaimer{
    margin-top: 6px !important;
    font-size: 0.70rem !important;
    line-height: 1.15 !important;
    opacity: 0.68 !important;
    text-align: left !important;

    /* Clamp the message so it doesn't eat the modal */
    display: -webkit-box !important;
    -webkit-box-orient: vertical !important;
    -webkit-line-clamp: 2 !important;
    overflow: hidden !important;
  }
}

/* Very small phones: clamp to 1 line */
@media (max-width: 420px){
  #ingredients-modal .pp-disclaimer{
    -webkit-line-clamp: 1 !important;
  }
}
