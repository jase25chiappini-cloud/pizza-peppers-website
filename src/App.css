/* ===============================
   Pizza Peppers — App.css (clean)
   =============================== */

/* 1) Design tokens */
/* =========================================================
   PP Theme Tokens (single source of truth)
   DO NOT duplicate these blocks elsewhere.
   ========================================================= */
:root {
  --font-heading: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Inter, Roboto, Arial, sans-serif;
  --font-body: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Inter, Roboto, Arial, sans-serif;

  --brand-neon-green: #bef264;
  --brand-pink: #fb7185;

  --radius-lg: 14px;
  --radius-xl: 18px;

  --shadow-card: 0 12px 28px rgba(0,0,0,0.18);
  --shadow-float: 0 18px 48px rgba(0,0,0,0.26);
  --shadow-modal: 0 24px 60px rgba(0,0,0,0.35);

  --focus-ring: 0 0 0 3px rgba(190,242,100,0.28);

  /* legacy accents used elsewhere */
  --accent: #7aa2ff;
  --accent-2: var(--brand-neon-green);
  --danger: #ef4444;

  /* shared PP surfaces */
  --pp-primary: var(--brand-green-cta, #16a34a);
  --pp-primary-strong: #15803d;
  --pp-surface: #111315;
  --pp-surface-2: #171a1d;
  --pp-border: #262b31;
  --pp-text: var(--text-light, #ffffff);
  --pp-text-dim: var(--text-medium, #9ca3af);
  --pp-focus: var(--brand-neon-green);

  --glow-neon: 0 0 5px var(--brand-neon-green), 0 0 10px var(--brand-neon-green), 0 0 15px var(--brand-neon-green);
  --glow-pink: 0 0 5px var(--brand-pink), 0 0 10px var(--brand-pink);

  /* generic surfaces */
  --surface: var(--background-light, #ffffff);
  --card-bg: var(--surface);
  --card-bg-alt: var(--background-dark, #0b0f14);
}

/* =========================================================
   Add-ons modal (ItemDetailPanel)
   Uses existing theme variables — avoid duplicates elsewhere.
   ========================================================= */

.pp-modal-backdrop {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
  background: rgba(6, 10, 14, 0.85);
  backdrop-filter: blur(2px);
}

[data-theme='light'] .pp-modal-backdrop {
  background: rgba(15,23,42,0.35);
}

.pp-modal {
  max-width: 760px;
  width: 90vw;
  max-height: 72vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  position: relative;

  background: var(--pp-surface);
  color: var(--text-primary);
  border: 1px solid var(--pp-border);
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(0,0,0,.6);
  padding: 1.9rem;
}

[data-theme='light'] .pp-modal {
  background: #ffffff;
  box-shadow: 0 20px 60px rgba(15,23,42,0.16);
}
[data-theme='dark'] .pp-modal {
  background: var(--pp-surface);
}

.pp-modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;

  padding: 0 0 1rem 0;
  border-bottom: 1px solid var(--line, var(--border-color));
  background: var(--pp-surface, var(--panel));
}

.pp-modal-title {
  font-family: var(--font-heading);
  font-size: 1.5rem;
  font-weight: 700;
  letter-spacing: 0.2px;
  color: var(--brand-neon-green);
}

.pp-modal-close {
  border: none;
  background: var(--border-color);
  color: var(--text-light);
  cursor: pointer;
  font-size: 1.2rem;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 0.5rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s;
}
.pp-modal-close:hover { background: #4b5563; }

.pp-modal-body {
  padding: 1rem 0.25rem;
  max-height: 68vh;
  overflow-y: auto;
  overflow-x: hidden;
  background: var(--pp-surface, var(--panel));
  color: var(--text-primary);
}

.pp-addon-groups {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.pp-addon-group {
  margin-top: 0.85rem;
  padding: 0.85rem;
  border-radius: 18px;
  border: 1px solid var(--line, var(--border-color));
  background: var(--pp-surface-2, var(--panel));
}
[data-theme='light'] .pp-addon-group {
  background: #f9fafb;
  border-color: #e5e7eb;
}

.pp-addon-title {
  margin: 0 0 0.6rem;
  font-weight: 900;
  color: var(--text-primary);
}
.pp-addon-group__title{
  margin:0 0 .5rem 0;
  font-size:.95rem;
  letter-spacing:.3px;
  color: var(--pp-accent, #b5f76d);
}

.pp-options-grid {
  display: grid;
  grid-template-columns: repeat( auto-fill, minmax(180px, 1fr) );
  gap: 0.75rem;
}

.pp-grid-addons {
  grid-template-columns: 1fr;
}

@media (min-width: 520px) {
  .pp-grid-addons {
    grid-template-columns: 1fr 1fr;
  }
}

.pp-option {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;

  padding: 0.85rem;
  border-radius: 12px;

  background: var(--pp-surface-2, var(--panel));
  color: var(--pp-text);
  border: 1px solid var(--pp-border);
  transition: background 160ms ease, border-color 160ms ease, transform 160ms ease;
}

.pp-option:hover {
  background: var(--pp-surface, var(--panel));
  border-color: rgba(190,242,100,0.30);
  transform: translateY(-1px);
}

.pp-option-name {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 0.6rem;
  font-weight: 800;
  color: var(--text-primary);
}

.pp-option-price {
  font-weight: 900;
  color: var(--text-medium);
  font-variant-numeric: tabular-nums;
}

.pp-option input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--brand-neon-green, #bef264);
}

.pp-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;

  padding: 0.25rem 0.6rem;
  border-radius: 999px;

  background: rgba(190,242,100,0.14);
  border: 1px dashed var(--pp-border);
  color: var(--pp-text-dim);
  font-size: 0.85rem;
  font-weight: 800;
}

.pp-modal-footer {
  padding: 0.9rem 1.25rem;
  border-top: 1px solid var(--line, var(--border-color));
  background: var(--pp-surface, var(--panel));
  color: var(--text-light);
  display: flex;
  gap: 0.6rem;
  justify-content: flex-end;
}

/* =========================================================
   Add-ons modal upgrade (scoped to avoid conflicts)
   Replace/merge into your existing #addons-modal rules.
   ========================================================= */

#addons-modal.pp-modal-backdrop {
  padding: 1.25rem;
}

#addons-modal .pp-modal {
  width: min(980px, calc(100vw - 2rem));
  max-height: min(86vh, 820px);
  border-radius: 24px;
  overflow: hidden;

  background: linear-gradient(
    180deg,
    var(--pp-surface, var(--panel)) 0%,
    var(--pp-surface-2, var(--panel)) 140%
  );

  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-modal);
  color: var(--text-primary);
}

#addons-modal .pp-modal-header {
  position: sticky;
  top: 0;
  z-index: 5;

  padding: 0.95rem 1.05rem;
  border-bottom: 1px solid var(--line, var(--border-color));

  background: linear-gradient(
    180deg,
    var(--pp-surface, var(--panel)) 0%,
    var(--pp-surface-2, var(--panel)) 140%
  );
}

#addons-modal .pp-modal-title {
  font-size: 1.05rem;
  font-weight: 950;
  letter-spacing: 0.2px;
  color: var(--text-primary);
}

#addons-modal .pp-modal-body {
  padding: 1rem 1rem 1.1rem;
  overflow: auto;
  color: var(--text-primary);
}

#addons-modal .pp-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.25rem 0.65rem;
  border-radius: 999px;
  font-weight: 850;
  font-size: 0.82rem;

  background: rgba(190, 242, 100, 0.14);
  border: 1px solid rgba(190, 242, 100, 0.28);
  color: var(--text-primary);
}

#addons-modal .pp-addon-groups {
  display: grid;
  gap: 0.9rem;
}

#addons-modal .pp-addon-group {
  padding: 0.95rem;
  border-radius: 18px;
  border: 1px solid var(--line, var(--border-color));

  background: linear-gradient(
    180deg,
    var(--pp-surface-2, var(--panel)) 0%,
    var(--pp-surface, var(--panel)) 140%
  );
}

#addons-modal .pp-addon-title {
  margin: 0 0 0.65rem;
  font-weight: 950;
  font-size: 0.85rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--text-primary);
}

/* if you kept className="capitalize" on the title, scope it here */
#addons-modal .capitalize {
  text-transform: capitalize;
  letter-spacing: 0.02em;
  font-size: 0.95rem;
}

#addons-modal .pp-addon-grid {
  display: grid;
  gap: 0.6rem;
  grid-template-columns: 1fr;
}

@media (min-width: 560px) {
  #addons-modal .pp-addon-grid {
    grid-template-columns: 1fr 1fr;
  }
}

#addons-modal .pp-option {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.85rem;

  padding: 0.7rem 0.8rem;
  border-radius: 14px;

  background: var(--pp-surface, var(--panel));
  border: 1px solid var(--border-color);
  color: var(--text-primary);

  box-shadow: 0 8px 18px rgba(0,0,0,0.08);
  transition: transform 140ms ease, border-color 140ms ease, background 140ms ease, box-shadow 140ms ease;
}

#addons-modal .pp-option:hover {
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.35);
  background: var(--pp-surface-2, var(--panel));
  box-shadow: 0 14px 30px rgba(0,0,0,0.14);
}

/* highlight selected option (modern browsers) */
#addons-modal .pp-option:has(input[type="checkbox"]:checked) {
  border-color: rgba(190,242,100,0.55);
  background: rgba(190,242,100,0.10);
}

#addons-modal .pp-option-name {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 0.7rem;
  width: 100%;

  font-weight: 900;
  letter-spacing: 0.15px;
  color: var(--text-primary);
}

#addons-modal .pp-option-price {
  flex: 0 0 auto;
  font-weight: 950;
  color: var(--text-medium);
  font-variant-numeric: tabular-nums;
}

#addons-modal .pp-option-desc {
  margin-top: 0.15rem;
  font-size: 0.85rem;
  line-height: 1.25;
  color: var(--pp-text-dim, var(--text-medium));
}

#addons-modal .pp-option input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--brand-neon-green, #bef264);
}

#addons-modal .pp-modal-footer {
  position: sticky;
  bottom: 0;
  z-index: 5;

  padding: 0.9rem 1rem;
  border-top: 1px solid var(--line, var(--border-color));
  background: var(--pp-surface, var(--panel));
}

#addons-modal .pp-btn {
  border-radius: 14px;
  border: 1px solid var(--border-color);
  padding: 0.55rem 0.85rem;
  font-weight: 900;
}

#addons-modal .pp-btn.pp-btn-primary {
  background: var(--brand-neon-green, #bef264);
  color: #0b1220;
  border-color: rgba(0,0,0,0.12);
}

#addons-modal .pp-btn.pp-btn-subtle {
  background: transparent;
  color: var(--text-primary);
}

#addons-modal .pp-disclaimer {
  margin-top: 0.55rem;
  font-size: 0.8rem;
  color: var(--pp-text-dim, var(--text-medium));
}

body[data-theme="dark"] {
  color-scheme: dark;
  --background: #0b0f14;
  --background-dark: #0b0f14;
  --background-light: #0b0f14;
  --pp-surface: #0f172a;
  --pp-surface-2: #111c33;
  --panel: #0f172a;
  --surface: #0f172a;

  --text-primary: #eaf2ff;
  --text-medium: #9fb1c7;
  --pp-text-dim: #7e93aa;
  --text-light: #ffffff;

  --border-color: rgba(255,255,255,0.10);
  --line: rgba(255,255,255,0.08);

  --shadow-card: 0 12px 30px rgba(0,0,0,0.40);
  --shadow-float: 0 18px 52px rgba(0,0,0,0.55);
  --shadow-modal: 0 24px 64px rgba(0,0,0,0.60);

  --focus-ring: 0 0 0 3px rgba(190,242,100,0.30);
}

body[data-theme="light"] {
  color-scheme: light;
  --background: #f6f8fc;
  --background-light: #f6f8fc;
  --background-dark: #f6f8fc;
  --pp-surface: #ffffff;
  --pp-surface-2: #f1f5fb;
  --panel: #ffffff;
  --surface: #ffffff;

  --text-primary: #0b1220;
  --text-medium: #3d4c5f;
  --pp-text-dim: #637489;
  --text-light: #0b1220;

  --border-color: rgba(15,23,42,0.12);
  --line: rgba(15,23,42,0.10);

  --shadow-card: 0 12px 26px rgba(2,6,23,0.10);
  --shadow-float: 0 18px 44px rgba(2,6,23,0.14);
  --shadow-modal: 0 24px 60px rgba(2,6,23,0.18);

  --focus-ring: 0 0 0 3px rgba(15,23,42,0.14);
}

/* 2) Base */
html { scroll-behavior: smooth; }

.app-container {
  display: grid;
  grid-template-columns: 1fr; /* mobile default */
  gap: 1.5rem;
  padding: 1.5rem;
}
@media (min-width: 1024px) {
  .app-container { grid-template-columns: 65% 35%; }
}

.page-container {
  padding: 2rem;
  max-width: 600px;
  margin: auto;
}
.form-input {
  width: 100%;
  padding: 0.75rem;
  margin-bottom: 1rem;
  border-radius: 0.5rem;
  border: 1px solid var(--border-color);
  background-color: var(--background-light);
  color: var(--text-light);
  font-size: 1rem;
  box-sizing: border-box;
}

/* 8) Navbar */
.navbar {
  padding: 0.4rem 1.5rem;
  position: sticky;
  top: 0;
  z-index: 20;
  border-bottom: 1px solid var(--border-color);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}

/* Dark: aggressive glass bar */
[data-theme='dark'] .navbar {
  background-color: rgba(15,23,42,0.96);
  box-shadow: 0 20px 50px rgba(0,0,0,0.9);
  border-bottom-color: rgba(15,23,42,0.95);
}

/* Light: crisp white bar */
[data-theme='light'] .navbar {
  background-color: rgba(255,255,255,0.975);
  box-shadow: 0 16px 40px rgba(15,23,42,0.14);
  border-bottom-color: rgba(209,213,219,0.9);
}

.navbar-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logo-link { text-decoration: none; display: flex; align-items: center; }
.logo-image { height: 3.5rem; margin-right: 1rem; }

.nav-links a {
  color: var(--text-light);
  text-decoration: none;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  transition: color 0.18s ease;
}
.nav-links a:first-child { margin-right: 1.5rem; }

.nav-links a:hover {
  color: var(--brand-pink);
}

*{box-sizing:border-box}
html,body{height:100%}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
code,pre{font-family:ui-monospace,SFMono-Regular,Consolas,Menlo,monospace}
pre{background:#0f1115;border:1px solid var(--border);padding:12px;border-radius:10px;overflow:auto;max-height:40vh}
hr{border:none;border-top:1px solid var(--border);margin:16px 0}

/* Layout containers */
.ui-wrap{max-width:980px;margin:24px auto;padding:0 16px}
.card{background:var(--panel);border:1px solid var(--border);border-radius:16px;box-shadow:0 6px 24px rgba(0,0,0,.3);overflow:hidden}
.card-hd{display:flex;align-items:center;gap:12px;padding:16px 18px;border-bottom:1px solid var(--border)}
.card-hd h2{margin:0;font-size:18px;font-weight:650}
.card-bd{padding:18px}
.card-ft{display:flex;justify-content:space-between;align-items:center;gap:12px;padding:14px 18px;border-top:1px solid var(--border)}

/* Readable key-value rows */
.kv{display:grid;grid-template-columns:220px 1fr;gap:10px 16px;margin:8px 0}
.kv label{color:var(--muted)}
.kv .val{color:var(--text)}

/* Buttons */
.btn{appearance:none;display:inline-flex;align-items:center;justify-content:center;gap:10px;border:1px solid transparent;border-radius:12px;padding:12px 16px;font-weight:650;cursor:pointer;transition:transform .06s ease,box-shadow .2s ease}
.btn:focus{outline:none;box-shadow:0 0 0 4px rgba(122,162,255,.25)}
.btn:active{transform:translateY(1px)}
.btn--primary{background:var(--accent);color:#0b1020}
.btn--primary:hover{filter:saturate(1.1)}
.btn--success{background:var(--accent-2);color:#04210f}
.btn--ghost{background:transparent;border-color:var(--border);color:var(--text)}
.btn--danger{background:var(--danger);color:#230000}

/* Sticky action bar so the button is always visible */
.sticky-actions{position:sticky;bottom:0;background:linear-gradient(180deg,transparent,rgba(21,23,26,.9) 30%);backdrop-filter:blur(6px)}
.sticky-actions .card-ft{border-top-color:#2a2f35}

/* Icon circle for quick scanning */
.ico{width:28px;height:28px;border-radius:50%;display:grid;place-items:center;background:#0f1115;border:1px solid var(--border);color:var(--accent)}

/* Sections */
.section-title{margin:12px 0 6px;font-weight:700;color:#cbd5e1}
.subtle{color:var(--muted)}

/* Big, unmistakable primary action */
.cta{font-size:16px;padding:14px 20px;border-radius:14px}

/* === Shared UI polish (from index.css) === */
.pp-btn {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:.4rem;
  padding:.9rem 1rem;
  border-radius:.75rem;
  border:1px solid var(--border-color);
  cursor:pointer;
  font-weight:700;
  background:var(--background-dark);
  color:var(--text-light);
  transition:opacity .2s ease, transform .2s ease, box-shadow .15s ease, background .15s ease;
}
.pp-btn:hover { background: var(--border-color); opacity: 0.95; transform: translateY(-1px); }
.pp-btn:active { transform:translateY(0); }
.pp-btn:focus-visible{
  outline:2px solid var(--pp-focus);
  outline-offset:2px;
}

.pp-btn-primary{
  border-color:transparent;
  background:linear-gradient(180deg, var(--pp-primary), var(--pp-primary-strong));
  color:white;
  box-shadow:0 8px 30px rgba(22,163,74,.35);
}
.pp-btn-primary:hover{
  box-shadow:0 10px 40px rgba(22,163,74,.5);
}
.pp-btn-subtle{
  background:transparent;
}

.pp-btn-secondary{
  background:linear-gradient(180deg, var(--pp-surface-2), var(--pp-surface));
  border:1px solid var(--pp-border);
  color:var(--pp-text);
}
.pp-btn-full{
  width:100%;
  min-height:44px;
}

.pp-option-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.75rem;
  padding:.5rem .75rem;
  border-radius:.5rem;
  background: rgba(255,255,255,0.03);
  border:1px solid rgba(255,255,255,0.06);
}
[data-theme='light'] .pp-option-row {
  background:#f9fafb;
  border-color:rgba(15,23,42,0.08);
}
.pp-option-row + .pp-option-row { margin-top:.5rem; }

.pp-disclaimer{
  font-size:0.8rem;
  opacity:0.7;
  margin-top:6px;
}

.pp-size-row{
  display:flex;
  flex-wrap:wrap;
  gap:.5rem;
  margin-bottom:.5rem;
}
.pp-size-chip{
  display:flex;
  align-items:center;
  gap:.45rem;
  padding:.4rem .75rem;
  border:1px solid var(--pp-border);
  border-radius:.6rem;
  cursor:pointer;
  background:rgba(255,255,255,0.02);
  transition:border-color .15s ease, background .15s ease;
}
.pp-size-chip--active{
  border-color:var(--pp-focus);
  box-shadow:0 0 0 1px var(--pp-focus);
}
.pp-size-chip--disabled{
  opacity:.5;
  cursor:not-allowed;
}
.pp-size-chip input{
  accent-color:var(--pp-focus);
}
.pp-size-label{
  font-weight:600;
}
.pp-size-price{
  color:var(--pp-text-dim);
  font-weight:600;
  font-size:.85rem;
}

/* === Profile Modal (from styles/profile.css) === */
.profile-modal {
  --radius: 14px;
  --pad: 16px;
  --gap: 16px;
  --card-bg: rgba(255,255,255,0.04);
  --stroke: rgba(255,255,255,0.10);
  --label: #b8ffc4;
  --text: var(--text-light, #e7e7e7);
  --muted: #a9a9a9;
  --input-bg: rgba(255,255,255,0.06);
  --input-stroke: rgba(255,255,255,0.14);
  --input-focus: #7CFF92;

  display: grid;
  gap: var(--gap);
}
[data-theme='dark'] .profile-modal {
  --card-bg: rgba(15,23,42,0.96);
  --stroke: rgba(148,163,184,0.35);
  --input-bg: rgba(15,23,42,0.92);
  --input-stroke: rgba(148,163,184,0.4);
  --input-focus: #7CFF92;
  --label: #b8ffc4;
  --text: var(--text-light, #e7e7e7);
  --muted: #9ca3af;
}
[data-theme='light'] .profile-modal {
  --card-bg: #ffffff;
  --stroke: rgba(15,23,42,0.12);
  --input-bg: #f9fafb;
  --input-stroke: rgba(15,23,42,0.15);
  --input-focus: #00A756;
  --label: #00A756;
  --text: #111827;
  --muted: #6b7280;
}
[data-theme='dark'] .profile-modal {
  --card-bg: rgba(15,23,42,0.92);
  --stroke: rgba(148,163,184,0.35);
  --input-bg: rgba(15,23,42,0.95);
  --input-stroke: rgba(148,163,184,0.4);
  --input-focus: #7CFF92;
  --label: #b8ffc4;
  --text: var(--text-light, #e7e7e7);
  --muted: #9ca3af;
}
[data-theme='light'] .profile-modal {
  --card-bg: #ffffff;
  --stroke: rgba(15,23,42,0.12);
  --input-bg: #f9fafb;
  --input-stroke: rgba(15,23,42,0.12);
  --input-focus: #00A756;
  --label: #00A756;
  --text: #111827;
  --muted: #6b7280;
}

.profile-grid {
  display: grid;
  grid-template-columns: 1.2fr 1fr;
  gap: var(--gap);
}
@media (max-width: 900px) {
  .profile-grid { grid-template-columns: 1fr; }
}

.profile-card {
  background: var(--card-bg);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  padding: calc(var(--pad) + 2px);
}

.profile-card h3 {
  margin: 0 0 10px;
  font-size: 1.05rem;
  letter-spacing: .2px;
  color: var(--label);
  text-shadow: 0 0 12px rgba(124,255,146,.25);
}

/* Avatar block */
.avatar-row {
  display: grid;
  grid-template-columns: 120px 1fr;
  gap: 18px;
  align-items: center;
}
@media (max-width: 560px) {
  .avatar-row { grid-template-columns: 1fr; justify-items: center; text-align: center; }
}

.avatar-shell {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 3px solid var(--input-focus);
  display: grid;
  place-items: center;
  overflow: hidden;
  background: radial-gradient(120px 120px at 50% 50%, rgba(255,255,255,.06), rgba(255,255,255,.02));
}

.avatar-shell img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.avatar-initial {
  font-weight: 700;
  font-size: 2rem;
  color: var(--text);
  opacity: .9;
}

.avatar-actions {
  display: grid;
  gap: 8px;
  justify-items: start;
}
.avatar-actions small {
  color: var(--muted);
}

/* Inputs */
.pp-field { display: grid; gap: 6px; }

.pp-label {
  font-size: .85rem;
  color: var(--label);
}

.pp-form-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.pp-form-field {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.pp-autocomplete-mount,
.pp-autocomplete-mount gmp-place-autocomplete {
  width: 100%;
}

.pp-autocomplete-mount {
  min-height: 44px;
}

.pp-helper {
  margin-top: 6px;
  font-size: .85rem;
  color: var(--muted);
}

/* Footer buttons */
.profile-footer {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 8px;
}

  /* --- GENERAL & LAYOUT STYLES --- */
body {
  background: var(--background);
  color: var(--text-primary);
  font-family: var(--font-body);
  margin: 0;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 180ms ease, color 180ms ease;
}

/* Main content column */
.main-content-area {
  padding: 1.5rem;
}

@media (min-width: 1024px) {
  .main-content-area {
    padding: 1.75rem 1.75rem 2.25rem;
  }
}

/* Light: subtle white panel down the left */
[data-theme='light'] .main-content-area {
  background: #f9fafb;
  border-radius: 0.9rem;
  border: 1px solid rgba(209,213,219,0.6);
  box-shadow: 0 14px 32px rgba(15,23,42,0.07);
}

/* Dark: softer slab with layered surface */
[data-theme='dark'] .main-content-area {
  background:
    radial-gradient(circle at top, rgba(15,23,42,0.9), transparent 50%),
    var(--surface);
  border-radius: 0.9rem;
  border: 1px solid rgba(15,23,42,0.85);
  box-shadow: 0 22px 60px rgba(0,0,0,0.75);
}

/* Right sidebar column */
.right-sidebar { display: none; }

@media (min-width: 1024px) {
  .right-sidebar {
    display: block;
    position: sticky;
    top: 0;
    height: 100vh;
  }

  /* Light sidebar: crisp white column */
  [data-theme='light'] .right-sidebar {
    background: #ffffff;
    box-shadow: -20px 0 50px rgba(15,23,42,0.12);
    border-left: 1px solid rgba(209,213,219,0.9);
  }

  /* Dark sidebar: aggressive inky column */
  [data-theme='dark'] .right-sidebar {
    background: #020617;
    box-shadow: -26px 0 70px rgba(0,0,0,0.9);
    border-left: 1px solid rgba(15,23,42,0.9);
  }
}

/* --- COMPONENT STYLES --- */
.order-panel-container {
  background-color: var(--surface);
  border-radius: 0.75rem;
  padding: 1.5rem;
  position: sticky;
  top: 1.5rem;
  height: calc(100vh - 3rem);
  border: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
}
.pp-half-editor-overlay .order-panel-container {
  background-color: var(--pp-surface);
  backdrop-filter: blur(10px);
  padding: 1.5rem;
  height: 100%;
  border: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  border-radius: 0;
  position: relative;
}
h1, h2, h3, h4, .panel-title, .card-item-name { font-family: var(--font-heading); }

/* 3) Menu (left column) */
.menu-category {
  margin-bottom: 3rem;
}
@media (max-width: 640px){
  .menu-category { margin-bottom: 1.6rem; }
}

/* Light: white card wrapping the whole category */
[data-theme='light'] .menu-category {
  background: #ffffff;
  border-radius: 0.8rem;
  padding: 1.1rem 1.1rem 1.5rem;
  box-shadow: 0 16px 36px rgba(15,23,42,0.08);
  border: 1px solid rgba(209,213,219,0.9);
}

/* Dark: soft spotlight behind the cards */
[data-theme='dark'] .menu-category {
  background:
    radial-gradient(circle at top left, rgba(15,23,42,0.95), transparent 70%),
    var(--surface);
  border-radius: 0.8rem;
  padding: 1.1rem 1.1rem 1.5rem;
  box-shadow: 0 26px 60px rgba(0,0,0,0.9);
  border: 1px solid rgba(15,23,42,0.9);
}

.category-title {
  font-size: 1.4rem;
  font-weight: 750;
  margin-bottom: 0.9rem;
  padding-bottom: 0.45rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-light);
  border-bottom: 1px solid transparent;
  border-image: linear-gradient(to right, var(--brand-neon-green), var(--brand-pink), transparent) 1;
  scroll-margin-top: 9rem; /* offset for sticky navs */
}

[data-theme='dark'] .category-title {
  background-image: linear-gradient(
    90deg,
    var(--brand-neon-green),
    var(--brand-pink)
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

[data-theme='light'] .category-title {
  color: #020617;
  border-image: linear-gradient(
    to right,
    var(--brand-neon-green),
    var(--brand-pink),
    transparent
  ) 1;
}

.menu-grid { display: grid; grid-template-columns: repeat(1, 1fr); gap: 1.5rem; }

/* Mobile: fit the screen better (denser 2-col grid + tighter spacing) */
@media (max-width: 640px) {
  .menu-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.7rem;
  }
  .menu-item-card { min-width: 0; } /* prevents overflow in grid */
  .card-image-container { padding-top: 56%; } /* shorter image strip */
  .card-text-container { padding: 0.55rem; }
  .card-item-name { font-size: 0.95rem; line-height: 1.15; }
  .card-item-price { font-size: 0.95rem; }
}

/* Extra-small phones: go even tighter */
@media (max-width: 420px) {
  .menu-grid { gap: 0.6rem; }
  .card-image-container { padding-top: 52%; }
  .card-text-container { padding: 0.5rem; }
  .card-item-description { display: none; } /* kills dead space */
}
@media (min-width: 640px) { .menu-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1024px) { .menu-grid { grid-template-columns: repeat(3, 1fr); } }
@media (min-width: 1280px) { .menu-grid { grid-template-columns: repeat(4, 1fr); } }

.menu-item-card {
  position: relative;
  background: var(--card-bg);
  border-radius: 0.55rem;
  border: 1px solid var(--border-color);
  cursor: pointer;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition:
    border-color 0.18s ease,
    box-shadow 0.18s ease,
    transform 0.18s ease,
    background-color 0.18s ease;
}

/* Extra colour edge on cards */
[data-theme='dark'] .menu-item-card {
  border-color: rgba(15,23,42,0.9);
}

[data-theme='light'] .menu-item-card {
  border-color: rgba(209,213,219,0.9);
}

/* resting shadows */
[data-theme='dark'] .menu-item-card {
  box-shadow: 0 14px 28px rgba(0,0,0,0.75);
}

[data-theme='light'] .menu-item-card {
  box-shadow: 0 10px 24px rgba(15,23,42,0.10);
}

/* hover: sharper & more aggressive */
[data-theme='dark'] .menu-item-card:hover {
  border-color: var(--brand-neon-green);
  transform: translateY(-5px) scale(1.025);
  box-shadow: 0 22px 50px rgba(0,0,0,0.95),
              0 0 18px rgba(163,230,53,0.75);
}

[data-theme='light'] .menu-item-card:hover {
  border-color: rgba(22,163,74,0.75);
  transform: translateY(-4px) scale(1.02);
  box-shadow: 0 22px 46px rgba(15,23,42,0.16);
}

/* Accent stripe on hover */
[data-theme='dark'] .menu-item-card:hover::before,
[data-theme='light'] .menu-item-card:hover::before {
  content: "";
  position: absolute;
  inset-inline: 0;
  top: 0;
  height: 3px;
  background-color: var(--brand-neon-green);
}

/* card header image strip gets a sharper edge */
.card-image-container {
  position: relative;
  width: 100%;
  padding-top: 65%;
  overflow: hidden;
  border-bottom: 1px solid rgba(148,163,184,0.5);
}
.card-image { width: 100%; height: 100%; object-fit: cover; position:absolute; top:0; left:0; }
.card-text-container { padding: 0.75rem; flex-grow: 1; display: flex; flex-direction: column; }
.card-item-name {
  font-size: 0.98rem;
  font-weight: 750;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--text-light);
}

/* optional: price line accent if used */
.card-item-price {
  margin-top: 0.25rem;
  font-weight: 700;
  color: var(--brand-green-cta);
}
.card-item-description {
  font-size: 0.8rem;
  color: var(--text-medium);
  margin: 0;
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.place-order-button, .simple-button, .quantity-btn {
  transition:
    transform 180ms var(--pp-ease),
    box-shadow 180ms var(--pp-ease),
    filter 180ms var(--pp-ease),
    background-color 180ms ease,
    border-color 180ms ease,
    color 180ms ease;
  will-change: auto;
  cursor: pointer;
}
.place-order-button {
  width: 100%;
  padding: 0.85rem 1.1rem;
  border-radius: 999px;
  border: none;
  font-weight: 700;
  font-size: 0.95rem;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  cursor: pointer;
  color: #0b1120;
  background-image: linear-gradient(
    135deg,
    var(--brand-green-cta),
    #4ade80
  );
  box-shadow: 0 20px 52px rgba(34,197,94,0.55);
  transition:
    transform 0.16s ease,
    box-shadow 0.16s ease,
    filter 0.16s ease;
}

.place-order-button:hover {
  transform: translateY(-2px);
  filter: brightness(1.03);
  box-shadow: 0 22px 52px rgba(34,197,94,0.55);
}

.place-order-button:active {
  transform: translateY(0);
  box-shadow: 0 8px 20px rgba(22,163,74,0.6);
}

.place-order-button:disabled { opacity: 0.5; cursor: not-allowed; transform: none; box-shadow: none; }
.quantity-btn { background-color: var(--border-color); border-radius: 50%; width: 2rem; height: 2rem; font-size: 1.25rem; color: var(--text-light); }
.quantity-btn:hover { background-color: #4b5563; }
/* Let the shared :active rule handle press feedback (prevents "double bounce") */
.quantity-btn:active { transform: translateY(0) scale(0.99); }

/* =========================
   Quick Nav (categories) — fixed dark mode
   ========================= */

.quick-nav-container{
  position: sticky;
  top: 5.5rem;
  z-index: 15;

  margin: 0 0 1.25rem;
  padding: 0.55rem;

  border-radius: 16px;
  border: 1px solid var(--border-color);

  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);

  overflow-x: auto;
  white-space: nowrap;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

[data-theme='dark'] .quick-nav-container{
  background: rgba(2, 6, 23, 0.35);
  border-color: rgba(255,255,255,0.12);
  box-shadow: 0 12px 30px rgba(0,0,0,0.55);
}

[data-theme='light'] .quick-nav-container{
  background: rgba(255,255,255,0.75);
  border-color: rgba(15,23,42,0.12);
  box-shadow: 0 10px 24px rgba(15,23,42,0.10);
}

.quick-nav-container::-webkit-scrollbar{ display:none; }

.quick-nav-list{
  list-style:none;
  padding:0;
  margin:0;
  display:flex;
  gap: 0.5rem;
}

.quick-nav-item a{
  display:inline-flex;
  align-items:center;
  justify-content:center;

  padding: 0.46rem 0.95rem;

  border-radius: 999px;
  border: 1px solid transparent;
  background: transparent;

  color: var(--text-medium);
  text-decoration:none;

  font-weight: 900;
  font-size: 0.74rem;
  text-transform: uppercase;
  letter-spacing: 0.10em;

  transition:
    background-color 160ms ease,
    border-color 160ms ease,
    color 160ms ease,
    transform 160ms ease,
    box-shadow 160ms ease;
}

[data-theme='dark'] .quick-nav-item a{
  background: rgba(255,255,255,0.03);
  border-color: rgba(255,255,255,0.08);
}

[data-theme='dark'] .quick-nav-item a:hover{
  color: var(--text-primary);
  background: rgba(190,242,100,0.10);
  border-color: rgba(190,242,100,0.22);
  transform: translateY(-1px);
}

[data-theme='light'] .quick-nav-item a{
  background: rgba(15,23,42,0.04);
  border-color: rgba(15,23,42,0.10);
}

[data-theme='light'] .quick-nav-item a:hover{
  color: var(--text-primary);
  background: rgba(15,23,42,0.06);
  border-color: rgba(15,23,42,0.14);
  transform: translateY(-1px);
}

.quick-nav-item a.active-nav-link{
  color: #0b1220;
  background: linear-gradient(180deg, var(--brand-neon-green), rgba(190,242,100,0.74));
  border-color: rgba(190,242,100,0.55);
  box-shadow: 0 12px 30px rgba(190,242,100,0.18);
}

[data-theme='light'] .quick-nav-item a.active-nav-link{
  color: #0b1220;
  background: linear-gradient(180deg, #bbf7d0, #86efac);
  border-color: rgba(22,163,74,0.28);
  box-shadow: 0 10px 26px rgba(22,163,74,0.16);
}

.about-panel-list-item {
  position: relative;
  background-color: var(--card-bg-alt);
  padding: 1rem;
  border-radius: 0.75rem;
  margin-bottom: 1rem;
  border: 1px solid var(--border-color);
  transition:
    border-color 0.2s,
    box-shadow 0.2s,
    transform 0.2s,
    background-color 0.2s;
}
/* Dark: neon tile */
[data-theme='dark'] .about-panel-list-item:hover {
  border-color: var(--brand-neon-green);
  background-color: rgba(15,23,42,0.95);
  box-shadow: 0 10px 24px rgba(0,0,0,0.65);
  transform: translateY(-2px);
}
/* Light: clean white card */
[data-theme='light'] .about-panel-list-item:hover {
  border-color: #e5e7eb;
  background-color: #ffffff;
  box-shadow: 0 10px 26px rgba(15,23,42,0.12);
  transform: translateY(-2px);
}
.about-panel-list-item::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0.75rem;
  bottom: 0.75rem;
  width: 3px;
  border-radius: 999px;
  background-image: linear-gradient(
    180deg,
    var(--brand-neon-green),
    var(--brand-pink)
  );
}
.about-panel-list-item a,
.about-panel-list-item button {
  color: var(--text-light);
  text-decoration: none;
  background: none;
  border: none;
  padding: 0;
  font-size: inherit;
  cursor: pointer;
  display: block;
  width: 100%;
  text-align: left;
}
.about-panel-list-item h4 { margin: 0 0 0.25rem 0; color: var(--brand-neon-green); font-family: var(--font-heading); }
.about-panel-list-item p { margin: 0; color: var(--text-medium); font-family: var(--font-body); }

@keyframes scan-glow {
  0% { left: -10%; }
  100% { left: 110%; }
}
.site-footer {
  padding: 3rem 1rem;
  margin-top: 4rem;
  border-top: 1px solid var(--border-color);
  display: flex;
  justify-content: center;
  align-items: center;
}
.footer-text {
  font-family: 'Orbitron', sans-serif;
  font-size: 0.8rem;
  color: var(--text-medium);
  text-transform: uppercase;
  letter-spacing: 2px;
  position: relative;
  overflow: hidden;
  -webkit-mask-image: linear-gradient(to right, transparent, black 20%, black 80%, transparent);
  mask-image: linear-gradient(to right, transparent, black 20%, black 80%, transparent);
}
.footer-text::after {
  content: '';
  position: absolute;
  top: -50%;
  width: 20px;
  height: 200%;
  background: linear-gradient(to right, transparent, #00d8ff, transparent);
  box-shadow: 0 0 10px #00d8ff, 0 0 20px #00d8ff;
  animation: scan-glow 3s linear 1s infinite;
}

.sub-panel-view { display: flex; flex-direction: column; height: 100%; }
.sub-panel-header { margin-bottom: 1rem; }
.sub-panel-back-button { background: none; border: none; color: var(--text-medium); cursor: pointer; font-weight: 500; margin-bottom: 1rem; display: inline-flex; align-items: center; }
.sub-panel-back-button:hover { color: var(--brand-pink); }
.sub-panel-content { flex-grow: 1; overflow-y: auto; }

.info-box {
  background-color: var(--card-bg-alt);
  border-radius: 0.5rem;
  padding: 1rem;
  margin-bottom: 1rem;
  border: 1px solid var(--border-color);
}
.info-box p { margin: 0 0 0.5rem 0; color: var(--text-medium); }
.info-box p:last-child { margin-bottom: 0; }
.info-box strong { color: var(--text-light); font-weight: 600; }

.cart-total-section {
  margin-top: auto;
  padding-top: 1rem;
  border-top: 1px solid var(--border-color);
}

/* dark: subtle gradient up from bottom */
[data-theme='dark'] .cart-total-section {
  background: linear-gradient(to top, rgba(15,23,42,0.95), transparent);
  padding-bottom: 0.75rem;
}

/* light: soft white fade */
[data-theme='light'] .cart-total-section {
  background: linear-gradient(to top, rgba(15,23,42,0.04), transparent);
  padding-bottom: 0.75rem;
}
.cart-total-section::before {
  content: "";
  display: block;
  height: 2px;
  border-radius: 999px;
  margin-bottom: 0.75rem;
  background-image: linear-gradient(
    90deg,
    var(--brand-pink),
    var(--brand-neon-green)
  );
  opacity: 0.9;
}
.total-price-display {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 1.125rem;
  font-weight: 700;
  margin-bottom: 1rem;
  color: var(--text-light);
}
.total-price-display span:first-child {
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.8rem;
  color: var(--brand-pink);
}
.total-price-display span:last-child {
  font-size: 1.35rem;
  font-weight: 800;
  color: var(--brand-green-cta);
  text-shadow: 0 0 10px rgba(22,163,74,0.7);
}
.panel-title { font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: var(--brand-neon-green); }
.cart-items-list { flex-grow: 1; overflow-y: auto; padding-right: 0.5rem; }
.detail-panel-body { flex-grow: 1; padding-right: 0.5rem; }
.cart-item { display: flex; justify-content: space-between; align-items: center; font-size: 0.875rem; border-bottom: 1px solid var(--border-color); padding: 0.75rem 0.25rem; cursor: pointer; }
.detail-image { width: 100%; height: 12rem; object-fit: cover; border-radius: 0.5rem; background-color: var(--border-color); }
.size-quantity-row { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: 0.5rem; margin-bottom: 0.5rem; transition: all 0.3s ease-in-out; }
.size-quantity-row.glowing-border { border-color: var(--brand-neon-green); box-shadow: 0 0 10px 2px var(--brand-neon-green); }
.disabled-option { opacity: 0.35; pointer-events: none; background-color: rgba(0,0,0,0.1); }
.gluten-free-toggle { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid var(--border-color); }
.quantity-controls { display: flex; align-items: center; gap: 0.75rem; }
.simple-button {
  width: 100%;
  background-color: var(--border-color);
  color: var(--text-light);
  padding: 0.75rem 1rem;
  font-weight: 500;
  margin-top: 0.5rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.8);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.modal-overlay {
  position: fixed;
  inset: 0;
  /* Darker overlay so the page behind doesn't compete with the modal content */
  background-color: rgba(0,0,0,0.72);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  pointer-events: auto;
}
.modal-content {
  background-color: var(--pp-surface);
  padding: 2rem;
  border-radius: 0.9rem;
  width: 94vw;
  max-width: 820px;
  max-height: 82vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  border: 1px solid var(--border-color);
  box-shadow: 0 24px 60px rgba(0,0,0,0.45);
  z-index: 1001;
}
[data-theme='light'] .modal-content {
  background-color: #ffffff;
  box-shadow: 0 24px 60px rgba(15,23,42,0.16);
}
body:has(.modal-overlay) { overflow: hidden; }
.modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-color); padding-bottom: 1rem; margin-bottom: 1rem; }
.modal-body { overflow-y: auto; padding: 0.25rem 0.5rem 0.5rem; }
.modal-footer { padding-top: 1rem; border-top: 1px solid var(--border-color); display: flex; justify-content: flex-end; gap: 0.75rem; }
.modal-category-title { color: var(--brand-neon-green); font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.modal-item-row { display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; }

input[type="text"],
input[type="tel"],
input[type="password"],
input[type="url"],
select,
textarea {
  background-color: var(--background-light);
  border: 1px solid var(--border-color);
  border-radius: 0.75rem;
  color: var(--text-light);
  padding: 0.85rem 0.9rem;
  transition: box-shadow 0.15s, outline 0.15s, border-color 0.15s, background-color 0.15s;
}
input[type="text"]:focus,
input[type="tel"]:focus,
input[type="password"]:focus,
input[type="url"]:focus,
select:focus,
textarea:focus {
  outline: 2px solid var(--brand-pink);
  outline-offset: 3px;
  box-shadow: none;
  border-color: var(--brand-pink);
}
button,
[type="button"],
[type="submit"] {
  appearance: none;
  background: none;
  border: none;
  font: inherit;
  line-height: inherit;
  color: inherit;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.pp-row { display: grid; grid-template-columns: 130px 1fr; gap: 12px; align-items: flex-start; }
.pp-row label { font-size: 0.875rem; color: var(--text-medium); padding-top: 0.75rem; }
.pp-input {
  width: 100%;
  padding: 0.75rem;
  border-radius: 0.5rem;
  border: 1px solid var(--border-color);
  background: var(--background-light);
  color: var(--text-light);
  outline: none;
  box-sizing: border-box;
  transition: border-color 0.2s, box-shadow 0.2s;
}
.pp-input:focus { border-color: var(--brand-pink); box-shadow: var(--glow-pink); outline: none; }

/* === Add-ons modal readability upgrades === */
.modal-category {
  border: 1px solid var(--border-color);
  border-radius: 12px;
  margin-bottom: .85rem;
  overflow: clip;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.10));
}
[data-theme='light'] .modal-category {
  background: #f9fafb;
}
.modal-category-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .75rem 1rem;
  cursor: pointer;
  font-weight: 600;
  letter-spacing: .2px;
  width: 100%;
  background: transparent;
}
.modal-category-items {
  padding: .35rem .75rem .75rem;
}

input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] {
  appearance: textfield;
  -moz-appearance: textfield;
}

@media (max-width: 640px) {
  .pp-row { grid-template-columns: 1fr; gap: 0; }
  .pp-row label { margin-bottom: 6px; padding-top: 0; }
  .pp-actions { flex-direction: column; align-items: stretch; }
}
.pp-actions {
  display: flex;
  gap: 10px;
  padding-top: 1rem;
  border-top: 1px solid var(--border-color);
  margin-top: 1rem;
  justify-content: flex-end;
}
.pp-actions--sticky,
.pp-actions.sticky {
  position: sticky;
  bottom: 0;
  background: linear-gradient(180deg, rgba(0,0,0,0), var(--background-light) 40%);
  padding-top: 1rem;
}

/* Two-column layout for the body on md+ screens */
@media (min-width: 768px) {
  .pp-body-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px 20px;
  }
  .pp-body-grid .full-span {
    grid-column: 1 / -1;
  }
}

/* "Card" group wrappers to make fields read nicely */
.pp-section {
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.12));
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 1rem;
}
[data-theme='light'] .pp-section {
  background: #f9fafb;
}
.pp-section h4 {
  margin: 0 0 0.75rem 0;
  font-family: var(--font-heading);
  font-weight: 700;
  color: var(--brand-neon-green);
  letter-spacing: 0.3px;
}

/* Slightly tighter rows inside sections */
.pp-row { margin-bottom: 0.85rem; }

/* === Themed scrollbars (global and modal bodies) === */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--border-color) transparent;
}
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  background: rgba(255,255,255,0.04);
  border-radius: 8px;
}
::-webkit-scrollbar-thumb {
  background: #3b3b3b;
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
[data-theme='light'] ::-webkit-scrollbar-thumb {
  background: #c1c1c1;
}
.pp-modal-body,
.modal-body {
  scrollbar-width: thin;
  scrollbar-color: var(--border-color) transparent;
}
.pp-modal-body::-webkit-scrollbar,
.modal-body::-webkit-scrollbar {
  width: 10px;
}
.pp-modal-body::-webkit-scrollbar-thumb,
.modal-body::-webkit-scrollbar-thumb {
  background: #3b3b3b;
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
[data-theme='light'] .pp-modal-body::-webkit-scrollbar-thumb,
[data-theme='light'] .modal-body::-webkit-scrollbar-thumb {
  background: #c1c1c1;
}

/* === FINAL POLISH: LAYOUT & GRID === */

/* Main grid should use full width, not fixed desktop max-width */
.app-grid-layout {
  display: grid;
  grid-template-columns: 1fr;
  max-width: 100%;       /* <-- was 1320px */
  margin: 0;             /* <-- no centering container */
  padding-inline: 1.25rem;
  padding-block: 1.25rem;
  gap: 1.25rem;
  column-gap: 2.5rem;
}

@media (min-width: 1024px) {
  .app-grid-layout {
    grid-template-columns: minmax(0, 1fr) 35%;
  }
}

/* Left pane stacks navbar + main content as a unified column */
.left-pane {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* Main content slab already has theme styles; this just ensures it never hugs the edges on mobile */
@media (max-width: 1023.98px) {
  .main-content-area {
    padding-inline: 1.1rem;
  }
}

/* === FINAL POLISH: TYPOGRAPHY === */

h1, h2, h3, h4 {
  font-family: var(--font-heading, "Poppins", system-ui, sans-serif);
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

/* Section titles already wired via .category-title; this just keeps small labels in the same family */
label,
.badge,
.text-label {
  font-family: var(--font-heading, "Poppins", system-ui, sans-serif);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-size: 0.72rem;
}

/* Small meta text (hours, notes, helpers) */
small,
.meta-text {
  font-size: 0.75rem;
  letter-spacing: 0.03em;
  opacity: 0.9;
}

/* === FINAL POLISH: INTERACTION STATES === */

/* All interactive elements share the same focus-visible style */
a:focus-visible,
button:focus-visible,
.menu-item-card:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid var(--brand-neon-green);
  outline-offset: 2px;
  box-shadow:
    0 0 0 1px rgba(15,23,42,0.9),
    0 0 0 4px rgba(34,197,94,0.6);
}

/* Smooth hover feedback for all buttons/links, without changing your colours */
button,
a,
.menu-item-card {
  transition:
    background-color 0.16s ease,
    color 0.16s ease,
    border-color 0.16s ease,
    box-shadow 0.16s ease,
    transform 0.16s ease;
}

/* Ensure cards tilt/slide cleanly from center */
.menu-item-card {
  transform-origin: center center;
}

/* === FINAL POLISH: ORDER COLUMN & FOOTER === */

/* Right sidebar order panel: subtle separation from background */
.right-sidebar .order-panel-container {
  border-radius: 0;
  border-left: 1px solid var(--border-color);
}

/* Tighten footer spacing, but let it go full width */
footer,
.footer {
  max-width: 100%;
  margin: 0;
  padding-inline: 1.5rem;
}

/* === FINAL POLISH: NAV + QUICK NAV === */

/* Navbar content should stretch with the page */
.navbar-container {
  max-width: 100%;
  margin: 0;
}

/* === DARK MODE CONTAINER POLISH === */

/* Main content containers - match light mode rounding, lighter depth */
[data-theme='dark'] .menu-item-card,
[data-theme='dark'] .order-panel-container,
[data-theme='dark'] .about-panel-list-item,
[data-theme='dark'] .info-box {
  background-color: var(--background-light);
  border-radius: 0.75rem;
  border-color: var(--border-color);
  box-shadow: 0 10px 26px rgba(0,0,0,0.55);
}

/* Slightly stronger lift on hover for cards only */
[data-theme='dark'] .menu-item-card:hover {
  box-shadow: 0 16px 36px rgba(0,0,0,0.7);
}

/* Dark mode modals: same polish, less depth */
[data-theme='dark'] .modal-content {
  border-radius: 0.75rem;
  box-shadow: 0 14px 40px rgba(0,0,0,0.6);
}

/* Dark mode PP modal: cleaner, less "deep" */
/* =========================
   Top Navbar (App.jsx) — dark mode fix
   ========================= */

.pp-topnav{
  position: sticky;
  top: 0;
  z-index: 30;
  padding: 0.55rem 1.25rem;
  border-bottom: 1px solid var(--border-color);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}

[data-theme='dark'] .pp-topnav{
  background: rgba(15, 23, 42, 0.92);
  box-shadow: 0 16px 40px rgba(0,0,0,0.55);
}

[data-theme='light'] .pp-topnav{
  background: rgba(255,255,255,0.94);
  box-shadow: 0 14px 34px rgba(15,23,42,0.12);
}

.pp-topnav::after{
  content:"";
  position:absolute;
  left:0;
  right:0;
  bottom:-1px;
  height:2px;
  background: linear-gradient(90deg, var(--brand-neon-green), var(--brand-pink));
  opacity: 0.45;
  pointer-events:none;
}

.pp-topnav__row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 1.25rem;
}

.pp-topnav__left{
  display:flex;
  align-items:center;
  gap: 1rem;
  min-width: 0;
}

.pp-topnav__logo{
  display:flex;
  align-items:center;
  text-decoration:none;
}

.pp-topnav__logoImg{
  height: 3.25rem;
  width:auto;
  display:block;
}

.pp-topnav__searchWrap{
  display:flex;
  align-items:center;
  gap: 0.5rem;
  flex-wrap: wrap;
  min-width: 0;
}

.pp-topnav__searchInput{
  width: 100%;
  background: var(--pp-surface-2);
  border: 1px solid var(--border-color);
  border-radius: 999px;
  padding: 0.35rem 0.7rem;
  color: var(--text-primary);
  font-size: 0.82rem;
}

.pp-topnav__searchInput::placeholder{
  color: var(--text-medium);
  opacity: 0.9;
}

.pp-topnav__searchInput:focus{
  outline: none;
  border-color: rgba(190,242,100,0.30);
  box-shadow: var(--focus-ring);
}

.pp-topnav__right{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap: 1.1rem;
  flex-wrap: wrap;
}

.pp-topnav__link,
.pp-topnav__linkBtn{
  color: var(--text-primary);
  text-decoration:none;
  font-weight: 650;
  font-size: 0.95rem;
  background:none;
  border:none;
  cursor:pointer;
  padding: 0.25rem 0.2rem;
}

.pp-topnav__link:hover,
.pp-topnav__linkBtn:hover{
  color: var(--brand-pink);
}

/* =========================================================
   Theme toggle (single button)
   ========================================================= */
.pp-theme-toggle{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.45rem;
  height: 2rem;
  padding: 0 0.7rem;
  border-radius: 999px;
  cursor: pointer;
  user-select: none;

  border: 2px solid var(--border-color);
  background: rgba(255,255,255,0.06);
  color: var(--text);

  transition:
    transform 160ms ease,
    border-color 180ms ease,
    background-color 180ms ease,
    box-shadow 180ms ease;
}

[data-theme="light"] .pp-theme-toggle{
  background: rgba(255,255,255,0.9);
}

[data-theme="dark"] .pp-theme-toggle{
  background: rgba(255,255,255,0.06);
}

.pp-theme-toggle:hover{
  border-color: rgba(120, 255, 120, 0.55);
  box-shadow: 0 10px 28px rgba(0,0,0,0.22);
  transform: translateY(-1px);
}

.pp-theme-toggle:active{
  transform: translateY(0px) scale(0.98);
}

.pp-theme-toggle:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 3px rgba(120, 255, 120, 0.22),
    0 10px 28px rgba(0,0,0,0.22);
}

.pp-theme-toggle__emoji{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 1.2rem;
  height: 1.2rem;
  font-size: 1.05rem;
  line-height: 1;

  transform: rotate(0deg) scale(1);
  transition: transform 260ms cubic-bezier(.2,.9,.2,1);
}

.pp-theme-toggle__label{
  font-weight: 750;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  font-size: 0.72rem;
  opacity: 0.82;
}

/* Compact (mobile topbar): emoji-only */
.pp-theme-toggle--compact{
  width: 2rem;
  min-width: 2rem;
  padding: 0;
  border-radius: 999px;
}

/* Emoji animates when theme changes */
[data-theme="light"] .pp-theme-toggle__emoji{
  transform: rotate(14deg) scale(1.06);
}

[data-theme="dark"] .pp-theme-toggle__emoji{
  transform: rotate(-14deg) scale(1.06);
}

@media (prefers-reduced-motion: reduce){
  .pp-theme-toggle,
  .pp-theme-toggle__emoji{
    transition: none !important;
  }
}

.pp-topnav__auth{
  display:flex;
  align-items:center;
  gap: 0.9rem;
}

.pp-topnav__greeting{
  color: var(--text-medium);
  font-size: 0.9rem;
}

.pp-topnav__action{
  background:none;
  border:none;
  cursor:pointer;
  padding: 0.25rem 0.2rem;
  font-weight: 750;
}

.pp-topnav__action--accent{ color: var(--brand-neon-green); }
.pp-topnav__action--danger{ color: var(--brand-pink); }
.pp-topnav__action--subtle{ opacity: 0.9; font-weight: 650; }

.pp-topnav__status{
  margin-left: 0.25rem;
  font-size: 0.75rem;
  color: var(--text-medium);
  opacity: 0.7;
}

/* =========================
   Half & Half - force "no scrollbars" + compact fit
   ========================= */

/* Compact grid so we can show more options without scrolling */
.pp-halfhalf-options{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

/* 3 columns on wider sidebars */
@media (min-width: 980px){
  .pp-halfhalf-options{ grid-template-columns: 1fr 1fr 1fr; }
}

.pp-halfhalf-option{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;

  padding: 10px 12px;
  border-radius: 16px;

  border: 1px solid var(--border-color);
  background: rgba(255,255,255,0.04);
  cursor: pointer;

  transition: transform 140ms ease, border-color 140ms ease, background-color 140ms ease, box-shadow 140ms ease;
}

[data-theme='light'] .pp-halfhalf-option{
  background: rgba(15,23,42,0.03);
}

.pp-halfhalf-option:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.25);
}

[data-theme='light'] .pp-halfhalf-option:hover{
  border-color: rgba(22,163,74,0.25);
}

.pp-halfhalf-option--selected{
  border-color: rgba(190,242,100,0.55);
  background: rgba(190,242,100,0.10);
  box-shadow: 0 10px 26px rgba(190,242,100,0.10);
}

[data-theme='light'] .pp-halfhalf-option--selected{
  border-color: rgba(22,163,74,0.35);
  background: rgba(22,163,74,0.08);
  box-shadow: 0 10px 26px rgba(22,163,74,0.10);
}

.pp-halfhalf-option__text{
  min-width: 0;
}

.pp-halfhalf-option__name{
  font-weight: 900;
  color: var(--text-primary);
  font-size: 0.92rem;
  line-height: 1.15;
  text-transform: uppercase;
  letter-spacing: 0.02em;
}

.pp-halfhalf-option__desc{
  margin-top: 4px;
  font-size: 0.78rem;
  color: var(--text-medium);
  line-height: 1.2;

  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.pp-halfhalf-option__price{
  margin-top: 6px;
  font-weight: 900;
  color: var(--brand-green-cta);
  font-variant-numeric: tabular-nums;
}

.pp-halfhalf-option__plus{
  flex: 0 0 auto;
  width: 34px;
  height: 34px;
  border-radius: 999px;

  display: flex;
  align-items: center;
  justify-content: center;

  border: 1px solid var(--border-color);
  background: rgba(255,255,255,0.06);
  color: var(--text-primary);
  font-weight: 950;
  font-size: 18px;
}

[data-theme='light'] .pp-halfhalf-option__plus{
  background: rgba(15,23,42,0.04);
}

/* CTA stays visible at the bottom of the panel without scrolling */
.pp-halfhalf-cta{
  position: sticky;
  bottom: 0;
  z-index: 5;
  margin-top: 10px;
  padding-top: 10px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  background: linear-gradient(180deg, rgba(0,0,0,0), var(--pp-surface, var(--panel)) 65%);
}

/* If the viewport is short, tighten spacing globally in the half/half panel */
@media (max-height: 820px){
  .pp-halfhalf-cta{ padding-top: 8px; padding-bottom: calc(8px + env(safe-area-inset-bottom)); }
  .pp-halfhalf-options{ gap: 8px; }
}

/* Half & Half: allow scrolling without showing a scrollbar */
.pp-halfhalf-body {
  scrollbar-width: none;
}
.pp-halfhalf-body::-webkit-scrollbar {
  width: 0;
  height: 0;
}
.pp-halfhalf-body{
  overflow-y: visible !important;
  overflow-x: hidden !important;
}

.pp-halfhalf-cta .place-order-button,
.pp-halfhalf-body .pp-btn-full{
  display: block;
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box;
}

/* Keep Continue row perfectly inside the panel */
.pp-halfhalf-continueRow{
  width: 100%;
  box-sizing: border-box;
  display: flex;
  padding: 0 1px 8px;
}

.pp-halfhalf-continueRow > button{
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

/* Lock panel height to avoid extra page/sidebar scrollbars */
@media (min-width: 1024px){
  .right-sidebar.right-sidebar--halfhalf{
    position: sticky !important;
    top: 0 !important;
    height: 100vh !important;
    overflow: hidden !important;
    border-left: 1px solid var(--border-color);
  }
  .order-panel-container.order-panel-container--halfhalf{
    height: 100vh !important;
    overflow: hidden !important;
  }
}

/* Optional: prevents layout shift when scrollbars appear/disappear */
html{ scrollbar-gutter: stable; }

/* belt + braces: disable touch scroll chaining */
html.pp-halfhalf-open .pp-halfhalf-panel{
  overscroll-behavior: none;
  touch-action: pan-y;
}

/* Half & Half open: hard-hide scrollbars everywhere (final override) */
html.pp-halfhalf-open,
body.pp-halfhalf-open,
html.pp-halfhalf-open *,
body.pp-halfhalf-open *{
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

html.pp-halfhalf-open::-webkit-scrollbar,
body.pp-halfhalf-open::-webkit-scrollbar,
html.pp-halfhalf-open *::-webkit-scrollbar,
body.pp-halfhalf-open *::-webkit-scrollbar{
  width: 0 !important;
  height: 0 !important;
  display: none !important;
}

/* ======================================================================
   PP THEME + MOTION v3 (paste at very bottom of App.css)
   ====================================================================== */

/* Motion tokens */
:root{
  --pp-ease: cubic-bezier(.22, 1, .36, 1);       /* flowy */
  --pp-ease-soft: cubic-bezier(.25, .8, .25, 1);
  --pp-dur-1: 140ms;
  --pp-dur-2: 240ms;
  --pp-dur-3: 380ms;
  --pp-dur-4: 520ms;

  --pp-radius-md: 14px;
  --pp-radius-lg: 18px;
  --pp-radius-xl: 22px;
}

/* Light/Dark tokens (also map to your existing vars so nothing breaks) */
html[data-theme="dark"], body[data-theme="dark"]{
  color-scheme: dark;

  --pp-bg: #0b0f14;
  --pp-surface: #0f172a;
  --pp-surface-2: #111c33;
  --pp-surface-3: rgba(255,255,255,0.04);

  --pp-text: #eaf2ff;
  --pp-muted: #9fb1c7;
  --pp-dim: #7e93aa;

  --pp-border: rgba(255,255,255,0.10);
  --pp-line: rgba(255,255,255,0.08);

  --pp-shadow-sm: 0 10px 22px rgba(0,0,0,0.22);
  --pp-shadow-md: 0 16px 40px rgba(0,0,0,0.28);
  --pp-shadow-lg: 0 24px 60px rgba(0,0,0,0.34);

  /* compatibility with your existing CSS */
  --background: var(--pp-bg);
  --background-dark: var(--pp-bg);
  --background-light: var(--pp-bg);

  --panel: var(--pp-surface);
  --surface: var(--pp-surface);

  --text-primary: var(--pp-text);
  --text-medium: var(--pp-muted);
  --text-light: var(--pp-text);

  --border-color: var(--pp-border);
  --line: var(--pp-line);

  --shadow-card: var(--pp-shadow-sm);
  --shadow-float: var(--pp-shadow-md);
  --shadow-modal: var(--pp-shadow-lg);
}

html[data-theme="light"], body[data-theme="light"]{
  color-scheme: light;

  --pp-bg: #f6f8fc;
  --pp-surface: #ffffff;
  --pp-surface-2: #f1f5fb;
  --pp-surface-3: rgba(15,23,42,0.03);

  --pp-text: #0b1220;
  --pp-muted: #3d4c5f;
  --pp-dim: #637489;

  --pp-border: rgba(15,23,42,0.12);
  --pp-line: rgba(15,23,42,0.10);

  --pp-shadow-sm: 0 10px 22px rgba(2,6,23,0.08);
  --pp-shadow-md: 0 16px 40px rgba(2,6,23,0.10);
  --pp-shadow-lg: 0 24px 60px rgba(2,6,23,0.14);

  /* compatibility */
  --background: var(--pp-bg);
  --background-dark: var(--pp-bg);
  --background-light: var(--pp-bg);

  --panel: var(--pp-surface);
  --surface: var(--pp-surface);

  --text-primary: var(--pp-text);
  --text-medium: var(--pp-muted);
  --text-light: var(--pp-text);

  --border-color: var(--pp-border);
  --line: var(--pp-line);

  --shadow-card: var(--pp-shadow-sm);
  --shadow-float: var(--pp-shadow-md);
  --shadow-modal: var(--pp-shadow-lg);
}

/* Base */
html, body{
  background: var(--background);
  color: var(--text-primary);
}

/* Smooth theme “passage” (only during the switch) */
html[data-theme-transition="1"] *{
  transition:
    background-color var(--pp-dur-3) var(--pp-ease),
    color var(--pp-dur-3) var(--pp-ease),
    border-color var(--pp-dur-3) var(--pp-ease),
    box-shadow var(--pp-dur-3) var(--pp-ease),
    transform var(--pp-dur-3) var(--pp-ease),
    filter var(--pp-dur-3) var(--pp-ease),
    opacity var(--pp-dur-3) var(--pp-ease) !important;
}

/* Buttons: less rigid, more premium */
.pp-btn,
.quantity-btn,
.place-order-button{
  border-radius: var(--pp-radius-lg) !important;
  transition:
    transform var(--pp-dur-2) var(--pp-ease),
    box-shadow var(--pp-dur-2) var(--pp-ease),
    filter var(--pp-dur-2) var(--pp-ease),
    opacity var(--pp-dur-2) var(--pp-ease) !important;
  transform: translateY(0);
}

.pp-btn:hover:enabled,
.quantity-btn:hover:enabled,
.place-order-button:hover:enabled{
  transform: translateY(-1px);
  box-shadow: var(--shadow-float);
  filter: brightness(1.02);
}

.pp-btn:active:enabled,
.quantity-btn:active:enabled,
.place-order-button:active:enabled{
  transform: translateY(0px) scale(0.99);
  box-shadow: var(--shadow-card);
}

/* Remove highlight sweep (but DON'T break close buttons that draw their X with ::before/::after) */
.pp-btn:not(.pp-modal-close):not([aria-label="Close"])::after,
.place-order-button::after{
  content: none !important;
}

/* Cards: cleaner lift, softer border glow */
.menu-item-card,
.detail-panel,
.order-panel-container{
  border-radius: var(--pp-radius-xl);
  transition:
    transform var(--pp-dur-3) var(--pp-ease),
    box-shadow var(--pp-dur-3) var(--pp-ease),
    border-color var(--pp-dur-3) var(--pp-ease),
    background-color var(--pp-dur-3) var(--pp-ease) !important;
}

.menu-item-card:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow-float);
  border-color: color-mix(in srgb, var(--border-color) 70%, var(--brand-neon-green) 30%);
}

/* Panels / glassy surfaces (reduces “plastic slab” look) */
.order-panel-container,
.detail-panel{
  background: color-mix(in srgb, var(--panel) 92%, rgba(255,255,255,0.06) 8%);
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-card);
}

/* Half & Half slider: smoother thumb glide */
.pp-halfhalf-sideThumb{
  transition: transform 620ms var(--pp-ease) !important;
}

/* Quality-of-life: reduce motion if user prefers */
@media (prefers-reduced-motion: reduce){
  html[data-theme-transition="1"] *{
    transition: none !important;
  }
  .pp-btn, .quantity-btn, .place-order-button,
  .menu-item-card, .detail-panel, .order-panel-container{
    transition: none !important;
  }
  .pp-btn::after, .place-order-button::after{
    display: none !important;
  }
}

/* ======================================================================
   HALF & HALF — v2 THEME + MOTION (scoped)
   Paste at the VERY BOTTOM of App.css
   ====================================================================== */

/* Motion tokens (half/half only) */
.pp-halfhalf-panel{
  --hh-ease: cubic-bezier(.22, 1, .36, 1);
  --hh-ease-soft: cubic-bezier(.25, .8, .25, 1);
  --hh-d1: 140ms;
  --hh-d2: 240ms;
  --hh-d3: 380ms;
  --hh-d4: 620ms;

  --hh-r-lg: 18px;
  --hh-r-xl: 22px;
}

/* Theme tokens (half/half only) */
body[data-theme="dark"] .pp-halfhalf-panel{
  --hh-bg: rgba(15,23,42,0.92);
  --hh-surface: rgba(255,255,255,0.05);
  --hh-surface-2: rgba(255,255,255,0.035);
  --hh-text: rgba(226,232,240,0.92);
  --hh-muted: rgba(226,232,240,0.62);
  --hh-border: rgba(226,232,240,0.12);
  --hh-accent: rgba(190,242,100,0.70);
  --hh-shadow: 0 18px 46px rgba(0,0,0,0.34);
  --hh-shadow-soft: 0 10px 28px rgba(0,0,0,0.24);
}

body[data-theme="light"] .pp-halfhalf-panel{
  --hh-bg: rgba(255,255,255,0.92);
  --hh-surface: rgba(15,23,42,0.04);
  --hh-surface-2: rgba(15,23,42,0.03);
  --hh-text: rgba(15,23,42,0.90);
  --hh-muted: rgba(15,23,42,0.58);
  --hh-border: rgba(15,23,42,0.12);
  --hh-accent: rgba(22,163,74,0.52);
  --hh-shadow: 0 18px 46px rgba(2,6,23,0.12);
  --hh-shadow-soft: 0 10px 28px rgba(2,6,23,0.08);
}

/* Panel baseline */
.pp-halfhalf-panel{
  color: var(--hh-text);
}

/* HERO: richer but clean (no "plastic") */
.pp-halfhalf-panel .pp-halfhalf-hero{
  border-radius: 1.9rem !important;
  background:
    radial-gradient(720px 380px at 50% 18%, color-mix(in srgb, var(--hh-accent) 18%, transparent), transparent 60%),
    radial-gradient(520px 340px at 20% 12%, rgba(59,130,246,0.08), transparent 55%),
    radial-gradient(520px 340px at 80% 12%, rgba(236,72,153,0.06), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0));
  border: 1px solid var(--hh-border);
  box-shadow: var(--hh-shadow);
  overflow: hidden;
  position: relative;
  isolation: isolate;
}

/* subtle grain */
.pp-halfhalf-panel .pp-halfhalf-hero::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.020) 0px,
      rgba(255,255,255,0.020) 2px,
      rgba(0,0,0,0.020) 2px,
      rgba(0,0,0,0.020) 4px
    );
  mix-blend-mode: overlay;
  opacity: 0.28;
}

/* PIZZA: float + breathe on side change */
.pp-halfhalf-panel .pp-halfhalf-heroStage[data-side="A"],
.pp-halfhalf-panel .pp-halfhalf-heroStage[data-side="B"]{
  animation: hhBreathe var(--hh-d4) var(--hh-ease) 1;
}
@keyframes hhBreathe{
  0%   { transform: scale(0.996); }
  55%  { transform: scale(1.012); }
  100% { transform: scale(1); }
}

@media (prefers-reduced-motion: reduce){
  .pp-halfhalf-panel .pp-halfhalf-svg{
    animation: none !important;
    transform: translate(-50%, -50%) !important;
  }
  .pp-halfhalf-panel .pp-halfhalf-heroStage[data-side="A"],
  .pp-halfhalf-panel .pp-halfhalf-heroStage[data-side="B"]{ animation: none !important; }
}

/* SLIDER SWITCH: glide + glass track */
.pp-halfhalf-panel .pp-halfhalf-sideSwitch{
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 4px;
  padding: 4px;
  border-radius: 999px;
  border: 1px solid var(--hh-border);
  background: color-mix(in srgb, var(--hh-bg) 70%, transparent);
  box-shadow: var(--hh-shadow-soft);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  overflow: hidden;
  align-items: stretch;
  user-select: none;
}

.pp-halfhalf-panel .pp-halfhalf-sideThumb{
  position: absolute;
  top: 4px;
  bottom: 4px;
  left: 4px;
  width: calc(50% - 4px);
  border-radius: 999px;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.20), rgba(255,255,255,0.08));
  border: 1px solid var(--hh-border);
  box-shadow: 0 18px 34px rgba(0,0,0,0.12);
  transition: transform var(--hh-d4) var(--hh-ease) !important;
}

.pp-halfhalf-panel .pp-halfhalf-sideBtn{
  position: relative;
  z-index: 1;
  background: transparent;
  border: 0;
  border-radius: 999px;
  padding: 0.62rem 0.85rem;
  cursor: pointer;
  font-weight: 850;
  font-size: 0.88rem;
  display: inline-flex;
  align-items: baseline;
  justify-content: center;
  gap: 0.5rem;
  color: var(--hh-text);
  opacity: 0.68;
  transition: opacity var(--hh-d2) var(--hh-ease-soft), transform var(--hh-d3) var(--hh-ease);
}

.pp-halfhalf-panel .pp-halfhalf-sideBtn.is-active{
  opacity: 1;
  transform: translateY(-1px);
}

.pp-halfhalf-panel .pp-halfhalf-sideMeta{
  color: var(--hh-muted);
  opacity: 1;
}

/* HALF SELECTED: clearer outline, less neon */
.pp-halfhalf-panel .pp-halfhalf-half{
  transition: opacity var(--hh-d3) var(--hh-ease), filter var(--hh-d4) var(--hh-ease);
}
.pp-halfhalf-panel .pp-halfhalf-half.is-active{
  filter: brightness(1.03) contrast(1.03);
}

.pp-halfhalf-panel .pp-halfhalf-halfOutline{
  stroke: var(--hh-accent);
  transition: opacity var(--hh-d3) var(--hh-ease), stroke-width var(--hh-d3) var(--hh-ease), filter var(--hh-d4) var(--hh-ease);
}
.pp-halfhalf-panel .pp-halfhalf-halfOutline.is-active{
  filter: drop-shadow(0 0 12px color-mix(in srgb, var(--hh-accent) 28%, transparent));
}

/* OPTIONS: smoother hover + selected state */
.pp-halfhalf-panel .pp-halfhalf-option{
  border-radius: 16px;
  border: 1px solid var(--hh-border);
  background: var(--hh-surface);
  box-shadow: none;
  transition:
    transform var(--hh-d2) var(--hh-ease),
    box-shadow var(--hh-d3) var(--hh-ease),
    border-color var(--hh-d3) var(--hh-ease),
    background-color var(--hh-d3) var(--hh-ease);
}

.pp-halfhalf-panel .pp-halfhalf-option:hover{
  transform: translateY(-2px);
  box-shadow: var(--hh-shadow-soft);
  border-color: color-mix(in srgb, var(--hh-border) 60%, var(--hh-accent) 40%);
}

.pp-halfhalf-panel .pp-halfhalf-option--selected{
  background: color-mix(in srgb, var(--hh-accent) 14%, var(--hh-surface) 86%);
  border-color: color-mix(in srgb, var(--hh-accent) 55%, var(--hh-border) 45%);
  box-shadow: 0 14px 34px color-mix(in srgb, var(--hh-accent) 14%, transparent);
}

/* CTA + Continue: consistent, premium lift */
.pp-halfhalf-panel .pp-halfhalf-continueRow > button,
.pp-halfhalf-panel .pp-halfhalf-cta .place-order-button{
  border-radius: var(--hh-r-lg);
  transition:
    transform var(--hh-d2) var(--hh-ease),
    box-shadow var(--hh-d3) var(--hh-ease),
    filter var(--hh-d2) var(--hh-ease);
}

.pp-halfhalf-panel .pp-halfhalf-continueRow > button:hover:enabled,
.pp-halfhalf-panel .pp-halfhalf-cta .place-order-button:hover:enabled{
  transform: translateY(-1px);
  box-shadow: var(--hh-shadow-soft);
  filter: brightness(1.02);
}

/* Half & Half: keep pizza perfectly centered even while animating */
.pp-halfhalf-panel .pp-halfhalf-svg{
  max-width: min(100%, 560px) !important;
  max-height: min(100%, 560px) !important;
  filter: drop-shadow(0 18px 34px rgba(0,0,0,0.14));
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) scale(var(--pp-hh-scale, 1)) !important;

  will-change: transform;
  animation: hhFloatCentered 9.5s cubic-bezier(.25, .8, .25, 1) infinite;
}

@keyframes hhFloatCentered{
  0%, 100% { transform: translate(-50%, -50%) scale(var(--pp-hh-scale, 1)) translateY(0px) rotate(0deg); }
  50%      { transform: translate(-50%, -50%) scale(var(--pp-hh-scale, 1)) translateY(-7px) rotate(-0.35deg); }
}

/* =========================
   Half & Half - FINAL glow (single source of truth)
   - Tight neon ring with feathered edges (dense, not aura)
   ========================= */

/* keep room so glow doesn’t feel clipped */
.pp-halfhalf-panel .pp-halfhalf-hero{
  padding: 30px 22px 20px !important;
}

/* kill any old aura pseudo-element */
.pp-halfhalf-panel .pp-halfhalf-heroStage::before{
  content: none !important;
  display: none !important;
  opacity: 0 !important;
}

/* Outer soft band (feathered) — dense neon green */
.pp-halfhalf-panel .pp-halfhalf-halfGlow{
  display: block !important;
  fill: none !important;
  stroke: rgba(0, 255, 145, 0.22) !important; /* dark neon */
  stroke-width: 12 !important;
  opacity: 0;
  filter:
    blur(1.4px)
    drop-shadow(0 0 18px rgba(0, 255, 145, 0.30))
    drop-shadow(0 0 54px rgba(0, 255, 145, 0.16)) !important;
  transition: opacity 320ms cubic-bezier(.22,1,.36,1);
  stroke-linecap: round;
  stroke-linejoin: round;
}
.pp-halfhalf-panel .pp-halfhalf-halfGlow.is-active{ opacity: 1; }

/* Inner line = the “neon tube” (tight + punchy) */
.pp-halfhalf-panel .pp-halfhalf-halfLine{
  fill: none !important;
  stroke: rgba(0, 255, 145, 0.72) !important;
  stroke-width: 2.35 !important;
  opacity: 0;
  filter:
    drop-shadow(0 0 8px rgba(0, 255, 145, 0.65))
    drop-shadow(0 0 22px rgba(0, 255, 145, 0.38))
    drop-shadow(0 0 60px rgba(0, 255, 145, 0.14)) !important;
  transition: opacity 320ms cubic-bezier(.22,1,.36,1);
  stroke-linecap: round;
  stroke-linejoin: round;
}
.pp-halfhalf-panel .pp-halfhalf-halfLine.is-active{ opacity: 1; }

/* Light mode: same geometry, lower intensity */
body[data-theme="light"] .pp-halfhalf-panel .pp-halfhalf-halfGlow{
  stroke: rgba(0, 200, 120, 0.16) !important;
  filter:
    blur(1.2px)
    drop-shadow(0 0 14px rgba(0, 200, 120, 0.18))
    drop-shadow(0 0 42px rgba(0, 200, 120, 0.10)) !important;
}
body[data-theme="light"] .pp-halfhalf-panel .pp-halfhalf-halfLine{
  stroke: rgba(0, 200, 120, 0.54) !important;
  filter:
    drop-shadow(0 0 6px rgba(0, 200, 120, 0.30))
    drop-shadow(0 0 16px rgba(0, 200, 120, 0.16))
    drop-shadow(0 0 44px rgba(0, 200, 120, 0.06)) !important;
}

/* =========================
   Half & Half - HERO container sizing
   ========================= */

/* Shrink stage a touch so the glow stays inside the rounded frame */
.pp-halfhalf-panel .pp-halfhalf-heroStage{
  width: min(560px, 68%) !important; /* was 72% */
  max-width: none !important;
  aspect-ratio: 1 / 1;
  display: grid;
  place-items: center;
  margin: 0 auto;
  position: relative;
  overflow: visible; /* hero remains the clip */
  isolation: isolate;
}

/* =========================
   Close (X) buttons — TRUE center using 2 bars
   ========================= */

:root{
  --pp-xbtn-size: 38px;
  --pp-xbar-len: 16px;
  --pp-xbar-thick: 2px;
  --pp-xbtn-nudge-x: 0px; /* tweak if ever needed */
  --pp-xbtn-nudge-y: 0px;
}

/* Target ONLY real close buttons */
button.pp-modal-close,
button.quantity-btn[title="Close"],
button.pp-btn.pp-btn-subtle[aria-label="Close"]{
  width: var(--pp-xbtn-size);
  height: var(--pp-xbtn-size);
  padding: 0 !important;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  position: relative;              /* needed for bars */
  border-radius: 999px;

  border: 1px solid rgba(148,163,184,0.35);
  background: rgba(15,23,42,0.35);

  /* kill font glyph influence completely */
  font-size: 0 !important;
  line-height: 0 !important;
  color: transparent !important;
  text-indent: -9999px;            /* if any text remains */
  overflow: hidden;

  cursor: pointer;

  transition:
    transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),
    background-color 160ms ease,
    border-color 160ms ease,
    box-shadow 160ms ease,
    filter 160ms ease;
}

/* Draw the X with two perfectly centered bars */
button.pp-modal-close::before,
button.pp-modal-close::after,
button.quantity-btn[title="Close"]::before,
button.quantity-btn[title="Close"]::after,
button.pp-btn.pp-btn-subtle[aria-label="Close"]::before,
button.pp-btn.pp-btn-subtle[aria-label="Close"]::after{
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: var(--pp-xbar-len);
  height: var(--pp-xbar-thick);
  background: var(--text-light);
  border-radius: 999px;
  transform-origin: center;
}

/* bar 1 */
button.pp-modal-close::before,
button.quantity-btn[title="Close"]::before,
button.pp-btn.pp-btn-subtle[aria-label="Close"]::before{
  transform: translate(calc(-50% + var(--pp-xbtn-nudge-x)), calc(-50% + var(--pp-xbtn-nudge-y))) rotate(45deg);
}

/* bar 2 */
button.pp-modal-close::after,
button.quantity-btn[title="Close"]::after,
button.pp-btn.pp-btn-subtle[aria-label="Close"]::after{
  transform: translate(calc(-50% + var(--pp-xbtn-nudge-x)), calc(-50% + var(--pp-xbtn-nudge-y))) rotate(-45deg);
}

/* Hover: subtle lift + glow */
button.pp-modal-close:hover,
button.quantity-btn[title="Close"]:hover,
button.pp-btn.pp-btn-subtle[aria-label="Close"]:hover{
  transform: translateY(-1px) scale(1.04);
  background: rgba(15,23,42,0.55);
  border-color: rgba(190,242,100,0.55);
  box-shadow: 0 0 0 3px rgba(190,242,100,0.14), 0 10px 30px rgba(0,0,0,0.35);
  filter: brightness(1.03);
}

/* Optional: tiny “sleek” micro-rotate on hover */
button.pp-modal-close:hover::before,
button.quantity-btn[title="Close"]:hover::before,
button.pp-btn.pp-btn-subtle[aria-label="Close"]:hover::before{
  transform: translate(calc(-50% + var(--pp-xbtn-nudge-x)), calc(-50% + var(--pp-xbtn-nudge-y))) rotate(50deg);
}
button.pp-modal-close:hover::after,
button.quantity-btn[title="Close"]:hover::after,
button.pp-btn.pp-btn-subtle[aria-label="Close"]:hover::after{
  transform: translate(calc(-50% + var(--pp-xbtn-nudge-x)), calc(-50% + var(--pp-xbtn-nudge-y))) rotate(-50deg);
}

/* Active press */
button.pp-modal-close:active,
button.quantity-btn[title="Close"]:active,
button.pp-btn.pp-btn-subtle[aria-label="Close"]:active{
  transform: translateY(0px) scale(0.98);
}

/* Keyboard focus */
button.pp-modal-close:focus-visible,
button.quantity-btn[title="Close"]:focus-visible,
button.pp-btn.pp-btn-subtle[aria-label="Close"]:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(190,242,100,0.22), 0 0 0 1px rgba(190,242,100,0.35);
}

/* =========================
   Half & Half action buttons (Edit ingredients / Add-ons / Reset half)
   ========================= */

.pp-halfhalf-panel .pp-hh-actionBtn{
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.55);
  background: rgba(148,163,184,0.12);
  color: var(--text-light);

  font-weight: 850;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-size: 0.74rem;

  padding: 0.42rem 0.92rem;
  cursor: pointer;

  transition:
    transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),
    box-shadow 160ms ease,
    background-color 160ms ease,
    border-color 160ms ease,
    color 160ms ease,
    filter 160ms ease;
}

.pp-halfhalf-panel[data-compact="1"] .pp-hh-actionBtn{
  font-size: 0.70rem;
  padding: 0.36rem 0.82rem;
}

/* Disabled state */
.pp-halfhalf-panel .pp-hh-actionBtn:disabled{
  opacity: 0.55;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
  filter: none !important;
}

/* Hover / active animation */
.pp-halfhalf-panel .pp-hh-actionBtn:not(:disabled):hover{
  transform: translateY(-1px);
  box-shadow: 0 10px 26px rgba(0,0,0,0.22);
  filter: brightness(1.05);
}
.pp-halfhalf-panel .pp-hh-actionBtn:not(:disabled):active{
  transform: translateY(0px) scale(0.98);
}

/* Focus */
.pp-halfhalf-panel .pp-hh-actionBtn:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(190,242,100,0.22);
}

/* Variants */
.pp-halfhalf-panel .pp-hh-actionBtn--neutral{
  border-color: rgba(148,163,184,0.55);
  background: rgba(148,163,184,0.14);
}
.pp-halfhalf-panel .pp-hh-actionBtn--warn{
  border-color: rgba(251,191,36,0.55);
  background: rgba(251,191,36,0.18);
  color: rgba(253,230,138,1);
}
.pp-halfhalf-panel .pp-hh-actionBtn--danger{
  border-color: rgba(248,113,113,0.55);
  background: rgba(239,68,68,0.16);
  color: rgba(254,202,202,1);
}

/* Light mode: make them actually visible on white/near-white */
html[data-theme="light"] .pp-halfhalf-panel .pp-hh-actionBtn{
  background: rgba(15,23,42,0.06);
  border-color: rgba(15,23,42,0.20);
  color: rgba(15,23,42,0.92);
  box-shadow: 0 6px 18px rgba(15,23,42,0.10);
}

html[data-theme="light"] .pp-halfhalf-panel .pp-hh-actionBtn--warn{
  background: rgba(251,191,36,0.20);
  border-color: rgba(161,98,7,0.28);
  color: rgba(120,53,15,0.95);
}

html[data-theme="light"] .pp-halfhalf-panel .pp-hh-actionBtn--danger{
  background: rgba(239,68,68,0.14);
  border-color: rgba(190,18,60,0.28);
  color: rgba(136,19,55,0.95);
}

/* ======================================================================
   Half & Half — action buttons DARK MODE (FINAL, vibrant + feels interactive)
   Put this at the VERY BOTTOM so it wins.
   ====================================================================== */

@keyframes ppHhDisabledPulse {
  0%, 100% { box-shadow: 0 10px 26px rgba(0,0,0,0.45); }
  50%      { box-shadow: 0 0 0 3px rgba(190,242,100,0.08), 0 14px 34px rgba(0,0,0,0.55); }
}

/* Base in dark mode: more contrast */
[data-theme="dark"] .pp-halfhalf-panel .pp-hh-actionBtn{
  border-color: rgba(226,232,240,0.22) !important;
  background: rgba(255,255,255,0.10) !important;
  color: rgba(241,245,249,0.96) !important;
  box-shadow: 0 10px 26px rgba(0,0,0,0.45) !important;
  filter: saturate(1.15);
}

/* Disabled: still obvious, not "dead" */
[data-theme="dark"] .pp-halfhalf-panel .pp-hh-actionBtn:disabled{
  opacity: 1 !important;                 /* kills the dull look */
  cursor: not-allowed;
  animation: ppHhDisabledPulse 1.25s ease-in-out infinite;
}

/* Disabled variants keep their "meaning" */
[data-theme="dark"] .pp-halfhalf-panel .pp-hh-actionBtn--neutral:disabled{
  background: rgba(129,140,248,0.16) !important;
  border-color: rgba(129,140,248,0.45) !important;
  color: rgba(224,231,255,0.82) !important;
}

[data-theme="dark"] .pp-halfhalf-panel .pp-hh-actionBtn--warn:disabled{
  background: rgba(251,191,36,0.16) !important;
  border-color: rgba(251,191,36,0.48) !important;
  color: rgba(255,247,210,0.82) !important;
}

[data-theme="dark"] .pp-halfhalf-panel .pp-hh-actionBtn--danger:disabled{
  background: rgba(248,113,113,0.14) !important;
  border-color: rgba(248,113,113,0.48) !important;
  color: rgba(254,226,226,0.82) !important;
}

/* =========================================================
   MOBILE RESPONSIVE PACK (site-wide)
   Paste at VERY BOTTOM of App.css so it overrides everything
   ========================================================= */

/* 0) Baseline mobile ergonomics */
@media (max-width: 1023.98px) {
  html, body {
    overflow-x: hidden;
  }

  /* comfortable padding on small screens */
  .app-grid-layout {
    padding-inline: 0.45rem;
    padding-block: 0.55rem;
    gap: 0.75rem;
  }

  /* main slab tighter */
  .main-content-area {
    padding: 0.6rem 0.45rem 0.85rem;
  }

  /* categories: less chunky */
  .menu-category {
    margin-bottom: 1.1rem;
    padding: 0.55rem 0.55rem 0.75rem;
  }

  /* category title scroll offset should match taller mobile nav */
  .category-title {
    scroll-margin-top: 12rem;
    font-size: 1.15rem;
  }

  /* menu grid spacing tighter */
  .menu-grid {
    gap: 0.6rem;
  }

  /* card text slightly tighter */
  .card-text-container {
    padding: 0.55rem;
  }
  .card-item-name {
    font-size: 0.92rem;
  }
  .card-item-description {
    font-size: 0.78rem;
  }

  /* Buttons: tap targets */
  .pp-btn,
  .place-order-button,
  .simple-button {
    min-height: 44px;
  }

  .quantity-btn {
    width: 44px;
    height: 44px;
  }

  /* ✅ Show the order panel on mobile as a normal section BELOW the menu */
  .right-sidebar {
    display: block;        /* overrides desktop hide */
    position: relative;
    top: auto;
    height: auto;
    border-left: none;
    background: transparent;
    box-shadow: none;
    padding: 0;
  }

  /* remove desktop sticky + viewport lock */
  .order-panel-container {
    position: relative;
    top: auto;
    height: auto;
    max-height: none;
    margin-top: 0.9rem;
    padding: 1.05rem;
    border-radius: 1rem;
  }

  /* half/half overlay variants should not lock height on mobile */
  .right-sidebar.right-sidebar--halfhalf,
  .order-panel-container.order-panel-container--halfhalf {
    position: relative !important;
    height: auto !important;
    overflow: visible !important;
  }
}

/* 1) Top navbar (pp-topnav) stacking */
@media (max-width: 900px) {
  .pp-topnav {
    padding: 0.6rem 0.85rem;
  }

  .pp-topnav__row {
    flex-direction: column;
    align-items: stretch;
    gap: 0.65rem;
  }

  .pp-topnav__left,
  .pp-topnav__right {
    width: 100%;
    justify-content: space-between;
  }

  .pp-topnav__logoImg {
    height: 2.7rem;
  }

  /* make searches usable */
  .pp-topnav__searchWrap {
    width: 100%;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.5rem;
  }

  .pp-topnav__searchInput {
    min-height: 40px;
    font-size: 0.9rem;
  }
}

@media (max-width: 460px) {
  .pp-topnav__searchWrap {
    grid-template-columns: 1fr;
  }
}

/* 2) Quick-nav sticky offset (nav gets taller on mobile) */
@media (max-width: 900px) {
  .quick-nav-container {
    top: 9.0rem;
    padding: 0.5rem;
  }

  .quick-nav-item a {
    padding: 0.44rem 0.8rem;
    font-size: 0.7rem;
  }
}

/* 3) Touch devices: kill “hover jump” effects so taps don’t bounce */
@media (hover: none) and (pointer: coarse) {
  .menu-item-card:hover {
    transform: none !important;
    box-shadow: var(--shadow-card) !important;
    border-color: var(--border-color) !important;
  }

  .place-order-button:hover,
  .pp-btn:hover,
  .quantity-btn:hover {
    transform: none !important;
    filter: none !important;
  }
}

/* 4) Modals become full-screen sheets on phones */
@media (max-width: 640px) {
  /* Your legacy modal */
  .modal-overlay {
    align-items: stretch;
  }
  .modal-content {
    width: 100vw;
    max-width: none;
    height: 100vh;
    max-height: none;
    border-radius: 0;
    padding: 1rem;
  }
  .modal-body {
    padding: 0.5rem 0;
  }

  /* Your pp-modal system */
  .pp-modal-backdrop {
    align-items: stretch;
    justify-content: stretch;
    padding: 0;
  }
  .pp-modal {
    width: 100vw;
    max-width: none;
    height: 100vh;
    max-height: none;
    border-radius: 0;
    padding: 1rem;
  }
  .pp-modal-body {
    max-height: none;
    height: calc(100vh - 140px);
  }
}

/* 5) Item detail panel bits (common “too wide / cramped”) */
@media (max-width: 640px) {
  .detail-image {
    height: 10.5rem;
  }

  .size-quantity-row {
    flex-wrap: wrap;
    gap: 0.6rem;
  }

  .quantity-controls {
    width: 100%;
    justify-content: space-between;
  }
}

/* 6) Half & Half: make sure it fits nicely on small screens */
@media (max-width: 640px) {
  .pp-halfhalf-panel .pp-halfhalf-hero {
    padding: 18px 14px 14px !important;
    border-radius: 1.25rem !important;
  }

  .pp-halfhalf-panel .pp-halfhalf-heroStage {
    width: min(460px, 92%) !important;
  }

  .pp-halfhalf-panel .pp-halfhalf-options {
    grid-template-columns: 1fr;
  }
}

/* Hard fallback: stack layout as normal blocks on small screens */
@media (max-width: 1023.98px) {
  .app-grid-layout {
    display: block !important;
  }

  .left-pane,
  .right-sidebar {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;
  }

  .main-content-area {
    display: block !important;
  }
}

/* Mobile menu grid: 2-up cards */
@media (max-width: 639.98px) {
  .menu-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* =========================================================
   MOBILE LAYOUT (<= 1024px)
   - Show the order panel under the menu
   - Make navbar + modals mobile-friendly
   ========================================================= */

@media (max-width: 1023.98px) {
  /* Page padding a bit tighter */
  .app-grid-layout {
    padding-inline: 0.75rem;
    padding-block: 0.75rem;
    gap: 0.9rem;
  }

  .left-pane {
    min-height: auto;
  }

  /* Main content: reduce padding */
  .main-content-area {
    /* Tighten the gap under the sticky header on mobile */
    padding: 0.65rem 1rem 1rem;
  }

  /* ✅ Bring back the right panel on mobile */
  .right-sidebar {
    display: block;
    position: relative;
    top: auto;
    height: auto;
    border-left: none;
    background: transparent; /* let panel styles handle it */
    box-shadow: none;
    padding: 0;
  }

  /* ✅ Order panel becomes a normal section (not sticky / not 100vh) */
  .order-panel-container {
    position: relative;
    top: auto;
    height: auto;
    max-height: none;
    margin-top: 0.75rem;
    padding: 1.1rem;
    border-radius: 1rem;
  }

  /* When half/half is open on mobile, don’t force 100vh locks */
  .right-sidebar.right-sidebar--halfhalf,
  .order-panel-container.order-panel-container--halfhalf {
    position: relative !important;
    height: auto !important;
    overflow: visible !important;
  }

  /* Navbar: compact top bar + dropdown search */
  .pp-topnav {
    padding: 0.5rem 0.75rem;
    overflow: visible;
    z-index: 30;
  }

  .pp-topnav__row {
    flex-direction: row;
    align-items: center;
    gap: 0.65rem;
  }

  .pp-topnav__left {
    flex: 1 1 auto;
    min-width: 0;
    gap: 0.55rem;
    flex-wrap: nowrap;
  }

  .pp-topnav__logoImg {
    height: 2.25rem;
  }

  /* Desktop keeps inline search; mobile uses the dropdown drawer. */
  .pp-topnav__searchWrap {
    display: none;
  }

  .pp-topnav__right {
    width: auto;
    justify-content: flex-end;
    gap: 0.75rem;
    flex-wrap: nowrap;
  }

  /* Hide the greeting to keep the header tight */
  .pp-topnav__greeting {
    display: none;
  }

  .pp-topnav__iconBtn {
    width: 2.2rem;
    height: 2.2rem;
    border-radius: 999px;
    border: 1px solid var(--border-color);
    background: rgba(0, 0, 0, 0.14);
    color: var(--text-light);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 160ms ease, border-color 160ms ease,
      box-shadow 160ms ease;
    flex: 0 0 auto;
  }
  .pp-topnav__iconBtn.is-active {
    border-color: rgba(190, 242, 100, 0.75);
    box-shadow: 0 0 0 3px rgba(190, 242, 100, 0.14);
    transform: translateY(-1px);
  }

  /* Backdrop + drawer */
  .pp-topnav__searchBackdrop {
    position: fixed;
    inset: 0;
    z-index: 18;
    background: rgba(2, 6, 23, 0.28);
    backdrop-filter: blur(1px);
    -webkit-backdrop-filter: blur(1px);
  }

  .pp-topnav__searchDrawer {
    position: absolute;
    left: 0;
    right: 0;
    top: 100%;
    z-index: 19;
    margin-top: 0.35rem;
    padding: 0.75rem 0.85rem;
    background: var(--pp-surface, var(--panel));
    border: 1px solid var(--border-color);
    border-left: none;
    border-right: none;
    box-shadow: var(--shadow-modal);
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;
    transition: transform 220ms cubic-bezier(0.2, 0.8, 0.2, 1),
      opacity 180ms ease;
  }

  .pp-topnav__searchDrawer.is-open {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  .pp-topnav__searchDrawerInner {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.6rem;
    align-items: stretch;
  }

  .pp-topnav__searchField {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    min-width: 0;
  }

  .pp-topnav__searchLabel {
    font-size: 0.68rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--text-medium);
    font-weight: 800;
  }

  .pp-topnav__searchInput {
    width: 100%;
    height: 40px;
    padding: 0.45rem 0.7rem;
    border-radius: 0.85rem;
    box-sizing: border-box;
  }

  @media (max-width: 420px) {
    .pp-topnav__searchDrawerInner {
      grid-template-columns: 1fr;
    }
  }

  /* Quick-nav sticky offset: navbar is compact again */
  .quick-nav-container {
    /* Keep category chips snug under the sticky header */
    top: calc(3.75rem + env(safe-area-inset-top));
  }
}

/* =========================================================
   MODALS AS MOBILE SHEETS (small screens)
   ========================================================= */
@media (max-width: 640px) {
  /* Generic modal */
  .modal-content {
    width: 100vw;
    max-width: none;
    height: 100vh;
    max-height: none;
    border-radius: 0;
    padding: 1rem;
  }

  /* PP modal (addons / ingredients / profile) */
  .pp-modal {
    width: 100vw;
    max-width: none;
    max-height: 100vh;
    height: 100vh;
    border-radius: 0;
    padding: 1rem;
  }

  .pp-modal-body {
    max-height: none;
    height: calc(100vh - 140px);
  }
}

/* =========================================================
   HALF & HALF: mobile fit tweaks
   ========================================================= */
@media (max-width: 640px) {
  .pp-halfhalf-panel .pp-halfhalf-hero {
    padding: 18px 14px 14px !important;
    border-radius: 1.25rem !important;
  }

  .pp-halfhalf-panel .pp-halfhalf-heroStage {
    width: min(520px, 92%) !important;
  }

  .pp-halfhalf-panel .pp-halfhalf-sideBtn {
    font-size: 0.82rem;
    padding: 0.54rem 0.7rem;
  }
}

/* Enabled hover feels premium */
[data-theme="dark"] .pp-halfhalf-panel .pp-hh-actionBtn:not(:disabled):hover{
  transform: translateY(-1px) scale(1.06);
  border-color: rgba(190,242,100,0.60) !important;
  box-shadow: 0 0 0 3px rgba(190,242,100,0.14), 0 18px 44px rgba(0,0,0,0.60) !important;
  filter: brightness(1.08) saturate(1.25);
}

/* ======================================================================
   Meal Deal Half & Half overlay: keep scrolling + compact tweaks
   (scoped so the rest of the site is unchanged)
   ====================================================================== */

.pp-mealdeal-halfhalf{
  /* tiny, clean shrink without re-laying out all the inline styles */
  --pp-mealhh-scale: 0.965;
  overflow: auto !important;
  touch-action: pan-y;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
  -webkit-overflow-scrolling: touch;
}

.pp-mealdeal-halfhalf::-webkit-scrollbar{
  width: 0 !important;
  height: 0 !important;
}

.pp-mealdeal-halfhalf .pp-halfhalf-panel,
.pp-mealdeal-halfhalf .pp-halfhalf-body{
  overflow: visible !important;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

.pp-mealdeal-halfhalf .pp-halfhalf-panel::-webkit-scrollbar,
.pp-mealdeal-halfhalf .pp-halfhalf-body::-webkit-scrollbar{
  width: 0 !important;
  height: 0 !important;
}

.pp-mealdeal-halfhalf .pp-halfhalf-panel{
  transform: scale(var(--pp-mealhh-scale));
  transform-origin: top center;
  height: auto !important;
  min-height: 100%;
}

/* tighten switch + CTA a touch */
.pp-mealdeal-halfhalf .pp-halfhalf-sideBtn{
  padding: 0.52rem 0.72rem !important;
  font-size: 0.82rem !important;
}

.pp-mealdeal-halfhalf .pp-halfhalf-cta{
  margin-top: 6px !important;
  padding-top: 6px !important;
  padding-bottom: calc(6px + env(safe-area-inset-bottom)) !important;
}

.pp-mealdeal-halfhalf .pp-halfhalf-cta .place-order-button{
  padding: 0.6rem 0.85rem !important;
  font-size: 0.84rem !important;
}

/* Meal Deal Half & Half ONLY: slightly tighter hero */
.pp-mealdeal-halfhalf .pp-halfhalf-panel .pp-halfhalf-hero{
  padding: 9px 9px 7px !important;
}
.pp-mealdeal-halfhalf .pp-halfhalf-panel .pp-halfhalf-heroStage{
  width: min(460px, 86%) !important;
}

/* =========================================================
   Item detail panel as mobile modal
   ========================================================= */

.pp-itemdetail-modal__backdrop{
  display: none;
}

@media (max-width: 1023.98px) {
  .order-panel-container--detail{
    padding: 0;
    border: 0;
    background: transparent;
    box-shadow: none;
  }

  .pp-itemdetail-modal{
    position: fixed;
    inset: 0;
    z-index: 1400;
    display: flex;
    align-items: stretch;
    justify-content: stretch;
  }

  .pp-itemdetail-modal__backdrop{
    display: block;
    position: absolute;
    inset: 0;
    background: rgba(2, 6, 23, 0.6);
  }

  .pp-itemdetail-modal__panel{
    position: relative;
    z-index: 1;
    width: 100%;
    height: 100vh;
    height: 100dvh;
    max-height: 100vh;
    max-height: 100dvh;
    background: var(--pp-surface, var(--panel));
    border-radius: 0;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }
}

/* =========================================================
   Item detail panel -- make it fill the right sidebar height
   ========================================================= */

/* Desktop: the right sidebar has a fixed-height container, so stretch the detail panel into it */
@media (min-width: 1024px){
  .order-panel-container--detail{
    /* keeps your current look, but ensures children can use full height */
    min-height: 0;
  }

  .pp-itemdetail-modal{
    height: 100%;
    min-height: 0;
    display: flex;
    flex-direction: column;
  }

  .pp-itemdetail-modal__panel{
    height: 100%;
    min-height: 0;
    display: flex;
    flex-direction: column;
  }

  /* your ItemDetailPanel root */
  .pp-itemdetail-modal__panel .detail-panel{
    height: 100% !important;
    min-height: 0;
    display: flex;
    flex-direction: column;
  }

  /* let the hero take more vertical space */
  .pp-itemdetail-modal__panel .detail-image-wrapper{
    height: clamp(260px, 38vh, 520px) !important;
    margin-bottom: 0.9rem !important;
  }
}

/* Mobile: ensure the inner panel + detail panel fully fill the 100vh modal */
@media (max-width: 1023.98px){
  .pp-itemdetail-modal__panel{
    min-height: 0;
  }

  .pp-itemdetail-modal__panel .detail-panel{
    height: 100% !important;
    min-height: 0;
    display: flex;
    flex-direction: column;
  }

  /* bigger hero on tall phones */
  .pp-itemdetail-modal__panel .detail-image-wrapper{
    height: clamp(240px, 40vh, 520px) !important;
  }
}

/* =========================================================
   Half & Half - Mobile full-screen modal behavior (final)
   ========================================================= */
@media (max-width: 1023.98px) {
  html.pp-halfhalf-open,
  body.pp-halfhalf-open {
    height: 100vh;
    height: 100dvh;
    overflow: hidden;
    overscroll-behavior: none;
  }

  /* allow the panel to scroll, not the page */
  .pp-halfhalf-modal__panel {
    overflow: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  /* force the builder body to scroll normally */
  .pp-halfhalf-modal__panel .pp-halfhalf-body {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
}

/* =========================================================
   Half & Half editor overlay (ItemDetailPanel) on mobile
   ========================================================= */
.pp-hh-editorModal {
  position: fixed;
  inset: 0;
  z-index: 1600;
  display: flex;
  align-items: stretch;
  justify-content: stretch;
}

.pp-hh-editorModal__backdrop {
  position: absolute;
  inset: 0;
  background: rgba(2, 6, 23, 0.66);
}

.pp-hh-editorModal__panel {
  position: relative;
  z-index: 1;
  width: 100%;
  height: 100vh;
  height: 100dvh;
  background: var(--pp-surface, var(--panel));
  padding: 1rem;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* =========================================================
   Half & Half panel as mobile modal
   ========================================================= */

.pp-halfhalf-modal__backdrop{
  display: none;
}

.pp-halfhalf-modal,
.pp-halfhalf-modal__panel{
  height: 100%;
}

@media (max-width: 1023.98px) {
  .order-panel-container--halfhalf{
    padding: 0;
    border: 0;
    background: transparent;
    box-shadow: none;
  }

  .pp-halfhalf-modal{
    position: fixed;
    inset: 0;
    z-index: 1400;
    display: flex;
    align-items: stretch;
    justify-content: stretch;
  }

  .pp-halfhalf-modal__backdrop{
    display: block;
    position: absolute;
    inset: 0;
    background: rgba(2, 6, 23, 0.6);
  }

  .pp-halfhalf-modal__panel{
    position: relative;
    z-index: 1;
    width: 100%;
    height: 100vh;
    height: 100dvh;
    max-height: 100vh;
    max-height: 100dvh;
    background: var(--pp-surface, var(--panel));
    border-radius: 0;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .pp-halfhalf-modal__panel .pp-halfhalf-panel{
    height: auto !important;
    min-height: 100%;
  }
}

/* =========================
   Half & Half - Enterprise Details Panel
   ========================= */

.pp-halfhalf-panel .pp-hh-detailsCard{
  margin: 0.9rem 0 1.1rem;
  padding: 1.15rem 1.25rem;
  border-radius: 22px;
  border: 1px solid rgba(148,163,184,0.20);
  background:
    radial-gradient(900px 360px at 50% 0%, rgba(190,242,100,0.08), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.10));
  box-shadow: var(--shadow-float);
}

.pp-halfhalf-panel[data-compact="1"] .pp-hh-detailsCard{
  margin: 0.45rem 0 0.55rem;
  padding: 0.85rem 0.9rem;
  border-radius: 18px;
}

.pp-hh-detailsHeader{
  display: grid;
  gap: 0.25rem;
  margin-bottom: 0.85rem;
}

.pp-hh-detailsTitle{
  font-weight: 950;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-size: 0.95rem;
  color: var(--brand-neon-green);
}

.pp-hh-detailsSub{
  font-weight: 650;
  color: var(--text-medium);
  font-size: 0.9rem;
}

.pp-hh-sharedCard{
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
  padding: 0.85rem 0.95rem;
  margin-bottom: 1rem;
}

/* 2 columns + divider */
.pp-hh-halvesGrid{
  display: grid;
  grid-template-columns: 1fr 2px 1fr;
  gap: 1.25rem;
  align-items: start;
}

.pp-hh-divider{
  width: 2px;
  border-radius: 999px;
  background: linear-gradient(180deg,
    rgba(190,242,100,0.05),
    rgba(190,242,100,0.75),
    rgba(190,242,100,0.05)
  );
  box-shadow: 0 0 18px rgba(190,242,100,0.28);
}

/* Column */
.pp-hh-halfCol{
  min-width: 0;
}

.pp-hh-halfHeader{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  margin-bottom: 0.55rem;
}

.pp-hh-halfCol--right{
  text-align: right;
}

.pp-hh-halfLabel{
  font-size: 0.78rem;
  font-weight: 900;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: rgba(190,242,100,0.85);
}

.pp-hh-activePill{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.22rem 0.55rem;
  border-radius: 999px;
  font-size: 0.72rem;
  font-weight: 950;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: #0b1220;
  background: rgba(190,242,100,0.90);
  box-shadow: 0 10px 22px rgba(190,242,100,0.18);
}

.pp-hh-halfName{
  font-weight: 950;
  font-size: 1.02rem;
  letter-spacing: 0.02em;
  color: var(--text-primary);
  margin-bottom: 0.25rem;
}

.pp-hh-halfDesc{
  color: var(--text-medium);
  font-size: 0.88rem;
  line-height: 1.25;
  opacity: 0.95;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-height: 2.2em; /* keeps both sides aligned */
}

/* Actions: consistent sizing */
.pp-hh-actions{
  display: grid;
  gap: 0.55rem;
  margin-top: 0.85rem;
}

.pp-halfhalf-panel .pp-hh-actionBtn{
  width: 100%;
  min-height: 44px;
  border-radius: 16px;
  padding: 0.72rem 0.9rem;
  font-size: 0.75rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-weight: 950;
  line-height: 1.15;
  white-space: normal;
}

/* Mobile: stack the halves (divider becomes horizontal) */
@media (max-width: 640px){
  .pp-hh-halvesGrid{
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  .pp-hh-divider{
    height: 2px;
    width: 100%;
  }
  .pp-hh-halfCol--right{
    text-align: left; /* feels cleaner on narrow screens */
  }
  .pp-hh-halfHeader{
    justify-content: space-between;
  }
}

/* =========================================================
   Meal Deal - mobile modal + picker overlay
   ========================================================= */

.pp-mealdeal-modal__backdrop{ display:none; }
.pp-mealdeal-modal,
.pp-mealdeal-modal__panel{ height:100%; }

@media (max-width: 1023.98px){
  .order-panel-container--mealdeal{
    padding: 0;
    border: 0;
    background: transparent;
    box-shadow: none;
  }

  .pp-mealdeal-modal{
    position: fixed;
    inset: 0;
    z-index: 1400;
    display: flex;
    align-items: stretch;
    justify-content: stretch;
  }

  .pp-mealdeal-modal__backdrop{
    display: block;
    position: absolute;
    inset: 0;
    background: rgba(2, 6, 23, 0.6);
  }

  .pp-mealdeal-modal__panel{
    position: relative;
    z-index: 1;
    width: 100%;
    height: 100vh;
    height: 100dvh;
    background: var(--pp-surface, var(--panel));
    padding: 1rem;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }
}

/* In-modal picker screen */
.pp-mealpick{
  position: absolute;
  inset: 0;
  z-index: 90;
  background: var(--pp-surface, var(--panel));
  display: flex;
  flex-direction: column;
}

.pp-mealpick__head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.75rem;
  padding: .9rem .9rem .75rem;
  border-bottom: 1px solid var(--border-color);
}

.pp-mealpick__title{
  font-weight: 950;
  letter-spacing: .10em;
  text-transform: uppercase;
  font-size: .85rem;
  color: var(--text-primary);
}

.pp-mealpick__sub{
  font-size: .9rem;
  color: var(--text-medium);
  font-weight: 650;
  margin-top: .15rem;
}

.pp-mealpick__body{
  flex: 1;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding: .85rem .9rem 1rem;
}

.pp-mealpick__grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: .9rem;
}

@media (min-width: 640px){
  .pp-mealpick__grid{
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

.pp-mealpick__card{
  border: 1px solid var(--border-color);
  border-radius: 16px;
  overflow: hidden;
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
  cursor: pointer;
  display:flex;
  flex-direction:column;
  transition: transform 160ms ease, border-color 160ms ease;
}
.pp-mealpick__card:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.35);
}

.pp-mealpick__img{
  width:100%;
  aspect-ratio: 4/3;
  object-fit: cover;
  display:block;
  background: rgba(255,255,255,0.04);
}

.pp-mealpick__meta{
  padding: .65rem .7rem .7rem;
  display:grid;
  gap:.25rem;
}

.pp-mealpick__name{
  font-weight: 900;
  font-size: .82rem;
  letter-spacing: .06em;
  text-transform: uppercase;
  color: var(--text-primary);
  line-height: 1.1;
}

.pp-mealpick__desc{
  font-size: .78rem;
  color: var(--text-medium);
  line-height: 1.2;
  display:-webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow:hidden;
}

/* =========================
   Half & Half - friendly verification chips
   ========================= */
.pp-hh-verify{
  display: grid;
  gap: 0.45rem;
  margin-top: 0.65rem;
}

.pp-hh-verifyRow{
  display: flex;
  justify-content: flex-start;
}

.pp-hh-halfCol--right .pp-hh-verifyRow{
  justify-content: flex-end; /* lines up with right-aligned column */
}

.pp-hh-chip{
  display: inline-flex;
  align-items: center;
  gap: 0.45rem;

  padding: 0.35rem 0.65rem;
  border-radius: 999px;

  font-weight: 850;
  font-size: 0.74rem;
  letter-spacing: 0.03em;

  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(255,255,255,0.05);
  color: var(--text-primary);
}

.pp-hh-chip--addons{
  border-color: rgba(190,242,100,0.30);
  background: rgba(190,242,100,0.10);
}

.pp-hh-chip--removed{
  border-color: rgba(251,113,133,0.30);
  background: rgba(251,113,133,0.10);
}

/* Make action buttons feel friendlier with subtle colour cues */
.pp-halfhalf-panel .pp-hh-actionBtn--neutral{
  background: rgba(129,140,248,0.12) !important;   /* soft indigo */
  border-color: rgba(129,140,248,0.38) !important;
}

.pp-halfhalf-panel .pp-hh-actionBtn--warn{
  background: rgba(251,191,36,0.18) !important;    /* warm cheese */
  border-color: rgba(251,191,36,0.48) !important;
}

.pp-halfhalf-panel .pp-hh-actionBtn--danger{
  background: rgba(248,113,113,0.16) !important;   /* tomato */
  border-color: rgba(248,113,113,0.52) !important;
}

/* =========================================================
   Meal Deal - calm, spacious builder layout
   ========================================================= */

.pp-md-head{
  margin-top: 0.25rem;
  margin-bottom: 0.9rem;
  padding: 1rem 1rem 0.95rem;
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
}

.pp-md-headRow{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 1rem;
}

.pp-md-kicker{
  font-weight: 900;
  letter-spacing: .16em;
  text-transform: uppercase;
  font-size: .72rem;
  color: rgba(190,242,100,0.85);
  margin-bottom: .25rem;
}

.pp-md-title{
  margin: 0;
  font-size: 1.35rem;
  font-weight: 950;
  letter-spacing: 0.01em;
}

.pp-md-sub{
  margin-top: .35rem;
  color: var(--text-medium);
  font-weight: 650;
  font-size: .92rem;
  line-height: 1.25;
}

.pp-md-pricePill{
  flex: 0 0 auto;
  padding: .55rem .8rem;
  border-radius: 999px;
  border: 1px solid rgba(190,242,100,0.35);
  background: rgba(190,242,100,0.10);
  font-weight: 950;
  letter-spacing: .06em;
  color: var(--text-primary);
  white-space: nowrap;
}

.pp-md-progress{
  margin-top: .85rem;
  display:grid;
  gap: .35rem;
}

.pp-md-progressTrack{
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(148,163,184,0.18);
  overflow: hidden;
}

.pp-md-progressFill{
  height: 100%;
  border-radius: 999px;
  background: rgba(190,242,100,0.85);
  box-shadow: 0 0 18px rgba(190,242,100,0.22);
}

.pp-md-progressMeta{
  font-size: .85rem;
  font-weight: 650;
  color: var(--text-medium);
}

/* Step cards */
.pp-md-steps{
  display: grid;
  grid-template-columns: 1fr;
  gap: .55rem;
  margin-bottom: .9rem;
}

.pp-md-stepCard{
  width: 100%;
  text-align: left;
  border-radius: 16px;
  padding: .8rem .9rem;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.02);
  box-shadow: var(--shadow-card);
  cursor: pointer;
}

.pp-md-stepCard.is-active{
  border-color: rgba(190,242,100,0.55);
  background: rgba(190,242,100,0.08);
}

.pp-md-stepTop{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: .75rem;
}

.pp-md-stepLabel{
  display:flex;
  align-items:center;
  gap: .6rem;
  min-width: 0;
}

.pp-md-stepNum{
  width: 26px;
  height: 26px;
  border-radius: 999px;
  display:flex;
  align-items:center;
  justify-content:center;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.20);
  font-weight: 950;
  font-size: .8rem;
}

.pp-md-stepText{
  font-weight: 900;
  letter-spacing: .08em;
  text-transform: uppercase;
  font-size: .78rem;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.pp-md-stepStatus{
  font-weight: 950;
  opacity: .85;
}

.pp-md-stepValue{
  margin-top: .45rem;
  font-size: .92rem;
  font-weight: 650;
  color: var(--text-medium);
}

/* Active step focus card */
.pp-md-active{
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
  padding: 1rem;
  margin-bottom: .9rem;
}

.pp-md-activeHead{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: .9rem;
  margin-bottom: .75rem;
}

.pp-md-activeKicker{
  font-weight: 900;
  letter-spacing: .14em;
  text-transform: uppercase;
  font-size: .72rem;
  color: rgba(190,242,100,0.85);
}

.pp-md-activeTitle{
  font-size: 1.05rem;
  font-weight: 950;
  margin-top: .2rem;
}

.pp-md-activePill{
  padding: .4rem .7rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.18);
  font-weight: 900;
  font-size: .78rem;
  white-space: nowrap;
}

.pp-md-activePill.is-filled{
  border-color: rgba(190,242,100,0.35);
  background: rgba(190,242,100,0.10);
}

.pp-md-activeBody{
  display:grid;
  gap: .85rem;
}

.pp-md-activeSummary{
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(0,0,0,0.18);
  padding: .75rem .85rem;
}

.pp-md-activeName{
  font-weight: 950;
  font-size: 1.0rem;
}

.pp-md-activeMeta{
  margin-top: .25rem;
  color: var(--text-medium);
  font-weight: 650;
  font-size: .9rem;
}

.pp-md-gfTag{
  margin-left: .5rem;
  padding: .15rem .45rem;
  border-radius: 999px;
  border: 1px solid rgba(251,191,36,0.45);
  background: rgba(251,191,36,0.12);
  font-weight: 950;
  font-size: .75rem;
}

.pp-md-activeEmpty{
  color: var(--text-medium);
  font-weight: 650;
  font-size: .92rem;
}

.pp-md-filters{
  display:grid;
  gap: .6rem;
}

.pp-md-chipRow{
  display:flex;
  flex-wrap: wrap;
  gap: .4rem;
}

.pp-md-chip{
  width: auto;
  padding: .35rem .65rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.12);
  font-weight: 850;
  font-size: .82rem;
  cursor: pointer;
}

.pp-md-chip.is-active{
  border-color: rgba(190,242,100,0.55);
  background: rgba(190,242,100,0.10);
}

.pp-md-search{
  width: 100%;
  padding: .7rem .85rem;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.18);
  color: var(--text-light);
  box-sizing: border-box;
}

.pp-md-body{
  flex: 1;
  min-height: 0;
  padding: .25rem;
}

.pp-md-bodyHint{
  border-radius: 14px;
  border: 1px dashed rgba(148,163,184,0.25);
  background: rgba(255,255,255,0.02);
  color: var(--text-medium);
  padding: .85rem .9rem;
  font-weight: 650;
}

/* =========================================================
   Meal Deal - Calm Mobile Builder (anti-anxiety mode)
   ========================================================= */
.pp-mdm{
  gap: 0.9rem;
}

.pp-mdm-head{
  padding: 1rem;
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
}

.pp-mdm-kicker{
  font-weight: 900;
  letter-spacing: .16em;
  text-transform: uppercase;
  font-size: .72rem;
  color: rgba(190,242,100,0.85);
  margin-bottom: .25rem;
}

.pp-mdm-title{
  font-size: 1.2rem;
  font-weight: 950;
  line-height: 1.1;
}

.pp-mdm-metaRow{
  display:flex;
  gap:.5rem;
  flex-wrap: wrap;
  margin-top: .65rem;
}

.pp-mdm-pill{
  padding: .35rem .6rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.16);
  font-weight: 850;
  font-size: .82rem;
  color: var(--text-primary);
}

.pp-mdm-pill--price{
  border-color: rgba(190,242,100,0.35);
  background: rgba(190,242,100,0.10);
}

.pp-mdm-progressTrack{
  margin-top: .75rem;
  height: 10px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.06);
  overflow:hidden;
}
.pp-mdm-progressFill{
  height:100%;
  border-radius:999px;
  background: rgba(190,242,100,0.85);
}

.pp-mdm-next{
  padding: 1rem;
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.03);
  box-shadow: var(--shadow-card);
}

.pp-mdm-nextTop{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: .75rem;
}

.pp-mdm-nextLabel{
  font-weight: 900;
  letter-spacing: .14em;
  text-transform: uppercase;
  font-size: .72rem;
  color: var(--text-medium);
}

.pp-mdm-nextSlot{
  margin-top: .2rem;
  font-weight: 950;
  font-size: 1.05rem;
}

.pp-mdm-status{
  width: 38px;
  height: 38px;
  border-radius: 999px;
  display:flex;
  align-items:center;
  justify-content:center;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.14);
  font-weight: 950;
}
.pp-mdm-status.is-filled{
  border-color: rgba(190,242,100,0.35);
  background: rgba(190,242,100,0.10);
}

.pp-mdm-nextValue{
  margin-top: .55rem;
  color: var(--text-medium);
  font-weight: 650;
}

.pp-mdm-list{
  padding: 0.85rem 0.85rem 0.65rem;
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.02);
}

.pp-mdm-listTitle{
  font-weight: 900;
  letter-spacing: .12em;
  text-transform: uppercase;
  font-size: .72rem;
  color: var(--text-medium);
  margin-bottom: .65rem;
}

.pp-mdm-row{
  width:100%;
  text-align:left;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.75rem;
  padding: .7rem .75rem;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(0,0,0,0.14);
  margin-bottom: .55rem;
}

.pp-mdm-rowLeft{ min-width: 0; }
.pp-mdm-rowSlot{
  font-weight: 900;
  letter-spacing: .10em;
  text-transform: uppercase;
  font-size: .72rem;
  color: rgba(190,242,100,0.85);
}
.pp-mdm-rowValue{
  margin-top: .2rem;
  color: var(--text-primary);
  font-weight: 700;
  font-size: .92rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 64vw;
}

.pp-mdm-rowRight{
  color: var(--text-medium);
  font-weight: 800;
  white-space: nowrap;
}

.pp-mdm-empty{
  padding: .75rem;
  border-radius: 14px;
  border: 1px dashed rgba(148,163,184,0.22);
  color: var(--text-medium);
  background: rgba(255,255,255,0.02);
}

/* =========================================================
   ItemDetailPanel - Meal Deal Quick Confirm styling
   ========================================================= */

.detail-panel--mealdeal_pick .detail-panel-body{
  padding-top: 0.5rem;
}

/* Meal deal quick confirm: keep footer buttons visible on short screens */
.detail-panel--mealdeal_pick .detail-image-wrapper{
  height: clamp(160px, 26vh, 280px) !important;
  margin-bottom: 0.45rem !important;
}

/* Extra safety for short phones / landscape */
@media (max-height: 760px){
  .detail-panel--mealdeal_pick .detail-image-wrapper{
    height: clamp(120px, 20vh, 220px) !important;
    margin-bottom: 0.35rem !important;
  }
}

.detail-panel--mealdeal_pick .ingredients-chip,
.detail-panel--mealdeal_pick .ingredient-pill{
  font-size: 0.75rem;
  padding: 0.28rem 0.5rem;
  border-radius: 999px;
}

/* Lock size pill */
.pp-md-sizeLock{
  margin-top: 0.65rem;
  padding: 0.6rem 0.8rem;
  border-radius: 14px;
  border: 1px solid rgba(190,242,100,0.28);
  background: rgba(190,242,100,0.10);
  font-weight: 800;
  color: var(--text-primary);
}

/* Make the Add-ons / Edit Ingredients buttons feel lighter */
.detail-panel--mealdeal_pick .simple-button,
.detail-panel--mealdeal_pick .pp-btn{
  min-height: 42px;
  border-radius: 14px;
  font-size: 0.85rem;
}

/* =========================================================
   ItemDetailPanel - Meal Deal Quick Confirm (less cramped)
   ========================================================= */

.detail-panel--mealdeal_pick .panel-title{
  margin-top: 0.55rem !important;
  margin-bottom: 0.25rem !important;
  font-size: 1.35rem;
}

.detail-panel--mealdeal_pick p{
  margin-top: 0.35rem;
  margin-bottom: 0.55rem;
  line-height: 1.25;
}

/* Hide the Add-ons text section spacing a bit */
.detail-panel--mealdeal_pick .muted-note,
.detail-panel--mealdeal_pick .h4{
  display: none;
}

/* Compact tool row above Back/Confirm */
.pp-mdp-footerTools{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.6rem;
  margin-bottom: 0.65rem;
}

.pp-mdp-footerTools--3{
  grid-template-columns: 1fr 1fr 1fr;
}

.pp-mdp-toolBtn{
  width: 100%;
  min-height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .45rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.30);
  background: rgba(255,255,255,0.06);
  box-shadow: var(--shadow-card);
  font-weight: 900;
  letter-spacing: 0.10em !important;
  text-transform: uppercase !important;
  color: var(--text-primary) !important;
  font-size: 0.78rem !important;
  line-height: 1 !important;
}

.pp-mdp-toolBtn:hover{
  border-color: rgba(190,242,100,0.40);
  background: rgba(190,242,100,0.10);
}

.pp-mdp-toolBtn--gf{
  border-color: rgba(251,191,36,0.35);
  background: rgba(251,191,36,0.10);
}

.pp-mdp-toolBtn--gf.is-on{
  border-color: rgba(251,191,36,0.55);
  background: rgba(251,191,36,0.18);
  box-shadow: 0 0 0 3px rgba(251,191,36,0.10);
}

.pp-mdp-toolBtn.is-disabled,
.pp-mdp-toolBtn:disabled{
  opacity: 0.55;
  cursor: not-allowed;
  filter: grayscale(0.25);
}

.pp-mdp-toolIcon{
  font-size: 1rem !important;
  line-height: 1 !important;
}

.pp-mdp-toolText{
  font-weight: 900 !important;
  letter-spacing: 0.10em !important;
  text-transform: uppercase !important;
}

/* Meal deal pick: verification strip */
.pp-mdp-summary{
  display: grid;
  gap: 0.5rem;
  margin-bottom: 0.75rem;
}

.pp-mdp-chip{
  width: 100%;
  padding: 0.55rem 0.7rem;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(255,255,255,0.05);
  box-shadow: var(--shadow-card);
  font-weight: 800;
  font-size: 0.82rem;
  color: var(--text-primary);
  line-height: 1.15;
}

.pp-mdp-chip--addons{
  border-color: rgba(190,242,100,0.32);
  background: rgba(190,242,100,0.10);
}

.pp-mdp-chip--removed{
  border-color: rgba(251,113,133,0.30);
  background: rgba(251,113,133,0.10);
}

/* =========================================================
   Item Detail Panel - Desktop layout (use the space)
   ========================================================= */

.detail-panel .pp-idp-top{
  display:flex;
  flex-direction:column;
  gap: 0.9rem;
}

/* Desktop: 2-column header (image left, details right) */
@media (min-width: 1024px){
  .detail-panel .pp-idp-top{
    flex-direction: row;
    align-items: stretch;
    gap: 1.15rem;
  }

  .detail-panel .pp-idp-hero{
    flex: 0 0 46%;
    margin-bottom: 0 !important;
    height: auto !important;        /* overrides inline */
    min-height: 300px;
    border-radius: 18px !important;
  }

  .detail-panel .pp-idp-meta{
    flex: 1 1 auto;
    min-width: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    padding-top: 0.2rem;
  }

  .detail-panel .pp-idp-title{
    margin-top: 0 !important;
    font-size: 1.55rem;
    line-height: 1.05;
  }

  .detail-panel .pp-idp-desc{
    margin-top: 0.35rem;
    margin-bottom: 0;
    font-size: 0.95rem;
    color: var(--text-medium);
    max-width: 62ch;
  }

  /* Make the control area feel "desktop", not cramped */
  .detail-panel .detail-panel-body{
    padding-top: 0.65rem;
    padding-right: 0.25rem;
  }

  .detail-panel .pp-size-row{
    gap: 0.65rem;
    margin-bottom: 0.8rem;
  }

  .detail-panel .pp-size-chip{
    padding: 0.55rem 0.95rem;
    border-radius: 0.9rem;
  }

  .detail-panel .pp-size-label{
    font-size: 0.82rem;
    font-weight: 800;
  }

  .detail-panel .pp-size-price{
    font-size: 0.82rem;
  }

  .detail-panel .size-quantity-row{
    padding: 0.95rem 1rem;
    border-radius: 1rem;
  }

  /* Footer tool buttons: bigger, "desktop" taps */
  .detail-panel .pp-mdp-footerTools{
    gap: 0.75rem;
    margin-bottom: 0.75rem;
  }
  .detail-panel .pp-mdp-toolBtn{
    padding: 0.9rem 1rem;
    border-radius: 18px;
  }
  .detail-panel .pp-mdp-toolText{
    font-size: 0.92rem;
    letter-spacing: 0.06em;
  }
}

/* =========================================================
   ItemDetailPanel - Enterprise + friendly (scoped)
   Paste at VERY BOTTOM so it wins.
   ========================================================= */

.detail-panel{
  /* local tokens */
  --idp-radius: 22px;
  --idp-radius-sm: 16px;
  --idp-pad: 18px;
  --idp-gap: 12px;

  --idp-surface: color-mix(in srgb, var(--pp-surface, var(--panel)) 92%, rgba(255,255,255,0.06) 8%);
  --idp-surface-2: color-mix(in srgb, var(--pp-surface-2, var(--panel)) 92%, rgba(255,255,255,0.06) 8%);
  --idp-border: color-mix(in srgb, var(--border-color) 75%, rgba(190,242,100,0.25) 25%);
  --idp-line: var(--line, var(--border-color));
}

/* Panel shell */
.detail-panel{
  border-radius: var(--idp-radius);
  border: 1px solid var(--idp-border);
  background:
    radial-gradient(720px 320px at 18% 0%, rgba(190,242,100,0.10), transparent 60%),
    radial-gradient(520px 280px at 82% 0%, rgba(251,113,133,0.08), transparent 58%),
    linear-gradient(180deg, var(--idp-surface) 0%, var(--idp-surface-2) 120%);
  box-shadow: var(--shadow-card);
}

/* Close button already styled globally; just ensure it doesn't clash */
.detail-panel > button[title="Close"]{
  border-color: rgba(148,163,184,0.26);
  background: rgba(15,23,42,0.28);
}

/* Top block spacing */
.detail-panel .pp-idp-top{
  gap: 1.05rem;
}

/* Hero image: crisp, framed, not "mobile sheet" */
.detail-panel .pp-idp-hero{
  border-radius: var(--idp-radius);
  border: 1px solid rgba(148,163,184,0.18);
  box-shadow: 0 16px 40px rgba(0,0,0,0.22);
  overflow: hidden;
}

/* Title/desc: remove shouty global uppercase just for this panel */
.detail-panel .pp-idp-title{
  margin: 0 !important;
  font-size: 1.45rem;
  line-height: 1.12;
  letter-spacing: 0.01em !important;
  text-transform: none !important;
  font-weight: 950;
  color: var(--text-primary);
}

.detail-panel .pp-idp-desc{
  margin: 0.45rem 0 0;
  font-size: 0.95rem;
  line-height: 1.35;
  color: var(--text-medium);
  text-transform: none;
  letter-spacing: 0.01em;
  max-width: 64ch;
}

/* Ingredients summary chip panel: calmer + readable */
.detail-panel .pp-ingredients-summary{
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.03);
  box-shadow: 0 10px 24px rgba(0,0,0,0.14);
}
[data-theme="light"] .detail-panel .pp-ingredients-summary{
  background: rgba(15,23,42,0.03);
  box-shadow: 0 10px 22px rgba(2,6,23,0.08);
}

/* Body padding / scroll feel */
.detail-panel .detail-panel-body{
  padding-top: 0.35rem;
  padding-right: 0.35rem;
  scrollbar-gutter: stable;
}

/* Size row: "enterprise segmented cards" */
.detail-panel .pp-size-row{
  gap: 0.65rem;
  margin-bottom: 0.75rem;
}

.detail-panel .pp-size-chip{
  border-radius: var(--idp-radius-sm);
  padding: 0.6rem 0.85rem;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(148,163,184,0.18);
  box-shadow: 0 10px 22px rgba(0,0,0,0.12);
  min-height: 44px;
}

[data-theme="light"] .detail-panel .pp-size-chip{
  background: rgba(15,23,42,0.03);
  box-shadow: 0 10px 20px rgba(2,6,23,0.08);
}

.detail-panel .pp-size-chip:hover{
  border-color: rgba(190,242,100,0.35);
}

.detail-panel .pp-size-chip--active{
  border-color: rgba(190,242,100,0.55) !important;
  background: rgba(190,242,100,0.08) !important;
  box-shadow: 0 0 0 3px rgba(190,242,100,0.12), 0 16px 34px rgba(0,0,0,0.16);
}

.detail-panel .pp-size-label{
  font-size: 0.82rem;
  font-weight: 900;
  letter-spacing: 0.10em;
  text-transform: uppercase;
}

.detail-panel .pp-size-price{
  font-size: 0.85rem;
  font-weight: 850;
  color: var(--text-medium);
  font-variant-numeric: tabular-nums;
}

/* Price/qty row: look like a professional "summary card" */
.detail-panel .size-quantity-row{
  border-radius: var(--idp-radius-sm);
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(0,0,0,0.14);
  padding: 0.9rem 0.95rem;
  margin-top: 0.65rem;
  box-shadow: 0 14px 34px rgba(0,0,0,0.16);
}

[data-theme="light"] .detail-panel .size-quantity-row{
  background: rgba(15,23,42,0.03);
  box-shadow: 0 12px 26px rgba(2,6,23,0.08);
}

.detail-panel .quantity-controls span{
  font-weight: 900;
  font-variant-numeric: tabular-nums;
}

/* Add-ons section heading: clearer */
.detail-panel .h4{
  margin-top: 1rem;
  letter-spacing: 0.02em;
  text-transform: none;
  font-weight: 950;
}

/* Bottom bar: cleaner separation + "enterprise toolbar" */
.detail-panel .cart-total-section{
  border-top: 1px solid rgba(148,163,184,0.18) !important;
  background:
    linear-gradient(180deg, rgba(0,0,0,0), rgba(15,23,42,0.22) 30%, rgba(15,23,42,0.35));
  padding-top: 0.85rem !important;
  padding-inline: 0.25rem;
}

[data-theme="light"] .detail-panel .cart-total-section{
  background: linear-gradient(180deg, rgba(0,0,0,0), rgba(15,23,42,0.04) 30%, rgba(15,23,42,0.06));
}

/* Footer tool buttons (Add-ons / Ingredients / GF): consistent + friendly */
.detail-panel .pp-mdp-footerTools{
  gap: 0.7rem;
  margin-bottom: 0.85rem;
}

.detail-panel .pp-mdp-toolBtn{
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.20);
  background: rgba(255,255,255,0.04);
  box-shadow: 0 12px 28px rgba(0,0,0,0.14);
  padding: 0.85rem 0.95rem;
}

[data-theme="light"] .detail-panel .pp-mdp-toolBtn{
  background: rgba(15,23,42,0.03);
  box-shadow: 0 10px 22px rgba(2,6,23,0.08);
}

.detail-panel .pp-mdp-toolBtn:hover{
  border-color: rgba(190,242,100,0.30);
  transform: translateY(-1px);
}

.detail-panel .pp-mdp-toolText{
  font-size: 0.88rem;
  font-weight: 900;
  letter-spacing: 0.10em;
  text-transform: uppercase;
}

/* GF button: warm + clear state */
.detail-panel .pp-mdp-toolBtn--gf.is-on{
  border-color: rgba(251,191,36,0.45);
  background: rgba(251,191,36,0.10);
}

/* Primary CTA: more "product" than "arcade" */
.detail-panel .place-order-button{
  border-radius: 16px !important;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  font-weight: 950;
  box-shadow: 0 18px 46px rgba(34,197,94,0.30);
}

/* Secondary button (Cancel/Back): less shouty */
.detail-panel .simple-button{
  border-radius: 16px !important;
  letter-spacing: 0.08em;
  font-weight: 850;
}

/* Mobile: keep it roomy */
@media (max-width: 640px){
  .detail-panel{
    --idp-pad: 16px;
  }
  .detail-panel .pp-idp-title{
    font-size: 1.25rem;
  }
  .detail-panel .pp-idp-desc{
    font-size: 0.92rem;
  }
}

/* =========================================================
   ItemDetailPanel -- tidy spacing + consistent padding
   ========================================================= */

.pp-itemdetail-modal__panel{
  padding: 0.85rem;
}

@media (min-width: 1024px){
  .pp-itemdetail-modal__panel{
    padding: 0.95rem;
  }
}

/* keep inner spacing consistent without looking "mobile cramped" */
.pp-itemdetail-modal__panel .detail-panel .detail-image-wrapper{
  margin-bottom: 0.65rem !important;
}

/* scroll body: less random whitespace, nicer rhythm */
.pp-itemdetail-modal__panel .detail-panel .detail-panel-body{
  padding-right: 0.15rem !important;
  padding-top: 0.35rem !important;
}

/* size chips + price row: a bit tighter */
.pp-itemdetail-modal__panel .detail-panel .pp-size-row{
  margin-bottom: 0.55rem !important;
  gap: 0.55rem !important;
}

.pp-itemdetail-modal__panel .detail-panel .size-quantity-row{
  margin-top: 0.55rem !important;
  padding: 0.8rem 0.9rem !important;
}

/* Add-ons section: reduce the "big dead zone" feel */
.pp-itemdetail-modal__panel .detail-panel .h4{
  margin-top: 0.85rem !important;
  margin-bottom: 0.35rem !important;
}

.pp-itemdetail-modal__panel .detail-panel .muted-note{
  margin: 0.15rem 0 0.55rem !important;
}

/* footer: tighter + aligned */
.pp-itemdetail-modal__panel .detail-panel .cart-total-section{
  padding-top: 0.6rem !important;
  padding-bottom: calc(0.35rem + env(safe-area-inset-bottom)) !important;
}

.pp-itemdetail-modal__panel .detail-panel .pp-mdp-footerTools{
  margin-bottom: 0.55rem !important;
  gap: 0.6rem !important;
}

.pp-itemdetail-modal__panel .detail-panel .pp-mdp-toolBtn{
  padding: 0.78rem 0.9rem !important;
}

/* =========================================================
   ItemDetailPanel -- proper inner gutters (don't shrink panel)
   ========================================================= */

.pp-itemdetail-modal__panel .detail-panel{
  /* keep panel size the same, just give content breathing room */
  --idp-gutter: 18px;
}

/* Apply gutters to the main content areas */
.pp-itemdetail-modal__panel .detail-panel .pp-idp-top,
.pp-itemdetail-modal__panel .detail-panel .detail-panel-body,
.pp-itemdetail-modal__panel .detail-panel .cart-total-section{
  padding-left: var(--idp-gutter) !important;
  padding-right: var(--idp-gutter) !important;
}

/* If your hero image wrapper is inside pp-idp-top, this keeps it aligned */
.pp-itemdetail-modal__panel .detail-panel .detail-image-wrapper{
  /* don't let the image touch the edge */
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* Footer area: keep the toolbar + CTA aligned with the same gutters */
.pp-itemdetail-modal__panel .detail-panel .pp-mdp-footerTools{
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* Optional: slightly larger gutters on desktop */
@media (min-width: 1024px){
  .pp-itemdetail-modal__panel .detail-panel{
    --idp-gutter: 22px;
  }
}

/* Restore outer panel padding to avoid shrinking the panel too much */
.pp-itemdetail-modal__panel{
  padding: 1rem;
}

@media (min-width: 1024px){
  .pp-itemdetail-modal__panel{
    padding: 1.05rem;
  }
}

/* =========================================================
   Meal Deal (MOBILE) -- sticky header + always-available exit
   Desktop unchanged
   ========================================================= */
@media (max-width: 1023.98px){
  /* The meal-deal builder scrolls, so keep its header pinned */
  .pp-mealdeal-modal__panel .pp-mdm-head{
    position: sticky;
    top: 0;
    z-index: 80;
    padding-top: calc(1rem + env(safe-area-inset-top));
    background:
      radial-gradient(900px 240px at 50% 0%, rgba(190,242,100,0.14), transparent 62%),
      linear-gradient(180deg, var(--pp-surface, var(--panel)) 0%, rgba(0,0,0,0) 85%);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  /* Close (X) button pinned inside the header */
  .pp-mealdeal-modal__panel .pp-mdm-closeBtn{
    position: absolute;
    top: calc(0.9rem + env(safe-area-inset-top));
    right: 0.9rem;
    z-index: 90;
  }
}

/* Meal Deal desktop: keep price + close tidy (prevents overlap) */
.pp-md-headActions{
  display: inline-flex;
  align-items: center;
  gap: 0.65rem;
  flex: 0 0 auto;
}

.pp-md-closeBtn{
  width: 38px;
  height: 38px;
  flex: 0 0 auto;
}

/* =========================================================
   Meal Deal (DESKTOP) -- make editorItem a true overlay modal
   Mobile already uses inline fixed styles -- leave it alone.
   ========================================================= */
@media (min-width: 1024px){
  .pp-md-editorOverlay--inpanel{
    position: absolute;
    inset: 0;
    z-index: 80;

    /* modal backdrop */
    background: rgba(2, 6, 23, 0.55);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);

    display: flex;
    align-items: stretch;
    justify-content: center;

    padding: 1.25rem;
    overflow: hidden;
  }

  .pp-md-editorShell--inpanel{
    width: 100%;
    max-width: 760px;
    height: 100%;
    min-height: 0;

    display: flex;
    overflow: hidden;
  }

  /* Ensure ItemDetailPanel fills the shell nicely */
  .pp-md-editorShell--inpanel .detail-panel{
    height: 100%;
    min-height: 0;
  }

  .pp-md-editorShell--inpanel .detail-panel-body{
    min-height: 0;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  .pp-md-editorShell--inpanel .cart-total-section{
    position: sticky;
    bottom: 0;
    z-index: 5;
  }
}

/* =========================================================
   Meal Deal (mobile) -- premium footer buttons
   Scoped to meal-deal mobile modal only
   ========================================================= */
@media (max-width: 1023.98px){
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section{
    border-top: 1px solid rgba(148,163,184,0.22);
    background:
      radial-gradient(900px 220px at 50% 0%, rgba(190,242,100,0.14), transparent 62%),
      linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.10));
    border-radius: 18px;
    padding: 0.9rem;
    margin-top: 0.85rem;
    box-shadow: 0 18px 44px rgba(0,0,0,0.22);
  }

  /* Make the two actions feel like a matched set */
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section button{
    border-radius: 16px !important;
    min-height: 54px;
    font-weight: 900;
    letter-spacing: 0.10em;
    transition: transform 140ms ease, box-shadow 140ms ease, filter 140ms ease;
  }

  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section button:active{
    transform: translateY(1px) scale(0.99);
  }

  /* Primary: Add meal */
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section .place-order-button{
    border: 1px solid rgba(190,242,100,0.55);
    background:
      radial-gradient(900px 320px at 30% 10%, rgba(190,242,100,0.55), transparent 55%),
      linear-gradient(180deg, rgba(34,197,94,0.32), rgba(2,6,23,0.16));
    box-shadow:
      0 18px 40px rgba(0,0,0,0.28),
      inset 0 1px 0 rgba(255,255,255,0.20);
    filter: saturate(1.05);
  }
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section .place-order-button:hover{
    box-shadow:
      0 22px 54px rgba(0,0,0,0.30),
      0 0 0 3px rgba(190,242,100,0.20),
      inset 0 1px 0 rgba(255,255,255,0.22);
    transform: translateY(-1px);
  }

  /* Secondary: Review / change */
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section .simple-button{
    border: 1px solid rgba(148,163,184,0.26);
    background:
      linear-gradient(180deg, rgba(255,255,255,0.10), rgba(0,0,0,0.08));
    box-shadow:
      0 14px 32px rgba(0,0,0,0.20),
      inset 0 1px 0 rgba(255,255,255,0.18);
  }
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section .simple-button:hover{
    box-shadow:
      0 18px 44px rgba(0,0,0,0.22),
      0 0 0 3px rgba(148,163,184,0.16),
      inset 0 1px 0 rgba(255,255,255,0.18);
    transform: translateY(-1px);
  }

  /* Tighten icon spacing inside button label (emoji) */
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section .place-order-button,
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .cart-total-section .simple-button{
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.55rem;
  }
}

/* =========================================================
   Meal Deal (mobile) -- ALWAYS allow scroll so footer/buttons are reachable
   ========================================================= */
@media (max-width: 1023.98px){
  /* the modal panel is a fixed-height sheet; keep it clipped */
  .pp-mealdeal-modal__panel{
    min-height: 0;
    overflow: hidden;
  }

  /* make the meal-deal order panel fill the sheet */
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal{
    flex: 1 1 auto;
    min-height: 0;
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden; /* inner scroll lives on the builder */
  }

  /* the actual builder becomes the scroll container */
  .pp-mealdeal-modal__panel .order-panel-container--mealdeal .pp-mdm{
    flex: 1 1 auto;
    min-height: 0;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;

    /* ensure the footer/buttons never sit under the home bar */
    padding-bottom: calc(1.25rem + env(safe-area-inset-bottom));
  }
}

/* Mobile meal deal editor: the whole editor scrolls, not the list */
@media (max-width: 1023.98px){
  .pp-mealdeal-modal__panel .pp-mdm{
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  .pp-mealdeal-modal__panel .pp-mdm-list{
    overflow: visible;
  }
}

/* =========================================================
   Meal Deal (mobile) -- keep BOTH buttons visible when complete
   ========================================================= */

.pp-mdm-footerActions{
  display: grid;
  gap: 0.55rem;
}

.pp-mdm-footerActions--complete{
  grid-template-columns: 1fr 1fr;
  align-items: stretch;
}

.pp-mdm-footerActions--complete .place-order-button,
.pp-mdm-footerActions--complete .simple-button{
  min-height: 50px;
  font-size: 0.9rem;
  letter-spacing: 0.10em;
}

/* If screen is ultra narrow, allow wrap back to 1 column */
@media (max-width: 380px){
  .pp-mdm-footerActions--complete{
    grid-template-columns: 1fr;
  }
}

/* Short-height devices: tighten spacing so footer fits comfortably */
@media (max-height: 760px){
  .pp-mdm-head{ padding: 0.8rem !important; }
  .pp-mdm-next{ padding: 0.8rem !important; }
  .pp-mdm-list{ padding: 0.7rem 0.7rem 0.55rem !important; }
  .cart-total-section{ padding-top: 0.75rem !important; }
}

/* Meal deal mobile panel: slightly tighter footer padding */
@media (max-width: 1023.98px){
  .pp-mealdeal-modal__panel .pp-mdm .cart-total-section{
    padding-bottom: calc(0.6rem + env(safe-area-inset-bottom)) !important;
  }
}

/* =========================================================
   Meal Deal (mobile) -- footer ALWAYS visible (Add + Review)
   ========================================================= */

/* Make the list the scroll container */
.pp-mdm-list.pp-mdm-list--scroll{
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;

  /* space so content never hides behind the pinned footer */
  padding-bottom: calc(260px + env(safe-area-inset-bottom));
}

/* Default (if ever used outside modal): sticky footer */
.pp-mdm-footer{
  position: sticky;
  bottom: 0;
  z-index: 40;
  padding-bottom: calc(1rem + env(safe-area-inset-bottom));
}

/* Inside the meal-deal mobile modal: absolute pin (more reliable than sticky) */
@media (max-width: 1023.98px){
  .pp-mealdeal-modal__panel .pp-mdm{
    position: relative;
  }

  .pp-mealdeal-modal__panel .pp-mdm-footer{
    position: absolute;
    left: 1rem;
    right: 1rem;
    bottom: calc(1rem + env(safe-area-inset-bottom));
    z-index: 80;
    border-radius: 18px;
    box-shadow: var(--shadow-float);
  }

  /* match the modal pin height */
  .pp-mealdeal-modal__panel .pp-mdm-list.pp-mdm-list--scroll{
    padding-bottom: calc(300px + env(safe-area-inset-bottom));
  }
}

/* =========================================================
   Meal Deal Navigator BG cards -- FIX stacking + readable text
   (Paste at VERY BOTTOM so it wins)
   ========================================================= */

.pp-mdm-row--bg,
.pp-md-stepCard--bg{
  position: relative;
  overflow: hidden;
  isolation: isolate; /* creates a clean stacking context */
}

/* Background image layer (behind everything) */
.pp-mdm-row--bg::before,
.pp-md-stepCard--bg::before{
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  background-image: var(--pp-md-row-bg);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.92;
  transform: scale(1.05);
  filter: saturate(1.25) contrast(1.12) brightness(1.05);
}

/* Overlay layer (still behind text, above photo) */
.pp-mdm-row--bg::after,
.pp-md-stepCard--bg::after{
  content: "";
  position: absolute;
  inset: 0;
  z-index: 1;

  /* light scrim so black text works */
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.70),
    rgba(255,255,255,0.20)
  );
}

/* Put all real content above pseudo-layers */
.pp-mdm-row--bg > *,
.pp-md-stepCard--bg > *{
  position: relative;
  z-index: 2;
}

/* ---- Text readability: black + glow ---- */

/* Give the LEFT text block a glass chip */
.pp-mdm-row--bg .pp-mdm-rowLeft{
  padding: 0.45rem 0.55rem;
  border-radius: 12px;
  background: rgba(255,255,255,0.62);
  border: 1px solid rgba(15,23,42,0.14);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}

/* Make "Change ->" readable as a chip too */
.pp-mdm-row--bg .pp-mdm-rowRight{
  padding: 0.32rem 0.6rem;
  border-radius: 999px;
  background: rgba(255,255,255,0.62);
  border: 1px solid rgba(15,23,42,0.14);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}

/* Force key text to black with glow */
.pp-mdm-row--bg .pp-mdm-rowSlot,
.pp-mdm-row--bg .pp-mdm-rowValue,
.pp-mdm-row--bg .pp-mdm-rowRight,
.pp-md-stepCard--bg .pp-md-stepText,
.pp-md-stepCard--bg .pp-md-stepValue{
  color: #0b1220 !important;
  opacity: 1 !important;
  text-shadow:
    0 1px 0 rgba(255,255,255,0.95),
    0 0 10px rgba(255,255,255,0.70),
    0 0 18px rgba(255,255,255,0.45);
}

/* ================================
   Meal Deal Navigator -- TEXT FIX
   Make text readable on photo rows
   ================================ */

/* Stronger "white scrim" on the LEFT so black text always reads */
.pp-mdm-row--bg::after,
.pp-md-stepCard--bg::after{
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.88),
    rgba(255,255,255,0.34)
  ) !important;
}

/* Photo strength (keep it visible) */
.pp-mdm-row--bg::before,
.pp-md-stepCard--bg::before{
  opacity: 0.88 !important;
  filter: saturate(1.28) contrast(1.12) brightness(1.05) !important;
}

/* FORCE key text to black + glow (don't rely on inherit) */
.pp-mdm-row--bg .pp-mdm-rowSlot,
.pp-mdm-row--bg .pp-mdm-rowValue,
.pp-mdm-row--bg .pp-mdm-rowRight,
.pp-md-stepCard--bg .pp-md-stepText,
.pp-md-stepCard--bg .pp-md-stepValue{
  color: #0b1220 !important;
  opacity: 1 !important;
  text-shadow:
    0 1px 0 rgba(255,255,255,0.92),
    0 0 10px rgba(255,255,255,0.72),
    0 0 18px rgba(255,255,255,0.48),
    0 1px 12px rgba(0,0,0,0.18) !important;
}

/* Optional: make the "Change ->" look like a readable action chip */
.pp-mdm-row--bg .pp-mdm-rowRight{
  padding: 0.28rem 0.6rem;
  border-radius: 999px;
  background: rgba(255,255,255,0.55);
  border: 1px solid rgba(15,23,42,0.16);
}

/* =========================================================
   Meal Deal Navigator -- chosen item uses product image bg
   Scoped: pp-mdm-row + pp-md-stepCard only
   ========================================================= */

.pp-mdm-row--bg,
.pp-md-stepCard--bg{
  position: relative;
  overflow: hidden;
  background: transparent; /* let our image layer show */
}

/* Image layer -- make it much more visible */
.pp-mdm-row--bg::before,
.pp-md-stepCard--bg::before{
  content: "";
  position: absolute;
  inset: 0;
  background-image: var(--pp-md-row-bg);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  /* stronger photo */
  opacity: 0.78;
  transform: scale(1.06);

  /* make food pics pop without destroying them */
  filter: saturate(1.25) contrast(1.10) brightness(1.05);
}

/* Overlay -- MUCH lighter so the photo shows through */
.pp-mdm-row--bg::after,
.pp-md-stepCard--bg::after{
  content: "";
  position: absolute;
  inset: 0;

  /* light "glass" over the image (works with black text) */
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.62),
    rgba(255,255,255,0.18)
  );
}

/* Black text + glow for readability on photos */
.pp-mdm-row--bg,
.pp-md-stepCard--bg{
  color: #0b0f19;
}


/* Light mode: still visible but slightly softer */
[data-theme="light"] .pp-mdm-row--bg::before,
[data-theme="light"] .pp-md-stepCard--bg::before{
  opacity: 0.70;
}

[data-theme="light"] .pp-mdm-row--bg::after,
[data-theme="light"] .pp-md-stepCard--bg::after{
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.52),
    rgba(255,255,255,0.14)
  );
}

/* =========================================================
   MEAL DEAL -- v2 polish (enterprise + friendly)
   Scoped to pp-md / pp-mdm / meal pick / mealdeal pick panel
   ========================================================= */

/* Mobile builder: richer cards + softer borders */
.pp-mdm-head,
.pp-mdm-next,
.pp-mdm-list{
  border: 1px solid rgba(148,163,184,0.22);
  background:
    radial-gradient(900px 380px at 50% 0%, rgba(190,242,100,0.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.10));
}

/* Meal deal mobile: ensure list can shrink and scroll inside flex column */
.pp-mdm-list{
  min-height: 0;
}

[data-theme="light"] .pp-mdm-head,
[data-theme="light"] .pp-mdm-next,
[data-theme="light"] .pp-mdm-list{
  background:
    radial-gradient(900px 380px at 50% 0%, rgba(22,163,74,0.10), transparent 60%),
    linear-gradient(180deg, rgba(2,6,23,0.02), rgba(2,6,23,0.00));
}

/* Status bubble looks like a "badge", not a random circle */
.pp-mdm-status{
  box-shadow: 0 10px 24px rgba(0,0,0,0.24);
  letter-spacing: 0.06em;
}

/* Rows: subtle lift + crisp hover */
.pp-mdm-row{
  transition: transform 160ms ease, border-color 160ms ease, background-color 160ms ease, box-shadow 160ms ease;
}
.pp-mdm-row:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.35);
  box-shadow: 0 16px 36px rgba(0,0,0,0.22);
}

/* Make the "Add meal" CTA feel premium */
.pp-mdm .place-order-button{
  border-radius: 16px;
  font-weight: 900;
  letter-spacing: 0.10em;
}

/* Meal picker: header looks like a product sheet */
.pp-mealpick__head{
  background:
    radial-gradient(720px 280px at 50% 0%, rgba(190,242,100,0.12), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.08));
}

/* Meal deal pick (ItemDetailPanel): keep footer always readable */
.detail-panel--mealdeal_pick .cart-total-section{
  position: sticky !important;
  bottom: 0;
  z-index: 6;
  padding-bottom: calc(0.85rem + env(safe-area-inset-bottom)) !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Meal deal pick: buttons consistent + friendly */
.detail-panel--mealdeal_pick .simple-button,
.detail-panel--mealdeal_pick .place-order-button{
  min-height: 50px;
  border-radius: 16px;
}

@media (max-width: 1023.98px){
  .pp-mealdeal-modal__panel .pp-mdm-closeBtn{
    position: absolute;
    top: calc(0.85rem + env(safe-area-inset-top));
    right: 0.85rem;
    z-index: 90;

    /* make it obvious */
    width: auto !important;
    height: 44px !important;
    padding: 0 0.9rem !important;

    border-radius: 999px !important;
    font-weight: 900;
    letter-spacing: 0.08em;

    display: inline-flex !important;
    align-items: center !important;
    gap: 0.55rem;

    /* strong contrast + "premium" feel */
    background:
      linear-gradient(180deg, rgba(255,255,255,0.16), rgba(0,0,0,0.10)) !important;
    border: 1px solid rgba(148,163,184,0.28) !important;
    box-shadow:
      0 18px 40px rgba(0,0,0,0.26),
      0 0 0 3px rgba(190,242,100,0.18),
      inset 0 1px 0 rgba(255,255,255,0.20);

    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .pp-mealdeal-modal__panel .pp-mdm-closeBtn:active{
    transform: translateY(1px) scale(0.99);
  }

  .pp-mealdeal-modal__panel .pp-mdm-closeIcon{
    font-size: 22px;
    line-height: 1;
    margin-top: -1px;
  }

  .pp-mealdeal-modal__panel .pp-mdm-closeText{
    font-size: 12px;
    text-transform: uppercase;
  }
}

/* =========================================================
   Half & Half (MOBILE) -- clarity wizard (scoped)
   ========================================================= */
@media (max-width: 1023.98px){
  .pp-halfhalf-panel .pp-hh-wizTop{
    position: sticky;
    top: 0;
    z-index: 8;
    margin: 0 0 0.75rem;
    padding: 0.85rem 0.85rem 0.75rem;
    border-radius: 18px;
    border: 1px solid rgba(148,163,184,0.20);
    background:
      radial-gradient(900px 240px at 50% 0%, rgba(190,242,100,0.10), transparent 62%),
      linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.08));
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: var(--shadow-card);
  }

  .pp-halfhalf-panel .pp-hh-wizRow{
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.75rem;
    margin-bottom: 0.65rem;
  }

  .pp-halfhalf-panel .pp-hh-wizStep{
    font-weight: 900;
    font-size: 0.78rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text-medium);
  }

  .pp-halfhalf-panel .pp-hh-wizDot{
    margin: 0 0.4rem;
    opacity: 0.6;
  }

  .pp-halfhalf-panel .pp-hh-wizGoal{
    padding: 0.35rem 0.65rem;
    border-radius: 999px;
    border: 1px solid rgba(190,242,100,0.28);
    background: rgba(190,242,100,0.10);
    font-weight: 950;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    font-size: 0.72rem;
    color: var(--text-primary);
    white-space: nowrap;
  }

  .pp-halfhalf-panel .pp-hh-wizCards{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.65rem;
  }

  .pp-halfhalf-panel .pp-hh-wizCard{
    text-align: left;
    padding: 0.75rem 0.75rem 0.7rem;
    border-radius: 16px;
    border: 1px solid rgba(148,163,184,0.20);
    background: rgba(0,0,0,0.14);
    box-shadow: 0 10px 22px rgba(0,0,0,0.18);
    overflow: hidden;
  }

  [data-theme="light"] .pp-halfhalf-panel .pp-hh-wizCard{
    background: rgba(15,23,42,0.03);
    box-shadow: 0 10px 20px rgba(2,6,23,0.08);
  }

  .pp-halfhalf-panel .pp-hh-wizCard.is-active{
    border-color: rgba(190,242,100,0.55);
    box-shadow: 0 0 0 3px rgba(190,242,100,0.12), 0 16px 34px rgba(0,0,0,0.18);
  }

  .pp-halfhalf-panel .pp-hh-wizCardTop{
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.4rem;
  }

  .pp-halfhalf-panel .pp-hh-wizCardTag{
    font-weight: 950;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    font-size: 0.68rem;
    color: rgba(190,242,100,0.90);
  }

  .pp-halfhalf-panel .pp-hh-wizCheck{
    width: 22px;
    height: 22px;
    border-radius: 999px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: rgba(190,242,100,0.90);
    color: #0b1220;
    font-weight: 950;
    font-size: 0.78rem;
  }

  .pp-halfhalf-panel .pp-hh-wizCardName{
    font-weight: 850;
    font-size: 0.86rem;
    color: var(--text-primary);
    line-height: 1.15;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    min-height: 2.1em;
  }

  .pp-halfhalf-panel .pp-hh-wizHint{
    margin-top: 0.6rem;
    font-size: 0.88rem;
    color: var(--text-medium);
    font-weight: 650;
  }

  .pp-halfhalf-panel .pp-hh-heroHint{
    position: absolute;
    left: 0.85rem;
    right: 0.85rem;
    bottom: 0.85rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.35rem;
    pointer-events: none;
  }

  .pp-halfhalf-panel .pp-hh-heroHintPill{
    padding: 0.35rem 0.7rem;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.22);
    background: rgba(2,6,23,0.40);
    color: rgba(255,255,255,0.92);
    font-weight: 950;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    font-size: 0.72rem;
    box-shadow: 0 14px 34px rgba(0,0,0,0.30);
  }

  .pp-halfhalf-panel .pp-hh-heroHintSub{
    font-size: 0.85rem;
    color: rgba(255,255,255,0.78);
    text-shadow: 0 8px 20px rgba(0,0,0,0.35);
  }
}

/* =========================================================
   Half & Half (MOBILE) -- menu item selector (pizza picker) v2
   Scoped + safe: only affects <= 1024px and only these classes
   ========================================================= */
@media (max-width: 1023.98px){
  .pp-halfhalf-panel .pp-hh-pickGrid{
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.8rem;
  }

  .pp-halfhalf-panel .pp-hh-pickCard{
    padding: 0 !important;
    overflow: hidden;
    border-radius: 18px !important;
    border: 1px solid rgba(148,163,184,0.22) !important;
    background:
      radial-gradient(900px 240px at 50% 0%, rgba(190,242,100,0.10), transparent 62%),
      linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.10)) !important;
    box-shadow: 0 14px 34px rgba(0,0,0,0.18) !important;
    text-align: left;
  }

  .pp-halfhalf-panel .pp-hh-pickCard:hover{
    transform: translateY(-1px);
    border-color: rgba(190,242,100,0.40) !important;
    box-shadow: 0 18px 44px rgba(0,0,0,0.22) !important;
  }

  .pp-halfhalf-panel .pp-hh-pickCard.is-selected{
    border-color: rgba(190,242,100,0.62) !important;
    box-shadow:
      0 0 0 3px rgba(190,242,100,0.14),
      0 18px 44px rgba(0,0,0,0.24) !important;
  }

  .pp-halfhalf-panel .pp-hh-pickThumbWrap{
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 7;
    overflow: hidden;
    border-bottom: 1px solid rgba(148,163,184,0.20);
    background: rgba(255,255,255,0.03);
  }

  .pp-halfhalf-panel .pp-hh-pickThumb{
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transform: scale(1.03);
    filter: saturate(1.12) contrast(1.05);
  }

  .pp-halfhalf-panel .pp-hh-pickBadge{
    position: absolute;
    left: 0.75rem;
    bottom: 0.65rem;
    padding: 0.34rem 0.7rem;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.22);
    background: rgba(2,6,23,0.42);
    color: rgba(255,255,255,0.92);
    font-weight: 950;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    font-size: 0.70rem;
    box-shadow: 0 14px 34px rgba(0,0,0,0.35);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  .pp-halfhalf-panel .pp-hh-pickBody{
    padding: 0.85rem 0.9rem 0.85rem;
    display: grid;
    gap: 0.35rem;
    min-width: 0;
  }

  .pp-halfhalf-panel .pp-hh-pickName{
    font-weight: 950;
    font-size: 0.98rem;
    letter-spacing: 0.03em;
    color: var(--text-primary);
    line-height: 1.12;
  }

  .pp-halfhalf-panel .pp-hh-pickDesc{
    font-size: 0.86rem;
    color: var(--text-medium);
    line-height: 1.25;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .pp-halfhalf-panel .pp-hh-pickRow{
    margin-top: 0.25rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.75rem;
  }

  .pp-halfhalf-panel .pp-hh-pickHint{
    font-size: 0.84rem;
    font-weight: 700;
    color: var(--text-medium);
  }

  .pp-halfhalf-panel .pp-hh-pickAction{
    padding: 0.35rem 0.65rem;
    border-radius: 999px;
    border: 1px solid rgba(190,242,100,0.30);
    background: rgba(190,242,100,0.12);
    color: var(--text-primary);
    font-weight: 950;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    font-size: 0.72rem;
    white-space: nowrap;
  }

  .pp-halfhalf-panel .pp-hh-pickCard.is-selected .pp-hh-pickAction{
    border-color: rgba(190,242,100,0.55);
    background: rgba(190,242,100,0.18);
  }
}

/* =========================================================
   Half & Half (MOBILE) -- Selection Mode banner (menu picker)
   ========================================================= */
@media (max-width: 1023.98px){
  .pp-hh-pickNotice{
    margin: 0.85rem 0;
    padding: 0.95rem 1rem;
    border-radius: 18px;
    border: 1px solid rgba(148,163,184,0.26);
    background:
      radial-gradient(900px 240px at 50% 0%, rgba(190,242,100,0.14), transparent 62%),
      linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.12));
    box-shadow: var(--shadow-float);
  }

  .pp-hh-pickNotice__top{
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 0.75rem;
    margin-bottom: 0.65rem;
  }

  .pp-hh-pickNotice__kicker{
    font-weight: 950;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    font-size: 0.72rem;
    color: rgba(190,242,100,0.92);
    margin-bottom: 0.25rem;
  }

  .pp-hh-pickNotice__title{
    font-weight: 950;
    font-size: 1.05rem;
    line-height: 1.15;
    color: var(--text-primary);
  }

  .pp-hh-pickNotice__exit{
    flex: 0 0 auto;
    height: 42px;
    padding: 0 0.85rem;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.28);
    background: rgba(15,23,42,0.14);
    font-weight: 950;
    letter-spacing: 0.10em;
    text-transform: uppercase;
    font-size: 0.76rem;
    box-shadow: 0 14px 34px rgba(0,0,0,0.18);
  }

  .pp-hh-pickNotice__stepRow{
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.6rem;
    flex-wrap: wrap;
    margin-bottom: 0.55rem;
  }

  .pp-hh-pickNotice__stepPill{
    padding: 0.3rem 0.6rem;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.22);
    background: rgba(0,0,0,0.14);
    font-weight: 950;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    font-size: 0.7rem;
    color: var(--text-primary);
  }

  .pp-hh-pickNotice__nextPill{
    padding: 0.3rem 0.65rem;
    border-radius: 999px;
    border: 1px solid rgba(190,242,100,0.35);
    background: rgba(190,242,100,0.10);
    font-weight: 850;
    color: var(--text-primary);
    font-size: 0.85rem;
  }

  .pp-hh-pickNotice__progress{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.45rem;
    margin-bottom: 0.75rem;
  }
  .pp-hh-pickNotice__seg{
    height: 10px;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.18);
    background: rgba(255,255,255,0.06);
    overflow: hidden;
  }
  .pp-hh-pickNotice__seg.is-active{
    background: rgba(190,242,100,0.18);
    border-color: rgba(190,242,100,0.35);
    box-shadow: 0 0 0 3px rgba(190,242,100,0.10);
  }
  .pp-hh-pickNotice__seg.is-done{
    background: rgba(190,242,100,0.75);
    border-color: rgba(190,242,100,0.55);
    box-shadow: 0 0 18px rgba(190,242,100,0.18);
  }

  .pp-hh-pickNotice__cards{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.65rem;
    margin-bottom: 0.65rem;
  }

  .pp-hh-pickNotice__card{
    border-radius: 16px;
    border: 1px solid rgba(148,163,184,0.20);
    background: rgba(0,0,0,0.14);
    padding: 0.7rem 0.75rem;
    box-shadow: 0 10px 22px rgba(0,0,0,0.14);
    min-width: 0;
  }

  .pp-hh-pickNotice__card.is-filled{
    border-color: rgba(190,242,100,0.45);
    background: rgba(190,242,100,0.08);
  }

  .pp-hh-pickNotice__cardTag{
    font-weight: 950;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    font-size: 0.68rem;
    color: rgba(190,242,100,0.92);
    margin-bottom: 0.35rem;
  }

  .pp-hh-pickNotice__cardName{
    font-weight: 900;
    font-size: 0.9rem;
    color: var(--text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .pp-hh-pickNotice__hint{
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--text-medium);
  }
}

/* =========================================================
   Mobile Cart/About full-screen modal (uses existing markup)
   Desktop unaffected
   ========================================================= */
@media (max-width: 1023.98px){
  .pp-cart-fab{
    position: fixed;
    right: 1rem;
    bottom: calc(1rem + env(safe-area-inset-bottom));
    z-index: 60;
    padding: 0.75rem 1rem;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.28);
    background: rgba(15,23,42,0.55);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: var(--shadow-float);
    font-weight: 900;
    letter-spacing: 0.10em;
    text-transform: uppercase;
  }

  .pp-cart-modal{
    position: fixed;
    inset: 0;
    z-index: 1500;
    display: flex;
    align-items: stretch;
    justify-content: stretch;
  }

  .pp-cart-modal__backdrop{
    position: absolute;
    inset: 0;
    background: rgba(2, 6, 23, 0.66);
  }

  .pp-cart-modal__panel{
    position: relative;
    z-index: 1;
    width: 100%;
    height: 100vh;
    height: 100dvh;
    background: var(--pp-surface, var(--panel));
    padding: 1rem;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  /* Let the inside panel scroll naturally */
  .pp-cart-modal__panel .order-panel-container--mobileCart{
    flex: 1 1 auto;
    min-height: 0;
    height: 100%;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    position: relative;
    top: auto;
  }
}

@media (max-width: 1023.98px){
  .pp-topnav{
    padding: 0.45rem 0.7rem;
  }

  .pp-topnav__logoImg{ height: 2.05rem; }

  .pp-topnav__right{
    gap: 0.45rem !important;
  }

  .pp-topnav__iconBtn{
    width: 2.15rem;
    height: 2.15rem;
    border-radius: 999px;
    border: 1px solid var(--border-color);
    background: rgba(0,0,0,0.12);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1.05rem;
  }

  .pp-topnav__cartBtn{
    position: relative;
  }

  .pp-topnav__badge{
    position: absolute;
    top: -6px;
    right: -6px;
    min-width: 18px;
    height: 18px;
    padding: 0 5px;
    border-radius: 999px;
    background: var(--brand-neon-green);
    color: #0b1220;
    font-weight: 950;
    font-size: 0.7rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border: 1px solid rgba(0,0,0,0.18);
  }

  .pp-topnav__userBackdrop{
    position: fixed;
    inset: 0;
    z-index: 18;
    background: rgba(2, 6, 23, 0.18);
  }

  .pp-topnav__userDrawer{
    position: absolute;
    right: 0.6rem;
    top: calc(100% + 0.35rem);
    z-index: 19;
    width: min(240px, calc(100vw - 1.2rem));
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;
    transition: transform 220ms cubic-bezier(0.2, 0.8, 0.2, 1), opacity 180ms ease;
  }

  .pp-topnav__userDrawer.is-open{
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  .pp-topnav__userDrawerInner{
    border-radius: 16px;
    border: 1px solid var(--border-color);
    background: var(--pp-surface, var(--panel));
    box-shadow: var(--shadow-modal);
    padding: 0.5rem;
    display: grid;
    gap: 0.4rem;
  }

  .pp-topnav__drawerBtn{
    width: 100%;
    border-radius: 14px;
    border: 1px solid rgba(148,163,184,0.22);
    background: rgba(255,255,255,0.04);
    padding: 0.65rem 0.75rem;
    font-weight: 900;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    font-size: 0.78rem;
    justify-content: flex-start;
    gap: 0.55rem;
  }

  .pp-topnav__drawerBtn--danger{
    border-color: rgba(251,113,133,0.30);
    background: rgba(251,113,133,0.08);
  }
}

/* Meal Deal Half & Half: pick-halves stage uses the regular Menu grid inside the modal */
.pp-hh-mealPick{
  display: flex;
  flex-direction: column;
  min-height: 0;
  height: 100%;
  gap: 0.85rem;
}

.pp-hh-mealPickBody{
  flex: 1 1 auto;
  min-height: 0;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding-right: 0.25rem;
}

/* Tighten menu sections a touch inside the modal so it feels like a picker */
.pp-hh-mealPickBody .menu-category{
  margin-bottom: 1.25rem;
  padding: 0.9rem 0.9rem 1rem;
}
.pp-hh-mealPickBody .category-title{
  scroll-margin-top: 1rem;
}

/* Meal Deal Half & Half: full-screen mobile sheet (no scaling / no shrink) */
@media (max-width: 1023.98px){
  .pp-mealdeal-halfhalf--full{
    --pp-mealhh-scale: 1 !important;
    overflow: hidden !important;
  }

  .pp-mealdeal-halfhalf--full .pp-halfhalf-panel{
    transform: none !important;
    transform-origin: initial !important;
  }

  /* Picker stage uses Menu: make it scroll inside the sheet */
  .pp-mealdeal-halfhalf--full .pp-hh-mealPickBody{
    flex: 1 1 auto;
    min-height: 0;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* =========================================================
   Half & Half (MOBILE) -- single smooth scroll (final override)
   One scroll container: .pp-halfhalf-panel
   ========================================================= */
@media (max-width: 1023.98px){
  /* Don’t let the modal itself become the scroll container */
  .pp-halfhalf-modal__panel{
    overflow: hidden !important;
  }

  /* The panel is the ONLY scroll area */
  .pp-halfhalf-modal__panel .pp-halfhalf-panel{
    height: 100% !important;
    min-height: 0 !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  /* Body is content only (no inner scroll zone) */
  .pp-halfhalf-modal__panel .pp-halfhalf-body{
    overflow: visible !important;
  }

  /* Meal deal full-screen half/half uses the same rule */
  .pp-mealdeal-halfhalf--full{
    overflow: hidden !important;
  }
  .pp-mealdeal-halfhalf--full .pp-halfhalf-panel{
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;
  }
  .pp-mealdeal-halfhalf--full .pp-halfhalf-body{
    overflow: visible !important;
  }
}

/* =========================================================
   Half & Half -- GF toggle (shared settings)
   Clear + premium in both themes
   ========================================================= */
.pp-halfhalf-panel .pp-hh-gfToggle{
  width: 100%;
  min-height: 48px;
  padding: 0.55rem 0.95rem;

  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.28);

  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.55rem;

  font-weight: 950;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-size: 0.78rem;

  background:
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.12));
  box-shadow: 0 14px 34px rgba(0,0,0,0.14);

  color: var(--text-primary);
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease, filter 160ms ease;
}

.pp-halfhalf-panel .pp-hh-gfToggle:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.35);
  box-shadow: 0 18px 44px rgba(0,0,0,0.18);
}

.pp-halfhalf-panel .pp-hh-gfToggle:active{
  transform: translateY(0px) scale(0.99);
}

/* ON state */
.pp-halfhalf-panel .pp-hh-gfToggle.is-on{
  border-color: rgba(190,242,100,0.55);
  background:
    radial-gradient(900px 280px at 30% 10%, rgba(190,242,100,0.26), transparent 58%),
    linear-gradient(180deg, rgba(190,242,100,0.18), rgba(0,0,0,0.10));
  box-shadow:
    0 0 0 3px rgba(190,242,100,0.14),
    0 18px 44px rgba(0,0,0,0.20);
}

/* Light theme tweaks: keep it crisp on white */
[data-theme="light"] .pp-halfhalf-panel .pp-hh-gfToggle{
  background:
    linear-gradient(180deg, rgba(15,23,42,0.03), rgba(15,23,42,0.06));
  border-color: rgba(15,23,42,0.16);
  box-shadow: 0 14px 34px rgba(2,6,23,0.08);
}

[data-theme="light"] .pp-halfhalf-panel .pp-hh-gfToggle.is-on{
  border-color: rgba(22,163,74,0.28);
  background:
    radial-gradient(900px 280px at 30% 10%, rgba(22,163,74,0.18), transparent 58%),
    linear-gradient(180deg, rgba(22,163,74,0.08), rgba(15,23,42,0.03));
  box-shadow:
    0 0 0 3px rgba(22,163,74,0.12),
    0 14px 34px rgba(2,6,23,0.10);
}

/* =========================================================
   Half & Half -- Quantity control (shared settings)
   Matches GF toggle styling (both themes)
   ========================================================= */

.pp-halfhalf-panel .pp-hh-qtyRow{
  width: 100%;
  min-height: 52px;
  padding: 0.55rem 0.75rem;

  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.24);
  background:
    linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.10));
  box-shadow: 0 14px 34px rgba(0,0,0,0.12);

  display: grid;
  grid-template-columns: 1fr auto auto auto;
  align-items: center;
  gap: 0.65rem;
}

.pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyLabel{
  font-weight: 950;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-size: 0.72rem;
  color: var(--text-medium);
}

/* The +/- buttons */
.pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyBtn{
  width: 40px;
  height: 40px;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.22);
  background: rgba(0,0,0,0.14);
  color: var(--text-primary);
  font-weight: 950;
  font-size: 1.1rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.10);
  transition: transform 140ms ease, box-shadow 140ms ease, border-color 140ms ease;
}

.pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyBtn:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.35);
  box-shadow:
    0 10px 22px rgba(0,0,0,0.18),
    inset 0 1px 0 rgba(255,255,255,0.12);
}

.pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyBtn:active{
  transform: translateY(0) scale(0.99);
}

/* Quantity value */
.pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyValue{
  min-width: 46px;
  height: 40px;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.06);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 950;
  letter-spacing: 0.06em;
  color: var(--text-primary);
}

/* Light theme tuning */
[data-theme="light"] .pp-halfhalf-panel .pp-hh-qtyRow{
  background: linear-gradient(180deg, rgba(15,23,42,0.02), rgba(15,23,42,0.06));
  border-color: rgba(15,23,42,0.14);
  box-shadow: 0 14px 34px rgba(2,6,23,0.08);
}

[data-theme="light"] .pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyBtn{
  background: rgba(15,23,42,0.04);
  border-color: rgba(15,23,42,0.14);
}

[data-theme="light"] .pp-halfhalf-panel .pp-hh-qtyRow .pp-hh-qtyValue{
  background: rgba(255,255,255,0.7);
}

/* Meal Deal Half & Half (full-screen mobile): single-scroll mode */
@media (max-width: 1023.98px){
  .pp-mealdeal-halfhalf--full .pp-halfhalf-body{
    overflow: visible !important; /* prevent second scroll area */
  }

  .pp-mealdeal-halfhalf--full .pp-halfhalf-panel{
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  .pp-mealdeal-halfhalf--full .pp-halfhalf-cta{
    position: sticky;
    bottom: 0;
  }
}

/* =========================================================
   Meal Deal (DESKTOP) -- Half & Half overlay inside panel
   Gives HH editor priority over navigator/detail content
   ========================================================= */
@media (min-width: 1024px){
  .pp-md-hhOverlay--inpanel{
    position: absolute;
    inset: 0;
    z-index: 90;

    background: rgba(2, 6, 23, 0.55);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);

    display: flex;
    align-items: stretch;
    justify-content: center;

    padding: 1.25rem;
    overflow: hidden;
  }

  .pp-md-hhShell--inpanel{
    width: 100%;
    max-width: 980px;
    height: 100%;
    min-height: 0;

    display: flex;
    overflow: hidden;
  }

  .pp-md-hhShell--inpanel .pp-halfhalf-panel{
    height: 100% !important;
    min-height: 0;
  }
}

/* ---------- Neat Loading Screen ---------- */
.pp-loading-screen {
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px 16px;
  background:
    radial-gradient(80% 60% at 50% 30%, rgba(122, 162, 255, 0.12), transparent 60%),
    var(--bg);
}

.pp-loading-card {
  width: min(440px, 100%);
  border: 1px solid rgba(255, 255, 255, 0.08);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.02));
  border-radius: 18px;
  padding: 22px 18px;
  box-shadow: 0 18px 60px rgba(0, 0, 0, 0.35);
  text-align: center;
}

.pp-loading-brand {
  font-weight: 750;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-size: 12px;
  opacity: 0.7;
  margin-bottom: 12px;
}

.pp-loading-spinner {
  width: 42px;
  height: 42px;
  border-radius: 999px;
  border: 3px solid rgba(255, 255, 255, 0.14);
  border-top-color: var(--accent);
  margin: 0 auto 12px;
  animation: ppSpin 0.9s linear infinite;
}

@keyframes ppSpin {
  to { transform: rotate(360deg); }
}

.pp-loading-title {
  font-size: 16px;
  font-weight: 650;
}

.pp-loading-subtitle {
  margin-top: 6px;
  font-size: 13px;
  opacity: 0.7;
}

.pp-loading-bars {
  margin-top: 16px;
  display: grid;
  gap: 10px;
}

.pp-loading-bar {
  height: 10px;
  border-radius: 999px;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.06),
    rgba(255, 255, 255, 0.18),
    rgba(255, 255, 255, 0.06)
  );
  background-size: 220% 100%;
  animation: ppShimmer 1.2s ease-in-out infinite;
}

.pp-loading-bar:nth-child(2) { width: 88%; margin: 0 auto; }
.pp-loading-bar:nth-child(3) { width: 72%; margin: 0 auto; }

@keyframes ppShimmer {
  0% { background-position: 0% 0%; }
  100% { background-position: 200% 0%; }
}

@media (prefers-reduced-motion: reduce) {
  .pp-loading-spinner,
  .pp-loading-bar {
    animation: none;
  }
}

/* =========================================================
   MOBILE -- make menu feel fuller / closer to edges
   (put at VERY BOTTOM so it overrides duplicate mobile blocks)
   ========================================================= */
@media (max-width: 640px) {
  /* outer gutters */
  .app-grid-layout {
    padding-inline: 0.35rem !important;
    padding-block: 0.45rem !important;
  }

  /* main slab: reduce side padding */
  .main-content-area {
    padding-left: 0.35rem !important;
    padding-right: 0.35rem !important;
  }

  /* category "panel" is currently too padded */
  [data-theme='light'] .menu-category,
  [data-theme='dark'] .menu-category {
    padding: 0.55rem 0.55rem 0.75rem !important;
    border-radius: 14px !important;
  }

  /* tighten the grid so cards fill the row */
  .menu-grid {
    gap: 0.55rem !important;
  }

  /* slightly wider cards within the 2-col grid */
  .card-text-container {
    padding: 0.5rem !important;
  }

  .card-item-description {
    font-size: 0.76rem !important;
    line-height: 1.2 !important;
  }
}

/* =========================================================
   Mobile Bottom Nav (Menu / About / Profile)
   Desktop unchanged
   ========================================================= */
:root{
  --pp-bottomnav-h: 64px;
}

@media (max-width: 1023.98px){
  /* give the page room so content isn't hidden behind the bottom nav */
  .app-grid-layout{
    padding-bottom: calc(0.55rem + var(--pp-bottomnav-h) + env(safe-area-inset-bottom)) !important;
  }

  .pp-bottomnav{
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 58;

    height: calc(var(--pp-bottomnav-h) + env(safe-area-inset-bottom));
    padding-bottom: env(safe-area-inset-bottom);

    display: grid;
    grid-template-columns: repeat(3, 1fr);

    border-top: 1px solid var(--border-color);
    background: color-mix(in srgb, var(--pp-surface, var(--panel)) 86%, transparent);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
  }

  .pp-bottomnav__item{
    appearance: none;
    border: 0;
    background: transparent;
    color: var(--text-medium);

    display: grid;
    place-items: center;
    gap: 4px;

    padding: 10px 6px 8px;
    cursor: pointer;

    transition: transform 160ms var(--pp-ease, ease), color 180ms ease;
  }

  .pp-bottomnav__item:active{ transform: scale(0.98); }

  .pp-bottomnav__icon{
    font-size: 22px;
    line-height: 1;
    transform: translateY(0px) scale(1);
    transition: transform 220ms var(--pp-ease, ease);
  }

  .pp-bottomnav__label{
    font-size: 11px;
    font-weight: 850;
    letter-spacing: 0.02em;
  }

  .pp-bottomnav__item::after{
    content: "";
    height: 3px;
    width: 26px;
    border-radius: 999px;
    background: currentColor;
    opacity: 0;
    transform: translateY(4px);
    transition: opacity 200ms ease, transform 200ms ease;
  }

  .pp-bottomnav__item.is-active{
    color: #ef4444;
  }

  .pp-bottomnav__item.is-active .pp-bottomnav__icon{
    transform: translateY(-1px) scale(1.08);
  }

  .pp-bottomnav__item.is-active::after{
    opacity: 1;
    transform: translateY(2px);
  }

  /* Keep the cart FAB above the bottom nav */
  .pp-cart-fab{
    bottom: calc(1rem + var(--pp-bottomnav-h) + env(safe-area-inset-bottom)) !important;
    z-index: 60;
  }
}

/* =========================================================
   Mobile bottom nav: ALWAYS visible above overlays/modals
   ========================================================= */
@media (max-width: 1023.98px){
  .pp-bottomnav{
    z-index: 20000 !important;       /* above all modals */
    pointer-events: auto !important;
  }

  .pp-bottomnav *{
    pointer-events: auto !important;
  }

  /* keep the cart FAB behaving nicely too */
  .pp-cart-fab{
    z-index: 20010 !important;       /* above nav if needed */
  }
}

/* =========================================================
   Mobile header restyle (desktop unchanged)
   ========================================================= */
@media (max-width: 1023.98px){
  /* Make the sticky wrapper feel cleaner (floating bar inside) */
  .pp-topnav{
    padding: calc(0.55rem + env(safe-area-inset-top)) 0.55rem 0.55rem !important;
    border-bottom: none !important;
    background: transparent !important;
    box-shadow: none !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }

  .pp-topnav__row{
    border: 1px solid var(--border-color);
    border-radius: 18px;
    padding: 0.55rem 0.6rem;
    background: color-mix(in srgb, var(--panel) 88%, transparent);
    box-shadow: 0 14px 38px rgba(0,0,0,0.18);
  }

  .pp-topnav__mobileRow{
    display: grid;
    grid-template-columns: auto 1fr auto;
    align-items: center;
    gap: 0.65rem;
  }

  .pp-topnav__logo--center{
    justify-self: center;
  }

  .pp-topnav__logoImg{
    height: 34px;
    width: auto;
    display: block;
    border-radius: 10px;
  }

  /* Make the search button match the new header sizing */
  .pp-topnav__iconBtn--search{
    width: 2.35rem;
    height: 2.35rem;
    border-radius: 999px;
    background: rgba(255,255,255,0.08);
  }

  .pp-topnav__iconBtn--search.is-active{
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(120, 255, 120, 0.18);
  }

  /* Match theme toggle height to icon buttons */
  .pp-theme-toggle--compact{
    width: 2.35rem;
    min-width: 2.35rem;
    height: 2.35rem;
  }
}

/* =========================================================
   MOBILE HEADER (final) -- centered pill, neat spacing
   Paste at VERY BOTTOM so it overrides the duplicate mobile blocks
   ========================================================= */
@media (max-width: 1023.98px){

  /* Outer sticky bar = neutral (no giant pill) */
  .pp-topnav{
    padding: calc(0.45rem + env(safe-area-inset-top)) 0.6rem 0.45rem !important;
    background: transparent !important;
    border-bottom: none !important;
    box-shadow: none !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }

  /* Kill the gradient underline on mobile (cleaner now) */
  .pp-topnav::after{
    display: none !important;
  }

  /* Row should not be the pill */
  .pp-topnav__row{
    display: block !important;
    padding: 0 !important;
    border: none !important;
    background: transparent !important;
    box-shadow: none !important;
  }

  /* The pill is the mobile row */
  .pp-topnav__mobileRow{
    width: 100% !important;
    max-width: 560px;
    margin: 0 auto !important;

    display: grid !important;
    grid-template-columns: 44px 1fr 44px;
    align-items: center;
    gap: 0.65rem;

    padding: 0.55rem 0.6rem !important;
    border-radius: 18px !important;

    border: 1px solid var(--border-color) !important;
    background: color-mix(in srgb, var(--panel) 90%, transparent) !important;
    box-shadow: 0 14px 38px rgba(0,0,0,0.18) !important;
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
  }

  .pp-topnav__logo--center{
    justify-self: center !important;
  }

  .pp-topnav__logoImg{
    height: 32px !important;
    border-radius: 10px !important;
  }

  /* Make the two buttons match + feel premium */
  .pp-theme-toggle--compact,
  .pp-topnav__iconBtn--search{
    width: 44px !important;
    height: 44px !important;
    min-width: 44px !important;
    border-radius: 999px !important;
  }

  .pp-topnav__iconBtn--search{
    background: rgba(255,255,255,0.08) !important;
    border: 1px solid var(--border-color) !important;
  }
}

/* =========================================================
   Meal Deal (DESKTOP) -- HH overlay should fully take priority
   ========================================================= */
@media (min-width: 1024px){
  /* Make the overlay backdrop opaque (no overlap look) */
  .pp-md-hhOverlay--inpanel{
    background: var(--pp-surface, var(--panel)) !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }

  /* Subtle separation around the HH shell */
  .pp-md-hhShell--inpanel{
    border-radius: 22px;
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow-modal);
    overflow: hidden;
    background: var(--pp-surface, var(--panel));
  }

  /* While HH is open, dim + disable the underlying meal deal UI */
  .pp-md-root--hhopen .pp-md-head,
  .pp-md-root--hhopen .pp-md-steps,
  .pp-md-root--hhopen .pp-md-active,
  .pp-md-root--hhopen .pp-md-body,
  .pp-md-root--hhopen .cart-total-section{
    opacity: 0.12;
    pointer-events: none;
    user-select: none;
  }
}

/* =========================================
   Ashmore footer lockup -- FUTURISTIC / DYNAMIC
   ========================================= */

.ashmore-lockup{
  display: inline-flex;
  align-items: center;
  gap: 0.85rem;
  position: relative;

  padding: 12px 16px 12px;
  border-radius: 18px;

  /* sharper, "tech glass" plate */
  background:
    radial-gradient(140px 70px at 18% 35%, rgba(99,102,241,0.22), transparent 60%),
    radial-gradient(220px 90px at 80% 50%, rgba(34,211,238,0.18), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.18));

  border: 1px solid rgba(148,163,184,0.20);
  box-shadow:
    0 18px 56px rgba(0,0,0,0.22),
    0 0 0 3px rgba(34,211,238,0.10);

  overflow: hidden;
}

/* subtle scanline */
.ashmore-lockup::before{
  content: "";
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    180deg,
    rgba(255,255,255,0.045) 0px,
    rgba(255,255,255,0.045) 1px,
    rgba(0,0,0,0) 7px
  );
  opacity: 0.22;
  pointer-events: none;
}

/* angled "energy" underline */
.ashmore-lockup::after{
  content: "";
  position: absolute;
  left: 14px;
  right: 14px;
  bottom: 6px;
  height: 3px;
  border-radius: 999px;
  transform: skewX(-18deg);

  background: linear-gradient(
    90deg,
    rgba(34,211,238,0.0),
    rgba(34,211,238,0.85),
    rgba(99,102,241,0.75),
    rgba(34,211,238,0.0)
  );
  box-shadow: 0 0 22px rgba(34,211,238,0.22);
  opacity: 0.75;
  pointer-events: none;
}

.ashmore-lockup__mark{
  height: 36px;
  width: 36px;
  border-radius: 999px;
  display: block;

  /* "reactor core" ring */
  box-shadow:
    0 0 0 2px rgba(34,211,238,0.28),
    0 0 0 6px rgba(99,102,241,0.10),
    0 16px 34px rgba(0,0,0,0.22);

  filter:
    contrast(1.12)
    saturate(1.15);
  opacity: 0.98;
}

.ashmore-lockup__words{
  display: flex;
  flex-direction: column;
  line-height: 1.02;
  min-width: 0;
}

.ashmore-lockup__kicker{
  font-weight: 900;
  font-size: 0.62rem;
  letter-spacing: 0.26em;
  text-transform: uppercase;
  color: rgba(226,232,240,0.72);
}

/* FUTURISTIC wordmark feel: tighter + higher contrast */
.ashmore-lockup__brand{
  font-weight: 1000;
  font-size: 0.98rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(241,245,249,0.95);

  text-shadow:
    0 10px 24px rgba(0,0,0,0.22),
    0 0 18px rgba(34,211,238,0.10);
}

/* Replace "eco green" with cyan/violet energy */
.ashmore-lockup__co{
  color: rgba(34,211,238,0.95);
  text-shadow:
    0 0 20px rgba(34,211,238,0.22),
    0 0 34px rgba(99,102,241,0.12);
}

/* Light theme: keep it tech, not eco */
[data-theme="light"] .ashmore-lockup{
  background:
    radial-gradient(140px 70px at 18% 35%, rgba(99,102,241,0.16), transparent 60%),
    radial-gradient(220px 90px at 80% 50%, rgba(34,211,238,0.14), transparent 62%),
    linear-gradient(180deg, rgba(15,23,42,0.02), rgba(15,23,42,0.07));
  border-color: rgba(15,23,42,0.12);
  box-shadow:
    0 14px 40px rgba(2,6,23,0.10),
    0 0 0 3px rgba(34,211,238,0.08);
}

[data-theme="light"] .ashmore-lockup__kicker{
  color: rgba(15,23,42,0.55);
}
[data-theme="light"] .ashmore-lockup__brand{
  color: rgba(15,23,42,0.92);
  text-shadow: 0 10px 22px rgba(2,6,23,0.10);
}
[data-theme="light"] .ashmore-lockup__co{
  color: rgba(8,145,178,0.95); /* cyan */
  text-shadow:
    0 0 16px rgba(8,145,178,0.14),
    0 0 26px rgba(99,102,241,0.10);
}

/* =========================================
   Ashmore lockup — futuristic effects (hover + idle)
   ========================================= */

.ashmore-lockup{
  will-change: transform, box-shadow, filter;
  transform: translateZ(0);
}

/* Shimmer sweep layer (only visible on hover/focus) */
.ashmore-lockup .ashmore-lockup__sheen{
  display: none;
}

.ashmore-lockup::marker{}

/* Add a dedicated sheen overlay using ::before's scanlines + new ::after already used.
   We'll add a new sheen using a nested pseudo via background animation on the lockup itself. */
.ashmore-lockup{
  background-size: 100% 100%, 100% 100%, 100% 100%;
}

/* Reactor pulse on idle (subtle) */
@keyframes ashmoreReactorPulse{
  0%, 100% { box-shadow: 0 18px 56px rgba(0,0,0,0.22), 0 0 0 3px rgba(34,211,238,0.10); }
  50%      { box-shadow: 0 22px 70px rgba(0,0,0,0.26), 0 0 0 3px rgba(34,211,238,0.16); }
}

@keyframes ashmoreUnderlineFlow{
  0%   { transform: skewX(-18deg) translateX(-6%); opacity: 0.55; }
  50%  { transform: skewX(-18deg) translateX(6%);  opacity: 0.90; }
  100% { transform: skewX(-18deg) translateX(-6%); opacity: 0.55; }
}

@keyframes ashmoreScanDrift{
  0%   { transform: translateY(0px); opacity: 0.20; }
  50%  { transform: translateY(6px); opacity: 0.26; }
  100% { transform: translateY(0px); opacity: 0.20; }
}

/* Subtle idle motion (not cheesy) */
@media (prefers-reduced-motion: no-preference){
  .ashmore-lockup{
    animation: ashmoreReactorPulse 2.6s ease-in-out infinite;
  }

  .ashmore-lockup::after{
    animation: ashmoreUnderlineFlow 2.2s ease-in-out infinite;
  }

  .ashmore-lockup::before{
    animation: ashmoreScanDrift 3.4s ease-in-out infinite;
  }
}

/* Hover: “engine spin-up” + shimmer sweep + micro glitch */
@keyframes ashmoreSheenSweep{
  0%   { background-position: 0 0, 0 0, 0 0, -140% 0; }
  100% { background-position: 0 0, 0 0, 0 0, 140% 0; }
}

@keyframes ashmoreMicroGlitch{
  0%   { transform: translateZ(0) skewX(0deg); }
  20%  { transform: translateZ(0) skewX(-0.6deg); }
  40%  { transform: translateZ(0) skewX(0.6deg); }
  60%  { transform: translateZ(0) skewX(-0.3deg); }
  100% { transform: translateZ(0) skewX(0deg); }
}

.ashmore-lockup:hover,
.ashmore-lockup:focus-within{
  transform: translateY(-1px);
  box-shadow:
    0 26px 84px rgba(0,0,0,0.28),
    0 0 0 3px rgba(34,211,238,0.18),
    0 0 32px rgba(99,102,241,0.16);
}

/* Shimmer overlay using a new background layer */
.ashmore-lockup:hover{
  background-image:
    radial-gradient(140px 70px at 18% 35%, rgba(99,102,241,0.22), transparent 60%),
    radial-gradient(220px 90px at 80% 50%, rgba(34,211,238,0.18), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.18)),
    linear-gradient(
      120deg,
      rgba(34,211,238,0.00) 0%,
      rgba(34,211,238,0.22) 18%,
      rgba(241,245,249,0.16) 32%,
      rgba(99,102,241,0.18) 48%,
      rgba(34,211,238,0.00) 70%
    );
  background-size: 100% 100%, 100% 100%, 100% 100%, 220% 100%;
  background-position: 0 0, 0 0, 0 0, -140% 0;
  background-repeat: no-repeat;
  animation: ashmoreReactorPulse 1.6s ease-in-out infinite, ashmoreSheenSweep 900ms ease-out 1;
}

/* Techy “micro glitch” on the wordmark (hover only) */
.ashmore-lockup:hover .ashmore-lockup__brand{
  animation: ashmoreMicroGlitch 260ms ease-out 1;
  text-shadow:
    0 10px 24px rgba(0,0,0,0.22),
    0 0 18px rgba(34,211,238,0.18),
    1px 0 0 rgba(34,211,238,0.12),
    -1px 0 0 rgba(99,102,241,0.10);
}

/* Make the mark feel “powered” on hover */
.ashmore-lockup:hover .ashmore-lockup__mark{
  box-shadow:
    0 0 0 2px rgba(34,211,238,0.40),
    0 0 0 7px rgba(99,102,241,0.14),
    0 18px 46px rgba(0,0,0,0.26);
  filter: contrast(1.16) saturate(1.22);
}

/* Reduced motion: keep it static but still sharp */
@media (prefers-reduced-motion: reduce){
  .ashmore-lockup,
  .ashmore-lockup::after,
  .ashmore-lockup::before,
  .ashmore-lockup:hover,
  .ashmore-lockup:hover .ashmore-lockup__brand{
    animation: none !important;
    transition: none !important;
  }
}

/* =========================================================
   ORDER PANEL — polish pass (scoped to order sidebar/panel)
   ========================================================= */

.order-panel-container{
  border-radius: 22px;
  background:
    radial-gradient(720px 300px at 20% 0%, rgba(190,242,100,0.10), transparent 60%),
    radial-gradient(520px 260px at 85% 0%, rgba(251,113,133,0.06), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.10));
}

[data-theme="light"] .order-panel-container{
  background:
    radial-gradient(720px 300px at 20% 0%, rgba(22,163,74,0.10), transparent 60%),
    linear-gradient(180deg, rgba(15,23,42,0.02), rgba(15,23,42,0.06));
}

/* Title: tighter + more “product” */
.order-panel-container .panel-title{
  margin: 0 0 0.9rem;
  font-size: 1.35rem;
  letter-spacing: 0.08em;
}

/* Pickup/Delivery segmented control */
.order-panel-container .pp-orderTypeSwitch{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.55rem;
  padding: 0.45rem;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.20);
  background: rgba(0,0,0,0.14);
  box-shadow: var(--shadow-card);
  margin-bottom: 0.9rem;
}

[data-theme="light"] .order-panel-container .pp-orderTypeSwitch{
  background: rgba(15,23,42,0.03);
}

.order-panel-container .pp-orderTypeBtn{
  min-height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.04);
  color: var(--text-primary);
  font-weight: 950;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease, background 160ms ease;
}

.order-panel-container .pp-orderTypeBtn:hover{
  transform: translateY(-1px);
  box-shadow: var(--shadow-float);
  border-color: rgba(190,242,100,0.30);
}

.order-panel-container .pp-orderTypeBtn.is-active{
  border-color: rgba(190,242,100,0.55);
  background: linear-gradient(180deg, rgba(190,242,100,0.95), rgba(190,242,100,0.70));
  color: #0b1220;
  box-shadow: 0 18px 46px rgba(190,242,100,0.18);
}

[data-theme="light"] .order-panel-container .pp-orderTypeBtn.is-active{
  border-color: rgba(22,163,74,0.28);
  background: linear-gradient(180deg, #bbf7d0, #86efac);
  color: #0b1220;
}

/* Info box: make it feel like a proper “summary card” */
.order-panel-container .info-box{
  border-radius: 18px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(255,255,255,0.04);
  box-shadow: var(--shadow-card);
}

/* Cart list: nicer rhythm */
.order-panel-container .cart-items-list{
  display: flex;
  flex-direction: column;
  gap: 0.55rem;
  padding-right: 0.25rem;
}

/* Empty state */
.order-panel-container .pp-emptyCart{
  flex: 1 1 auto;
  margin: auto 0;
  padding: 1.2rem 1rem;
  border-radius: 18px;
  border: 1px dashed rgba(148,163,184,0.28);
  background: rgba(255,255,255,0.03);
  text-align: center;
}

.order-panel-container .pp-emptyCartTitle{
  font-weight: 950;
  letter-spacing: 0.08em;
}

.order-panel-container .pp-emptyCartSub{
  margin-top: 0.35rem;
  color: var(--text-medium);
  font-weight: 650;
}

/* Cart items */
.order-panel-container .cart-item{
  border-radius: 16px;
  border: 1px solid rgba(148,163,184,0.18);
  background: rgba(0,0,0,0.14);
  padding: 0.85rem 0.85rem;
  box-shadow: 0 12px 28px rgba(0,0,0,0.12);
}
[data-theme="light"] .order-panel-container .cart-item{
  background: rgba(15,23,42,0.03);
  box-shadow: 0 10px 22px rgba(2,6,23,0.08);
}
.order-panel-container .cart-item:hover{
  border-color: rgba(190,242,100,0.30);
  transform: translateY(-1px);
}

/* Footer (total + CTA) */
.order-panel-container .cart-total-section{
  border-top: 1px solid rgba(148,163,184,0.18);
  padding-top: 0.85rem;
}

.order-panel-container .total-price-display span:last-child{
  color: var(--brand-neon-green);
  text-shadow: 0 0 14px rgba(190,242,100,0.22);
}

/* =========================================================
   ORDER PANEL v2 (FINAL OVERRIDE)
   Scoped so it DOES NOT affect:
   - order-panel-container--detail
   - order-panel-container--mealdeal
   - order-panel-container--halfhalf
   ========================================================= */

.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf){
  border-radius: 22px !important;
  background:
    radial-gradient(720px 320px at 18% 0%, rgba(190,242,100,0.12), transparent 60%),
    radial-gradient(520px 260px at 82% 0%, rgba(251,113,133,0.08), transparent 58%),
    linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.12)) !important;
  border: 1px solid rgba(148,163,184,0.18) !important;
  box-shadow: var(--shadow-float) !important;
}

[data-theme="light"] .order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf){
  background:
    radial-gradient(720px 320px at 18% 0%, rgba(22,163,74,0.10), transparent 60%),
    linear-gradient(180deg, rgba(15,23,42,0.02), rgba(15,23,42,0.06)) !important;
  border-color: rgba(15,23,42,0.12) !important;
}

/* Title */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .panel-title{
  margin: 0 0 0.85rem !important;
  font-size: 1.45rem !important;
  letter-spacing: 0.10em !important;
}

/* Pickup/Delivery switch (keep what you have, but make it feel more "segmented") */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .pp-orderTypeSwitch{
  padding: 0.5rem !important;
  border-radius: 999px !important;
  background: rgba(0,0,0,0.12) !important;
  border: 1px solid rgba(148,163,184,0.18) !important;
  box-shadow: var(--shadow-card) !important;
}

[data-theme="light"] .order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .pp-orderTypeSwitch{
  background: rgba(15,23,42,0.03) !important;
}

/* Info box: make it a clean "summary card" */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .info-box{
  border-radius: 18px !important;
  border: 1px solid rgba(148,163,184,0.18) !important;
  background: rgba(255,255,255,0.04) !important;
  box-shadow: var(--shadow-card) !important;
}

/* Cart list becomes a proper "well" */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-items-list{
  border-radius: 18px !important;
  border: 1px dashed rgba(148,163,184,0.24) !important;
  background: rgba(0,0,0,0.08) !important;
  padding: 0.85rem !important;

  flex: 1 1 auto !important;
  min-height: 0 !important;
  overflow: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* Empty state: stop the massive dead space feeling */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .pp-emptyCart{
  margin: 0 !important;
  min-height: 220px !important;
  height: 100%;
  display: grid !important;
  place-items: center !important;

  border-radius: 16px !important;
  background:
    radial-gradient(520px 240px at 50% 0%, rgba(190,242,100,0.10), transparent 65%),
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.035) 0px,
      rgba(255,255,255,0.035) 2px,
      rgba(0,0,0,0) 8px
    ) !important;
}

/* Cart row: make it card-like (your later .cart-item rule was overwriting) */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-item{
  border: 1px solid rgba(148,163,184,0.18) !important;
  border-radius: 16px !important;
  background: rgba(255,255,255,0.04) !important;
  padding: 0.85rem 0.9rem !important;
  box-shadow: 0 12px 28px rgba(0,0,0,0.12) !important;
  border-bottom: 1px solid rgba(148,163,184,0.18) !important; /* keeps your divider feel but nicer */
}
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-item:hover{
  transform: translateY(-1px);
  border-color: rgba(190,242,100,0.30) !important;
}

/* Footer: cleaner, less "flat grey slab" */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-total-section{
  border-top: 1px solid rgba(148,163,184,0.18) !important;
  background:
    linear-gradient(180deg, rgba(0,0,0,0), rgba(15,23,42,0.10) 30%, rgba(15,23,42,0.16)) !important;
  padding-top: 0.9rem !important;
  padding-bottom: 0.85rem !important;
}
[data-theme="light"] .order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-total-section{
  background:
    linear-gradient(180deg, rgba(0,0,0,0), rgba(15,23,42,0.03) 30%, rgba(15,23,42,0.05)) !important;
}

/* Total line pop */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .total-price-display span:last-child{
  color: var(--brand-neon-green) !important;
  text-shadow: 0 0 14px rgba(190,242,100,0.22) !important;
}

/* =========================================================
   ORDER PANEL -- Bottom checkout bar upgrade (Voucher + Total + Continue)
   Final override (normal order panel only)
   ========================================================= */

.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-total-section{
  position: relative;
  margin-top: auto;

  border-top: 1px solid rgba(148,163,184,0.18) !important;
  border-radius: 18px !important;

  padding: 0.95rem 1rem 1rem !important;

  background:
    radial-gradient(700px 240px at 50% 0%, rgba(190,242,100,0.10), transparent 62%),
    radial-gradient(520px 220px at 85% 10%, rgba(251,113,133,0.08), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.14)) !important;

  box-shadow: 0 18px 56px rgba(0,0,0,0.18) !important;
}

/* Replace the old thick "line" look with a cleaner neon hairline */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .cart-total-section::before{
  height: 2px !important;
  margin-bottom: 0.8rem !important;
  opacity: 0.7 !important;
  border-radius: 999px !important;
}

/* Voucher dropdown header button (uses aria-expanded) */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf)
.cart-total-section button[aria-expanded]{
  border-radius: 16px !important;
  border: 1px solid rgba(148,163,184,0.22) !important;
  background: rgba(0,0,0,0.14) !important;
  box-shadow: 0 12px 28px rgba(0,0,0,0.14) !important;
}

[data-theme="light"] .order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf)
.cart-total-section button[aria-expanded]{
  background: rgba(15,23,42,0.03) !important;
  box-shadow: 0 10px 22px rgba(2,6,23,0.08) !important;
}

/* The caret bubble on the voucher row */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf)
.cart-total-section button[aria-expanded] [aria-hidden="true"]{
  border-radius: 999px !important;
  border-color: rgba(148,163,184,0.22) !important;
  background: rgba(255,255,255,0.05) !important;
}

/* Total row: more premium + readable */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .total-price-display{
  margin: 0.8rem 0 0.85rem !important;
  padding: 0.85rem 0.9rem !important;

  border-radius: 16px !important;
  border: 1px solid rgba(148,163,184,0.18) !important;
  background: rgba(0,0,0,0.12) !important;
}

[data-theme="light"] .order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf) .total-price-display{
  background: rgba(15,23,42,0.03) !important;
}

.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf)
.total-price-display span:first-child{
  font-size: 0.72rem !important;
  letter-spacing: 0.18em !important;
  text-transform: uppercase !important;
  color: rgba(251,113,133,0.95) !important;
}

.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf)
.total-price-display span:last-child{
  font-size: 1.65rem !important;
  font-weight: 950 !important;
  letter-spacing: 0.02em !important;
  color: var(--brand-neon-green) !important;
  text-shadow: 0 0 18px rgba(190,242,100,0.22) !important;
}

/* Continue button: make disabled state look intentional (not "grey and dead") */
.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf)
.cart-total-section .place-order-button{
  margin-top: 0.25rem !important;
  border-radius: 16px !important;
  font-weight: 950 !important;
  letter-spacing: 0.14em !important;
  text-transform: uppercase !important;
}

.order-panel-container:not(.order-panel-container--detail):not(.order-panel-container--mealdeal):not(.order-panel-container--halfhalf)
.cart-total-section .place-order-button:disabled{
  opacity: 1 !important;
  cursor: not-allowed !important;
  color: rgba(148,163,184,0.95) !important;

  background:
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.16)) !important;
  border: 1px dashed rgba(148,163,184,0.28) !important;
  box-shadow: none !important;
  filter: none !important;
}

/* =========================================================
   Meal Deal (DESKTOP) -- center Half & Half editor correctly
   (PC only, mobile unchanged)
   ========================================================= */
@media (min-width: 1024px){
  .pp-md-hhOverlay--inpanel{
    /* Center the editor shell, not stretch it */
    align-items: center !important;
    justify-content: center !important;

    /* Slightly tighter padding so the card sits visually centered */
    padding: 1rem !important;
  }

  .pp-md-hhShell--inpanel{
    /* Sensible width inside the right panel */
    width: min(860px, 100%) !important;
    max-width: min(860px, 100%) !important;

    /* True centering inside overlay */
    margin: 0 auto !important;

    /* Make sure the panel content fills the shell */
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important;
  }

  .pp-md-hhShell--inpanel .pp-halfhalf-panel{
    width: 100% !important;
  }
}

@media (max-width: 1023.98px){
  /* small breathing room between header pill and the sticky category nav */
  .pp-topnav{
    padding-bottom: 0.65rem !important;
  }
}

/* =========================================================
   MOBILE: prevent sticky category nav overlapping header
   ========================================================= */
@media (max-width: 1023.98px){
  :root{
    /* header pill total occupied height (tuned) */
    --pp-mobile-header-offset: 76px;
    --pp-mobile-header-gap: 1px;
  }

  /* This is the sticky category chips bar */
  .quick-nav-container{
    top: calc(var(--pp-mobile-header-offset) + var(--pp-mobile-header-gap) + env(safe-area-inset-top)) !important;
  }
}

/* =========================================================
   ItemDetailPanel close button -- make it obvious on photos
   ========================================================= */
.detail-panel > button.quantity-btn[title="Close"]{
  width: 46px !important;
  height: 46px !important;

  /* strong contrast bubble */
  background: rgba(2, 6, 23, 0.78) !important;
  border: 1px solid rgba(255,255,255,0.22) !important;

  box-shadow:
    0 14px 34px rgba(0,0,0,0.42),
    0 0 0 3px rgba(0,0,0,0.18) !important;

  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Light mode still needs a dark bubble over bright images */
html[data-theme="light"] .detail-panel > button.quantity-btn[title="Close"]{
  background: rgba(15, 23, 42, 0.86) !important;
  border-color: rgba(255,255,255,0.28) !important;
}

/* Make the X itself brighter/thicker */
.detail-panel > button.quantity-btn[title="Close"]::before,
.detail-panel > button.quantity-btn[title="Close"]::after{
  height: 2.5px !important;
  width: 18px !important;
  background: rgba(255,255,255,0.96) !important;
}

/* Hover / focus feel */
.detail-panel > button.quantity-btn[title="Close"]:hover{
  transform: translateY(-1px) scale(1.06) !important;
  border-color: rgba(190,242,100,0.55) !important;
  box-shadow:
    0 16px 40px rgba(0,0,0,0.46),
    0 0 0 3px rgba(190,242,100,0.18) !important;
}

.detail-panel > button.quantity-btn[title="Close"]:focus-visible{
  outline: none !important;
  box-shadow:
    0 0 0 3px rgba(190,242,100,0.22),
    0 0 0 1px rgba(190,242,100,0.40),
    0 16px 40px rgba(0,0,0,0.46) !important;
}

/* =========================================================
   Mobile QuickNav: sticky + truly swipeable
   ========================================================= */
@media (max-width: 1023.98px){
  .quick-nav-container{
    position: sticky !important;
    z-index: 40 !important;

    /* keep your existing top logic, but ensure it always applies */
    top: calc(var(--pp-mobile-header-offset, 82px) + 4px + env(safe-area-inset-top)) !important;

    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
    touch-action: pan-x;
    overscroll-behavior-x: contain;
  }
}
